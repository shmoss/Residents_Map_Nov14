/**starr
 * @author Starr
 */

function createMap() {
    /* Map of GeoJSON data from MegaCities.geojson */
    var statesData;
    var worldCountries;
    var GE_Countries = L.geoJson(GE_Countries);
    var GE_Cities = L.geoJson(GE_Cities);
    var map = L.map('map', {
        //set geographic center
        center: [41.4, -110],
        //set initial zoom level
        zoom: 4,
        maxZoom: 20,
        minZoom: 2
    });
    var attribute;
    var attributes;
    var legendControl;
    var index;
    var response;
    var popupContent;
    var IndexCounter = 0; //tracks attribute being mapped
    var geoJsonLayers = {};
    var index;
    console.log(index)
    console.log(legendControl)

    var legend1972 = L.control({position: 'bottomleft'});
        legend1972.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info legend');
            div.innerHTML += 1972
            return div;
        };
        
        

        var legend1973 = L.control({position: 'bottomleft'});
        legend1973.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info legend');
            div.innerHTML += 1973
            return div;
        };

        var legend1974 = L.control({position: 'bottomleft'});
        legend1974.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info legend');
            div.innerHTML += 1974
            return div;
        };

        var legend1975 = L.control({position: 'bottomleft'});
        legend1975.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info legend');
            div.innerHTML += 1975
            return div;
        };

        var legend1976 = L.control({position: 'bottomleft'});
        legend1976.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info legend');
            div.innerHTML += 1976
            return div;
        };

        var legend1977 = L.control({position: 'bottomleft'});
        legend1977.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info legend');
            div.innerHTML += 1977
            return div;
        };

        var legend1978 = L.control({position: 'bottomleft'});
        legend1978.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info legend');
            div.innerHTML += 1978
            return div;
        };

        var legend1979 = L.control({position: 'bottomleft'});
        legend1979.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info legend');
            div.innerHTML += 1979
            return div;
        };

        var legend1980 = L.control({position: 'bottomleft'});
        legend1980.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info legend');
            div.innerHTML += 1980
            return div;
        };

        var legend1981 = L.control({position: 'bottomleft'});
        legend1981.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info legend');
            div.innerHTML += 1981
            return div;
        };

        var legend1982 = L.control({position: 'bottomleft'});
        legend1982.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info legend');
            div.innerHTML += 1982
            return div;
        };

        var legend1983 = L.control({position: 'bottomleft'});
        legend1983.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info legend');
            div.innerHTML += 1983
            return div;
        };

        var legend1984 = L.control({position: 'bottomleft'});
        legend1984.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info legend');
            div.innerHTML += 1984
            return div;
        };

        var legend1985 = L.control({position: 'bottomleft'});
        legend1985.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info legend');
            div.innerHTML += 1985
            return div;
        };

        var legend1986 = L.control({position: 'bottomleft'});
        legend1986.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info legend');
            div.innerHTML += 1986
            return div;
        };

        var legend1987 = L.control({position: 'bottomleft'});
        legend1987.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info legend');
            div.innerHTML += 1987
            return div;
        };

        var legend1988 = L.control({position: 'bottomleft'});
        legend1988.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info legend');
            div.innerHTML += 1988
            return div;
        };

        var legend1989 = L.control({position: 'bottomleft'});
        legend1989.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info legend');
            div.innerHTML += 1989
            return div;
        };

        var legend1990 = L.control({position: 'bottomleft'});
        legend1990.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info legend');
            div.innerHTML += 1990
            return div;
        };

        var legend1991 = L.control({position: 'bottomleft'});
        legend1991.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info legend');
            div.innerHTML += 1991
            return div;
        };

        var legend1992 = L.control({position: 'bottomleft'});
        legend1992.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info legend');
            div.innerHTML += 1992
            return div;
        };

        var legend1993 = L.control({position: 'bottomleft'});
        legend1993.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info legend');
            div.innerHTML += 1993
            return div;
        };

        var legend1994 = L.control({position: 'bottomleft'});
        legend1994.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info legend');
            div.innerHTML += 1994
            return div;
        };

        var legend1995 = L.control({position: 'bottomleft'});
        legend1995.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info legend');
            div.innerHTML += 1995
            return div;
        };

        var legend1996 = L.control({position: 'bottomleft'});
        legend1996.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info legend');
            div.innerHTML += 1996
            return div;
        };

        var legend1997 = L.control({position: 'bottomleft'});
        legend1997.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info legend');
            div.innerHTML += 1997
            return div;
        };

        var legend1998 = L.control({position: 'bottomleft'});
        legend1998.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info legend');
            div.innerHTML += 1998
            return div;
        };

        var legend1999 = L.control({position: 'bottomleft'});
        legend1999.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info legend');
            div.innerHTML += 1999
            return div;
        };

        var legend2000 = L.control({position: 'bottomleft'});
        legend2000.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info legend');
            div.innerHTML += 2000
            return div;
        };
        
        var legend2001 = L.control({position: 'bottomleft'});
        legend2001.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info legend');
            div.innerHTML += 2001
            return div;
        };

        var legend2002 = L.control({position: 'bottomleft'});
        legend2002.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info legend');
            div.innerHTML += 2002
            return div;
        };

        var legend2003 = L.control({position: 'bottomleft'});
        legend2003.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info legend');
            div.innerHTML += 2003
            return div;
        };

        var legend2004 = L.control({position: 'bottomleft'});
        legend2004.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info legend');
            div.innerHTML += 2004
            return div;
        };

        var legend2005 = L.control({position: 'bottomleft'});
        legend2005.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info legend');
            div.innerHTML += 2005
            return div;
        };

        var legend2006 = L.control({position: 'bottomleft'});
        legend2006.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info legend');
            div.innerHTML += 2006
            return div;
        };

        var legend2007 = L.control({position: 'bottomleft'});
        legend2007.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info legend');
            div.innerHTML += 2007
            return div;
        };

        var legend2008 = L.control({position: 'bottomleft'});
        legend2008.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info legend');
            div.innerHTML += 2008
            return div;
        };

        var legend2009 = L.control({position: 'bottomleft'});
        legend2009.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info legend');
            div.innerHTML += 2009
            return div;
        };

        var legend2010 = L.control({position: 'bottomleft'});
        legend2010.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info legend');
            div.innerHTML += 2010
            return div;
        };

        var legend2011 = L.control({position: 'bottomleft'});
        legend2011.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info legend');
            div.innerHTML += 2011
            return div;
        };

        var legend2012 = L.control({position: 'bottomleft'});
        legend2012.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info legend');
            div.innerHTML += 2012
            return div;
        };

        var legend2013 = L.control({position: 'bottomleft'});
        legend2013.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info legend');
            div.innerHTML += 2013
            return div;
        };

        var legend2014 = L.control({position: 'bottomleft'});
        legend2014.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info legend');
            div.innerHTML += 2014
            return div;
        };

        var legend2015 = L.control({position: 'bottomleft'});
        legend2015.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info legend');
            div.innerHTML += 2015
            return div;
        };
 


    //defining the other base maps to switch too
  

//     var timeSlider = d3.select('#slider7').call(d3.slider().axis(true).min(1970).max(2000).step(1));
//     timeSlider.on("slide", function () {
//         console.log(this.value)
//         console.log("slidey")
//     });
// timeSlider.addTo(map)


// function createSliderUI(timestamps) {
//     2
//     3		var sliderControl = L.control({ position: ‘bottomleft’} );
//     4
//     5		sliderControl.onAdd = function(map) {
//         6
//         7			var slider = L.DomUtil.create(“input”, “range-slider”);
//         8
//         9			L.DomEvent.addListener(slider, ‘mousedown’, function(e) {
//             10				L.DomEvent.stopPropagation(e);
//             11			});
//         12
//         13			$(slider)
//         14				.attr({‘type’:’range’,
//         15					‘max’: 2014,
//             16					‘min’: 1970,
//             17					‘step’: 1,
//             18					‘value’: String(timestamps[0])})
//         19		  		.on(‘input change’, function() {
//             20		  		updatePropSymbols($(this).val().toString());
//             21		  			$(“.temporal-legend”).text(this.value);
//             22		  	});
//         23			return slider;
//         24		}
//     25
//     26		sliderControl.addTo(map)
//     27		createTemporalLegend(timestamps[0]);
//     28	}


//add OSM base tilelayer
    L.tileLayer('http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png', {
        //set attribute info (source)
        attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap contributors</a>'
        //and add it to map

    }).addTo(map);
    // L.geoJson(worldCountries).addTo(map);
    console.log(GE_Countries);

    //call getData function- will add our MegaCities data to the map
    //getResidentsData(map);
    //getWorldData(map)
    //getFellowsData(map)
    //getResidentsFellowsData(map)

    //getFacultyData(map)

    console.log(GE_Countries);
    console.log(GE_Cities);
    console.log;


//calculate the radius of each proportional symbol
    function calcPropRadius(attValue) {
        //scale factor to adjust symbol size evenly
        var scaleFactor = 50;
        //area based on attribute value and scale factor
        var area = attValue * scaleFactor*2;
        //radius calculated based on area
        var radius = Math.sqrt(area / Math.PI);

        return radius;
    }

//Create popups with attribute information, based on raw and normalized attributes
    function createPopup(properties, attribute, layer, radius) {
        //add city to popup content string
        var popupContent = '<h3>' + "Name: " + properties.info_firstName + " " + properties.info_lastName + '</h3>';
        //add formatted attribute to panel content

        popupContent += "<p><b>Date of Graduation:</b> " + properties.info_date + "</p>" + "<p><b>Specialty:</b> " + properties.info_fellowshipSection + "</p>"+ "<p><b>Current City:</b> " + properties.info_city + ", " + properties.info_state + "</p>"+ "<p><b>Current Institution:</b> " + properties.info_institution
                    + "</p>" + "<p><b>Current Position:</b> " + properties.info_position

        //replace the layer popup
        layer.bindPopup(popupContent, {
            offset: new L.Point(0, -radius)
        });
    }

//convert geojson markers to circle markers
    function pointToLayer(feature, latlng, attributes, color) {
        attribute = attributes[23];
        //console.log(attribute)


        //console.log(attributes)
        //create marker style
        var options = {
            fillColor: color,
            color: "#666600",
            weight: 1.6,
            opacity: .7,
            fillOpacity: .5
        };

        //For each feature, determine its value for the selected attribute
        var attValue = Number(feature.properties[attribute]);

        //Give each feature's circle marker a radius based on its attribute value
        options.radius = calcPropRadius(attValue);

        //create circle marker layer
        var layer = L.circleMarker(latlng, options);

        createPopup(feature.properties, attribute, layer, options.radius);

        layer.on({
            mouseover: function () {
                this.openPopup();
            },
            mouseout: function () {
                this.closePopup();
            },
            click: function () {
                $("#panel").html(popupContent);
            }
        });


        return layer;
    }

//we'll create a Leaflet GeoJSON layer and add it to map, taking "response" data as parameter
    function createPropSymbols(data, map, attribute, layername, color) {
        var layer = L.geoJson(data, {
            //create a layer from original geojson points
            pointToLayer: function (feature, latlng) {
                //instead of markers, we want circles, so we return the geojsonMarkerOptions function with circle specs
                return pointToLayer(feature, latlng, attributes, color);
            }
            //now, we need to add the circle layer to the map
        }).addTo(map);
        geoJsonLayers[layername] = layer;
        console.log(layer);
        return layer

    }

    function processData(data) {
        //empty array to hold attributes
        attributes = [];

        //properties of the first feature in the dataset
        var properties = data.features[0].properties;

        //push each attribute name into attributes array
        for (var attribute in properties) {
            //only take attributes with population values
            if (attribute.indexOf("info") > -1) {
                attributes.push(attribute);
            }
        }
        console.log(attributes);
        return attributes;
    }

    function getResidentsData(map) {
        console.log(index)
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residents", "yellow");

                console.log(attributes);
                return response

            }
        });
    }


    function getResidentsData1971(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_1971.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residents_1971", "green");

                console.log(attributes);
                return response

            }
        });
    }

    function getResidentsData1973(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_1973.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residents_1973", "green");

                console.log(attributes);
                return response

            }
        });
    }

    function getResidentsData1984(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_1984.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residents_1984", "green");

                console.log(attributes);
                return response

            }
        });
    }

    function getResidentsData1989(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_1989.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residents_1989", "green");

                console.log(attributes);
                return response

            }
        });
    }

    function getResidentsData1990(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_1990.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residents_1990", "green");

                console.log(attributes);
                return response

            }
        });
    }

    function getResidentsData1991(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_1991.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residents_1991", "green");

                console.log(attributes);
                return response

            }
        });
    }

    function getResidentsData1992(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_1992.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residents_1992", "green");

                console.log(attributes);
                return response

            }
        });
    }

    function getResidentsData1993(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_1993.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residents_1993", "green");

                console.log(attributes);
                return response

            }
        });
    }

    function getResidentsData1994(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_1994.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residents_1994", "green");

                console.log(attributes);
                return response

            }
        });
    }

    function getResidentsData1995(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_1995.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residents_1995", "green");

                console.log(attributes);
                return response

            }
        });
    }

    function getResidentsData1996(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_1996.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residents_1996", "green");

                console.log(attributes);
                return response

            }
        });
    }

    function getResidentsData1997(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_1997.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residents_1997", "green");

                console.log(attributes);
                return response

            }
        });
    }

    function getResidentsData1998(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_1998.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residents_1998", "green");

                console.log(attributes);
                return response

            }
        });
    }

    function getResidentsData1999(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_1999.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residents_1999", "green");

                console.log(attributes);
                return response

            }
        });
    }

    function getResidentsData2000(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_2000.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residents_2000", "green");

                console.log(attributes);
                return response

            }
        });
    }

    function getResidentsData2002(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_2002.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residents_2002", "green");

                console.log(attributes);
                return response

            }
        });
    }

    function getResidentsData2003(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_2003.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residents_2003", "green");

                console.log(attributes);
                return response

            }
        });
    }

    function getResidentsData2004(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_2004.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residents_2004", "green");

                console.log(attributes);
                return response

            }
        });
    }

    function getResidentsData2005(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_2005.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residents_2005", "green");

                console.log(attributes);
                return response

            }
        });
    }

    function getResidentsData2006(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_2006.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residents_2006", "green");

                console.log(attributes);
                return response

            }
        });
    }

    function getResidentsData2008(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_2008.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residents_2008", "green");

                console.log(attributes);
                return response

            }
        });
    }

    function getResidentsData2009(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_2009.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residents_2009", "green");

                console.log(attributes);
                return response

            }
        });
    }

    function getResidentsData2010(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_2010.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residents_2010", "green");

                console.log(attributes);
                return response

            }
        });
    }

    function getResidentsData2011(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_2011.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residents_2011", "green");

                console.log(attributes);
                return response

            }
        });
    }

    function getResidentsData2013(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_2013.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residents_2013", "green");

                console.log(attributes);
                return response

            }
        });
    }

    function getResidentsData2014(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_2014.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residents_2014", "green");

                console.log(attributes);
                return response

            }
        });
    }


    function getFellowsData(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/fellows_dateString2.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "fellows", "blue");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getFellowsData1978(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/fellows_1978.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "fellows_1978", "blue");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getFellowsData1982(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/fellows_1982.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "fellows_1982", "blue");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getFellowsData1983(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/fellows_1983.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "fellows_1983", "blue");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getFellowsData1985(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/fellows_1985.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "fellows_1985", "blue");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getFellowsData1986(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/fellows_1986.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "fellows_1986", "blue");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getFellowsData1987(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/fellows_1987.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "fellows_1987", "blue");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getFellowsData1988(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/fellows_1988.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "fellows_1988", "blue");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getFellowsData1989(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/fellows_1989.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "fellows_1989", "blue");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getFellowsData1990(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/fellows_1990.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "fellows_1990", "blue");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getFellowsData1991(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/fellows_1991.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "fellows_1991", "blue");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getFellowsData1992(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/fellows_1992.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "fellows_1992", "blue");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getFellowsData1993(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/fellows_1993.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "fellows_1993", "blue");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getFellowsData1994(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/fellows_1994.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "fellows_1994", "blue");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getFellowsData1995(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/fellows_1995.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "fellows_1995", "blue");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getFellowsData1996(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/fellows_1996.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "fellows_1996", "blue");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getFellowsData1997(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/fellows_1997.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "fellows_1997", "blue");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getFellowsData1998(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/fellows_1998.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "fellows_1998", "blue");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getFellowsData1999(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/fellows_1999.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "fellows_1999", "blue");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getFellowsData2000(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/fellows_2000.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "fellows_2000", "blue");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getFellowsData2001(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/fellows_2001.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "fellows_2001", "blue");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getFellowsData2002(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/fellows_2002.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "fellows_2002", "blue");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getFellowsData2003(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/fellows_2003.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "fellows_2003", "blue");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getFellowsData2004(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/fellows_2004.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "fellows_2004", "blue");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getFellowsData2005(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/fellows_2005.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "fellows_2005", "blue");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getFellowsData2006(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/fellows_2006.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "fellows_2006", "blue");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getFellowsData2007(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/fellows_2007.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "fellows_2007", "blue");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getFellowsData2008(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/fellows_2008.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "fellows_2008", "blue");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getFellowsData2009(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/fellows_2009.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "fellows_2009", "blue");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getFellowsData2010(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/fellows_2010.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "fellows_2010", "blue");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getFellowsData2011(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/fellows_2011.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "fellows_2011", "blue");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getFellowsData2012(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/fellows_2012.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "fellows_2012", "blue");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getFellowsData2013(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/fellows_2013.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "fellows_2013", "blue");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getFellowsData2014(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/fellows_2014.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "fellows_2014", "blue");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getFellowsData2015(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/fellows_2015.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "fellows", "blue");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getResidentsFellowsData(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_fellows.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                attributes = processData(response);
                createPropSymbols(response, map, attributes, "residentsFellows", "red");
                console.log(response);
                return response

            }
        });
    }

    function getResidentsFellowsData1981(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_fellows_1981.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residentsFellows_1981", "red");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

      function getResidentsFellowsData1982(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_fellows_1982.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residentsFellows_1982", "red");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getResidentsFellowsData1990(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_fellows_1990.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residentsFellows_1990", "red");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getResidentsFellowsData1991(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_fellows_1991.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residentsFellows_1991", "red");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getResidentsFellowsData1995(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_fellows_1995.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residentsFellows_1995", "red");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getResidentsFellowsData1996(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_fellows_1996.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residentsFellows_1996", "red");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getResidentsFellowsData1997(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_fellows_1997.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residentsFellows_1997", "red");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getResidentsFellowsData1998(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_fellows_1998.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residentsFellows_1998", "red");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getResidentsFellowsData1999(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_fellows_1999.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residentsFellows_1999", "red");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getResidentsFellowsData2003(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_fellows_2003.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residentsFellows_2003", "red");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getResidentsFellowsData2004(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_fellows_2004.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residentsFellows_2004", "red");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getResidentsFellowsData2005(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_fellows_2005.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residentsFellows_2005", "red");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getResidentsFellowsData2006(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_fellows_2006.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residentsFellows_2006", "red");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getResidentsFellowsData2007(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_fellows_2007.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residentsFellows_2007", "red");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getResidentsFellowsData2008(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_fellows_2008.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residentsFellows_2008", "red");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getResidentsFellowsData2009(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_fellows_2009.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residentsFellows_2009", "red");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getResidentsFellowsData2010(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_fellows_2010.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residentsFellows_2010", "red");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getResidentsFellowsData2011(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_fellows_2011.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residentsFellows_2011", "red");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getResidentsFellowsData2012(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_fellows_2012.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residentsFellows_2012", "red");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getResidentsFellowsData2013(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_fellows_2013.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residentsFellows_2013", "red");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }

    function getResidentsFellowsData2014(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/residents_fellows_2014.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                console.log("successful");
                attributes = processData(response);
                //call function to create proportional symbols
                createPropSymbols(response, map, attributes, "residentsFellows_2014", "red");
                console.log(geoJsonLayers.fellows._layers.features);
                console.log(response);
                return response

            }
        });
    }
    function getFacultyData(map) {
        //ajax function to get MegaCities data layer loaded into map
        $.ajax("data/faculty.GeoJSON", {
            //datatype specified
            dataType: "json",
            //upon success, call the following function
            success: function (response) {
                attributes = processData(response);
                createPropSymbols(response, map, attributes, "faculty", "red");
                console.log(response);
                return response

            }
        });
    }

    console.log("this is a test");
//function to determine whether or not to show raw or normalized attribute
    function selectValues(map) {
        //create "raw" and "normalized" buttons
        // $('#panel').append('<input type="checkbox" class="Cities" value="true" checked="checked" style="-moz-box-shadow: 0px 10px 14px -7px #383838; -webkit-box-shadow: 0px 10px 14px -7px #383838; box-shadow: 0px 10px 14px -7px #383838; background-color:#FFF; -moz-border-radius:8px; -webkit-border-radius:8px; border-radius:8px; display:inline-block; cursor:pointer; color:#000000; font-family:avenir; font-size:4px; font-weight:bold; padding:8px 14px; text-decoration:none;">Show US Cities</button>');
        // $('#panel').append('<button class="Countries" style="-moz-box-shadow: 0px 10px 14px -7px #383838; -webkit-box-shadow: 0px 10px 14px -7px #383838; box-shadow: 0px 10px 14px -7px #383838; background-color:#FFF; -moz-border-radius:8px; -webkit-border-radius:8px; border-radius:8px; display:inline-block; cursor:pointer; color:#000000; font-family:avenir; font-size:14px; font-weight:bold; padding:8px 14px; text-decoration:none;">Show Global</button>');

        // //If normalized button hit, call function
        // $(".Cities").change(function () {
        //     console.log("cities");
        //     if($(this).is(':checked')) {
        //         getFellowsData1978(map)
        //         getFellowsData1982(map)
        //         getFellowsData1983(map)
        //         // //getFellowsData1984(map)
        //         getFellowsData1985(map)
        //         getFellowsData1986(map)
        //         getFellowsData1987(map)
        //         getFellowsData1988(map)
        //         getFellowsData1989(map)
        //         getFellowsData1990(map)
        //         getFellowsData1991(map)
        //         getFellowsData1992(map)
        //         getFellowsData1993(map)
        //         getFellowsData1994(map)
        //         getFellowsData1995(map)
        //         getFellowsData1996(map)
        //         getFellowsData1997(map)
        //         getFellowsData1998(map)
        //         getFellowsData1999(map)
        //         getFellowsData2000(map)
        //         getFellowsData2001(map)
        //         getFellowsData2002(map)
        //         getFellowsData2003(map)
        //         getFellowsData2004(map)
        //         getFellowsData2005(map)
        //         getFellowsData2006(map)
        //         getFellowsData2007(map)
        //         getFellowsData2008(map)
        //         getFellowsData2009(map)
        //         getFellowsData2010(map)
        //         getFellowsData2011(map)
        //         getFellowsData2012(map)
        //         getFellowsData2013(map)
        //         getFellowsData2014(map)
        //     } else {
        //         map.removeLayer(geoJsonLayers.fellows_1978)
        //         map.removeLayer(geoJsonLayers.fellows_1982)
        //         map.removeLayer(geoJsonLayers.fellows_1983)
        //         // map.removeLayer(geoJsonLayers.fellows_1984)
        //         map.removeLayer(geoJsonLayers.fellows_1985)
        //         map.removeLayer(geoJsonLayers.fellows_1986)
        //         map.removeLayer(geoJsonLayers.fellows_1987)
        //         map.removeLayer(geoJsonLayers.fellows_1988)
        //         map.removeLayer(geoJsonLayers.fellows_1989)
        //         map.removeLayer(geoJsonLayers.fellows_1990)
        //         map.removeLayer(geoJsonLayers.fellows_1991)
        //         map.removeLayer(geoJsonLayers.fellows_1992)
        //         map.removeLayer(geoJsonLayers.fellows_1993)
        //         map.removeLayer(geoJsonLayers.fellows_1994)
        //         map.removeLayer(geoJsonLayers.fellows_1995)
        //         map.removeLayer(geoJsonLayers.fellows_1996)
        //         map.removeLayer(geoJsonLayers.fellows_1997)
        //         map.removeLayer(geoJsonLayers.fellows_1998)
        //         map.removeLayer(geoJsonLayers.fellows_1999)
        //         map.removeLayer(geoJsonLayers.fellows_2000)
        //         map.removeLayer(geoJsonLayers.fellows_2001)
        //         map.removeLayer(geoJsonLayers.fellows_2002)
        //         map.removeLayer(geoJsonLayers.fellows_2003)
        //         map.removeLayer(geoJsonLayers.fellows_2004)
        //         map.removeLayer(geoJsonLayers.fellows_2005)
        //         map.removeLayer(geoJsonLayers.fellows_2006)
        //         map.removeLayer(geoJsonLayers.fellows_2007)
        //         map.removeLayer(geoJsonLayers.fellows_2008)
        //         map.removeLayer(geoJsonLayers.fellows_2009)
        //         map.removeLayer(geoJsonLayers.fellows_2010)
        //         map.removeLayer(geoJsonLayers.fellows_2011)
        //         map.removeLayer(geoJsonLayers.fellows_2012)
        //         map.removeLayer(geoJsonLayers.fellows_2013)
        //         map.removeLayer(geoJsonLayers.fellows_2014)
        //     }
        //
        //
        //
        // });

        $(".Countries").click(function () {
            // var index = $('.range-slider').val();
            // //re-set statement
            // normalized = false
            // raw = true
            // if (raw == true) {
            //     //take off previous layer
            //     map.removeLayer(attributes);
            //     //call update prop symbols based on normalized data
            //     updatePropSymbols(map, rawAttributes[index], attributes[index]);
            // };
            map.setView(new L.LatLng(41.4, -0), 2);
            if (map.hasLayer(geoJsonLayers.cities)) {
                map.removeLayer(geoJsonLayers.cities);
                map.addLayer(geoJsonLayers.countries);
                map.addLayer(geoJsonLayers.usa)
            }
        });
    }

    selectValues(map);
//way at the bottom- we call the create map function once the doc has loaded.
//$(document).ready(createMap);
    function readZoom() {
        console.log("readZoom function");
        if (map.getZoom() < 7) {
            console.log("hello");
        }
    }

    readZoom();

//create slider, arrows
// function createSequenceControls(map, attributes){
//   //add slider, arrows
//   var SequenceControl=L.Control.extend({
//     options: {
//       position: 'bottomleft'
//     },
//     onAdd: function(map){
//       //create sequence-control-container div element
//       var container=L.DomUtil.create('div','sequence-control-container');

//       $(container).append('<input class="range-slider" type="range">');
//       $(container).append('<button class="skip" id="reverse"> Reverse</button>');
//       $(container).append('<button class="skip" id="forward">Skip</button>');
//       //prevent interaction with basemap when using slider, arrows
//       $(container).on('mousedown dblclick', function(e){
//         L.DomEvent.stopPropagation(e);
//       });

//       return container;
//     }
//   });


    getResidentsData1971(map);
    getResidentsData1973(map);
    getResidentsData1984(map);
    getResidentsData1989(map);
    getResidentsData1990(map);
    getResidentsData1991(map);
    getResidentsData1992(map);
    getResidentsData1993(map);
    getResidentsData1994(map);
    getResidentsData1995(map);
    getResidentsData1996(map);
    getResidentsData1997(map);
    getResidentsData1998(map);
    getResidentsData2000(map);
    getResidentsData1999(map);
    getResidentsData2002(map);
    getResidentsData2003(map);
    getResidentsData2004(map);
    getResidentsData2005(map);
    getResidentsData2006(map);
    getResidentsData2008(map);
    getResidentsData2009(map);
    getResidentsData2010(map);
    getResidentsData2011(map);
    getResidentsData2013(map);
    getResidentsData2014(map);
//   map.addControl(new SequenceControl());
    getFellowsData1978(map)
    getFellowsData1982(map)
    getFellowsData1983(map)
    // //getFellowsData1984(map)
    getFellowsData1985(map)
    getFellowsData1986(map)
    getFellowsData1987(map)
    getFellowsData1988(map)
    getFellowsData1989(map)
    getFellowsData1990(map)
    getFellowsData1991(map)
    getFellowsData1992(map)
    getFellowsData1993(map)
    getFellowsData1994(map)
    getFellowsData1995(map)
    getFellowsData1996(map)
    getFellowsData1997(map)
    getFellowsData1998(map)
    getFellowsData1999(map)
    getFellowsData2000(map)
    getFellowsData2001(map)
    getFellowsData2002(map)
    getFellowsData2003(map)
    getFellowsData2004(map)
    getFellowsData2005(map)
    getFellowsData2006(map)
    getFellowsData2007(map)
    getFellowsData2008(map)
    getFellowsData2009(map)
    getFellowsData2010(map)
    getFellowsData2011(map)
    getFellowsData2012(map)
    getFellowsData2013(map)
    getFellowsData2014(map)

    getResidentsFellowsData1981(map)
    getResidentsFellowsData1982(map)
    getResidentsFellowsData1990(map)
    getResidentsFellowsData1991(map)
    getResidentsFellowsData1995(map)
    getResidentsFellowsData1996(map)
    getResidentsFellowsData1997(map)
    getResidentsFellowsData1998(map)
    getResidentsFellowsData1999(map)
    getResidentsFellowsData2003(map)
    getResidentsFellowsData2004(map)
    getResidentsFellowsData2005(map)
    getResidentsFellowsData2006(map)
    getResidentsFellowsData2007(map)
    getResidentsFellowsData2008(map)
    getResidentsFellowsData2009(map)
    getResidentsFellowsData2010(map)
    getResidentsFellowsData2011(map)
    getResidentsFellowsData2012(map)
    getResidentsFellowsData2013(map)
    getResidentsFellowsData2014(map)


// createSequenceControls(map, attributes);

//create the sequence controls to control temporal indexing
    function createSequenceControls(map, legendControl) {
        console.log("adding sequence control");
        var SequenceControl = L.Control.extend({
            options: {
                position: 'bottomleft'
            },

            onAdd: function (map) {
                // create the sequence control container and give it class name
                var container = L.DomUtil.create('div', 'sequence-control-container');

                //create range input element
                $(container).append('<input class="range-slider" type="range">');

                //add skip buttons
                $(container).append('<button class="skip" id="reverse" title="Reverse">Reverse</button>');
                $(container).append('<button class="skip" id="forward" title="Forward">Skip</button>');

                //kill any mouse event listeners on the map
                $(container).on('mousedown dblclick', function (e) {
                    L.DomEvent.stopPropagation(e);
                });
                return container;
            }

        });

        map.addControl(new SequenceControl());

        $('.range-slider').attr({
            //set max, min-- 1990 thru 2014-- at one step increments
            max: 2015,
            min: 1971,
            value: 0,
            step: 1
        });
//add forward, backward arrows with icons

        $('#panel').append('<input type="checkbox" id="checkboxCity3" class="Cities3" id="showResidents" value="true" checked="checked" style="-moz-box-shadow: 0px 10px 14px -7px #383838; -webkit-box-shadow: 0px 10px 14px -7px #383838; box-shadow: 0px 10px 14px -7px #383838; background-color:#FFF; -moz-border-radius:8px; -webkit-border-radius:8px; border-radius:8px; display:inline-block; cursor:pointer; color:#000000; font-family:avenir; font-size:10px; font-weight:bold; padding:8px 14px; text-decoration:none;">Show Residents</button>');
        $('#panel').append('<input type="checkbox" id="checkboxCity" class="Cities" id="showFellows" value="true" checked="checked" style="-moz-box-shadow: 0px 10px 14px -7px #383838; -webkit-box-shadow: 0px 10px 14px -7px #383838; box-shadow: 0px 10px 14px -7px #383838; background-color:#FFF; -moz-border-radius:8px; -webkit-border-radius:8px; border-radius:8px; display:inline-block; cursor:pointer; color:#000000; font-family:avenir; font-size:1px; font-weight:bold; padding:8px 14px; text-decoration:none;">Show Fellows</button>');
        $('#panel').append('<input type="checkbox" id="checkboxCity2" class="Cities2" id="showResidentFellows" value="true" checked="checked" style="-moz-box-shadow: 0px 10px 14px -7px #383838; -webkit-box-shadow: 0px 10px 14px -7px #383838; box-shadow: 0px 10px 14px -7px #383838; background-color:#FFF; -moz-border-radius:8px; -webkit-border-radius:8px; border-radius:8px; display:inline-block; cursor:pointer; color:#000000; font-family:avenir; font-size:1px; font-weight:bold; padding:8px 14px; text-decoration:none;">Show Residents/Fellows</button>');

        $(".Cities").change(function () {
            console.log(index);
            if($(this).is(':checked')) {
                

            } else {
                console.log("checking")
                map.removeLayer(geoJsonLayers.fellows_1978)
                map.removeLayer(geoJsonLayers.fellows_1982)
                map.removeLayer(geoJsonLayers.fellows_1983)
                // map.removeLayer(geoJsonLayers.fellows_1984)
                map.removeLayer(geoJsonLayers.fellows_1985)
                map.removeLayer(geoJsonLayers.fellows_1986)
                map.removeLayer(geoJsonLayers.fellows_1987)
                map.removeLayer(geoJsonLayers.fellows_1988)
                map.removeLayer(geoJsonLayers.fellows_1989)
                map.removeLayer(geoJsonLayers.fellows_1990)
                map.removeLayer(geoJsonLayers.fellows_1991)
                map.removeLayer(geoJsonLayers.fellows_1992)
                map.removeLayer(geoJsonLayers.fellows_1993)
                map.removeLayer(geoJsonLayers.fellows_1994)
                map.removeLayer(geoJsonLayers.fellows_1995)
                map.removeLayer(geoJsonLayers.fellows_1996)
                map.removeLayer(geoJsonLayers.fellows_1997)
                map.removeLayer(geoJsonLayers.fellows_1998)
                map.removeLayer(geoJsonLayers.fellows_1999)
                map.removeLayer(geoJsonLayers.fellows_2000)
                map.removeLayer(geoJsonLayers.fellows_2001)
                map.removeLayer(geoJsonLayers.fellows_2002)
                map.removeLayer(geoJsonLayers.fellows_2003)
                map.removeLayer(geoJsonLayers.fellows_2004)
                map.removeLayer(geoJsonLayers.fellows_2005)
                map.removeLayer(geoJsonLayers.fellows_2006)
                map.removeLayer(geoJsonLayers.fellows_2007)
                map.removeLayer(geoJsonLayers.fellows_2008)
                map.removeLayer(geoJsonLayers.fellows_2009)
                map.removeLayer(geoJsonLayers.fellows_2010)
                map.removeLayer(geoJsonLayers.fellows_2011)
                map.removeLayer(geoJsonLayers.fellows_2012)
                map.removeLayer(geoJsonLayers.fellows_2013)
                map.removeLayer(geoJsonLayers.fellows_2014)
            }



        });

        //ResidentsFellows Change Function
            $(".Cities2").change(function () {
            console.log(index);
            if($(this).is(':checked')) {
                

            } else {
                console.log("checking for residents/fellows")
                map.removeLayer(geoJsonLayers.residentsFellows_1981)
                map.removeLayer(geoJsonLayers.residentsFellows_1982)
                map.removeLayer(geoJsonLayers.residentsFellows_1990)
                map.removeLayer(geoJsonLayers.residentsFellows_1991)
                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                map.removeLayer(geoJsonLayers.residentsFellows_2014)
                
            }



        });


        $(".Cities3").change(function () {
            console.log(index);
            if($(this).is(':checked')) {
                

            } else {
                console.log("checking for residents/fellows")
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)
                
            }



        });

        //If normalized button hit, call function




        $('#reverse').html('<img src="img/left2.png"">');
        $('#forward').html('<img src="img/right2.png">');
        $('.skip').click(function () {

            var index = $('.range-slider').val();
            //if forward clicked, increasing increments by 1
            if ($(this).attr('id') == 'forward') {
                index++;
                index = index > 2016 ? 1971 : index;


    function createLegend(map, index){
    
    console.log(index)
    var legendControl = L.Control.extend({
        options: {
            position: 'bottomright'
        },
        onAdd: function(map){
           //create the container with a class name
            var container = L.DomUtil.create('div', 'legend-control-container');

            if (index == 1972) {
            container.innerHTML += '<b></b>sdfs<br>'  // don't forget the break tag
            //create temporal legend
        }
            $(container).append('<div id = "temporal-legend">');

            //create attribute legend storage 
            var svg = '<svg id = "attribute-legend" width = "5000px" height = "270px">';

            //create an circle names for loop
            var circles = {
                max: 20,
                mean: 40,
                min: 60
            };
            

         
                svg += '<text id = "' + '-text" fill="#FFF" x= 82 y="0' + "ssdfsdfsd" + '"></text>';
                 $('#'+ '-text').text(" Installations");
        

            //close svg string
            svg += "</svg>";

            //add attribute legend svg to container
            $(container).append(svg);

            return container;
        }
    });
    // //add the legendControl to map
    map.addControl(new legendControl);
    // //call function to update the legend to first attribute
    // updateLegend(map, attributes[0]);
var circleValues = getCircleValues(map, attribute);

    for (var key in circleValues) {
        //get the radius
        var radius = calcPropRadius(circleValues[key]);

        //assign the cy and r attributes (calculates circle footprint)
        $('#'+key).attr({
            cy: 60-radius,
            r: radius
        });
        //add legend text
        $('#'+key+'-text').text(Math.round(circleValues[key]*100)/100 + " Installations");
};



};    

                if (index == 1971) {
                    //legend1972.removeFrom(map);
                    createLegend3(map, index)
                    map.removeLayer(geoJsonLayers.fellows_1978)
                    map.removeLayer(geoJsonLayers.fellows_1982)
                    map.removeLayer(geoJsonLayers.fellows_1983)
                    // map.removeLayer(geoJsonLayers.fellows_1984)
                    map.removeLayer(geoJsonLayers.fellows_1985)
                    map.removeLayer(geoJsonLayers.fellows_1986)
                    map.removeLayer(geoJsonLayers.fellows_1987)
                    map.removeLayer(geoJsonLayers.fellows_1988)
                    map.removeLayer(geoJsonLayers.fellows_1989)
                    map.removeLayer(geoJsonLayers.fellows_1990)
                    map.removeLayer(geoJsonLayers.fellows_1991)
                    map.removeLayer(geoJsonLayers.fellows_1992)
                    map.removeLayer(geoJsonLayers.fellows_1993)
                    map.removeLayer(geoJsonLayers.fellows_1994)
                    map.removeLayer(geoJsonLayers.fellows_1995)
                    map.removeLayer(geoJsonLayers.fellows_1996)
                    map.removeLayer(geoJsonLayers.fellows_1997)
                    map.removeLayer(geoJsonLayers.fellows_1998)
                    map.removeLayer(geoJsonLayers.fellows_1999)
                    map.removeLayer(geoJsonLayers.fellows_2000)
                    map.removeLayer(geoJsonLayers.fellows_2001)
                    map.removeLayer(geoJsonLayers.fellows_2002)
                    map.removeLayer(geoJsonLayers.fellows_2003)
                    map.removeLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)

                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)




                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }



                    });

                    $(".Cities2").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)
                        }



                    });
                
            
                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            
                            map.removeLayer(geoJsonLayers.residents_1973)
                            map.removeLayer(geoJsonLayers.residents_1984)
                            map.removeLayer(geoJsonLayers.residents_1989)
                            map.removeLayer(geoJsonLayers.residents_1990)
                            map.removeLayer(geoJsonLayers.residents_1991)
                            map.removeLayer(geoJsonLayers.residents_1992)
                            map.removeLayer(geoJsonLayers.residents_1993)
                            map.removeLayer(geoJsonLayers.residents_1994)
                            map.removeLayer(geoJsonLayers.residents_1995)
                            map.removeLayer(geoJsonLayers.residents_1996)
                            map.removeLayer(geoJsonLayers.residents_1997)
                            map.removeLayer(geoJsonLayers.residents_1998)
                            map.removeLayer(geoJsonLayers.residents_1999)
                            map.removeLayer(geoJsonLayers.residents_2000)
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }



                    });

                }
                if (index == 1972) {
                    // function (legendControl) {
                    //     map.removeControl(legendControl)
                    // }

                    //legend1973.removeFrom(map);
                    // legend1972.addTo(map);
                    //createLegend3(map, index)
                    //getResidentsData1973(map);
                    console.log(index)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)


                    map.removeLayer(geoJsonLayers.fellows_1978)
                    map.removeLayer(geoJsonLayers.fellows_1982)
                    map.removeLayer(geoJsonLayers.fellows_1983)
                    map.removeLayer(geoJsonLayers.fellows_1985)
                    map.removeLayer(geoJsonLayers.fellows_1986)
                    map.removeLayer(geoJsonLayers.fellows_1987)
                    map.removeLayer(geoJsonLayers.fellows_1988)
                    map.removeLayer(geoJsonLayers.fellows_1989)
                    map.removeLayer(geoJsonLayers.fellows_1990)
                    map.removeLayer(geoJsonLayers.fellows_1991)
                    map.removeLayer(geoJsonLayers.fellows_1992)
                    map.removeLayer(geoJsonLayers.fellows_1993)
                    map.removeLayer(geoJsonLayers.fellows_1994)
                    map.removeLayer(geoJsonLayers.fellows_1995)
                    map.removeLayer(geoJsonLayers.fellows_1996)
                    map.removeLayer(geoJsonLayers.fellows_1997)
                    map.removeLayer(geoJsonLayers.fellows_1998)
                    map.removeLayer(geoJsonLayers.fellows_1999)
                    map.removeLayer(geoJsonLayers.fellows_2000)
                    map.removeLayer(geoJsonLayers.fellows_2001)
                    map.removeLayer(geoJsonLayers.fellows_2002)
                    map.removeLayer(geoJsonLayers.fellows_2003)
                    map.removeLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)

                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)

                   if(document.getElementById('checkboxCity3').checked) {
                        map.addLayer(geoJsonLayers.residents_1971)
                    } else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                    }


                    // }


                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            map.addLayer(geoJsonLayers.residents_1971)
                                // end
                        } else {

                            console.log("uncheced")
                            map.removeLayer(geoJsonLayers.residents_1971)
                            map.removeLayer(geoJsonLayers.residents_1973)
                            map.removeLayer(geoJsonLayers.residents_1984)
                            map.removeLayer(geoJsonLayers.residents_1989)
                            map.removeLayer(geoJsonLayers.residents_1990)
                            map.removeLayer(geoJsonLayers.residents_1991)
                            map.removeLayer(geoJsonLayers.residents_1992)
                            map.removeLayer(geoJsonLayers.residents_1993)
                            map.removeLayer(geoJsonLayers.residents_1994)
                            map.removeLayer(geoJsonLayers.residents_1995)
                            map.removeLayer(geoJsonLayers.residents_1996)
                            map.removeLayer(geoJsonLayers.residents_1997)
                            map.removeLayer(geoJsonLayers.residents_1998)
                            map.removeLayer(geoJsonLayers.residents_1999)
                            map.removeLayer(geoJsonLayers.residents_2000)
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }



                    });



                    // var arr = [];//this array to hold your filterred object
                    // geoJsonLayers.eachLayer(function(layer){
                    //     if(layer.feature.properties.info_date === 2010){
                    //         console.log("hii")
                    //         arr.push(layer)
                    //     }
                    // })

                    //points.addTo(map)

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {
                            if (map.hasLayer(geoJsonLayers.residents_2007))
                                console.log("hi")

                        } else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }
                    });

                    $(".Cities2").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {
 
                                map.removeLayer(geoJsonLayers.residentsFellows_1981)
                                map.removeLayer(geoJsonLayers.residentsFellows_1982)
                                map.removeLayer(geoJsonLayers.residentsFellows_1990)
                                map.removeLayer(geoJsonLayers.residentsFellows_1991)
                                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                                map.removeLayer(geoJsonLayers.residentsFellows_2014)

                        } else {
                            map.removeLayer(geoJsonLayers.residentsFellows_1981)
                            map.removeLayer(geoJsonLayers.residentsFellows_1982)
                            map.removeLayer(geoJsonLayers.residentsFellows_1990)
                            map.removeLayer(geoJsonLayers.residentsFellows_1991)
                            map.removeLayer(geoJsonLayers.residentsFellows_1995)
                            map.removeLayer(geoJsonLayers.residentsFellows_1996)
                            map.removeLayer(geoJsonLayers.residentsFellows_1997)
                            map.removeLayer(geoJsonLayers.residentsFellows_1998)
                            map.removeLayer(geoJsonLayers.residentsFellows_1999)
                            map.removeLayer(geoJsonLayers.residentsFellows_2003)
                            map.removeLayer(geoJsonLayers.residentsFellows_2004)
                            map.removeLayer(geoJsonLayers.residentsFellows_2005)
                            map.removeLayer(geoJsonLayers.residentsFellows_2006)
                            map.removeLayer(geoJsonLayers.residentsFellows_2007)
                            map.removeLayer(geoJsonLayers.residentsFellows_2008)
                            map.removeLayer(geoJsonLayers.residentsFellows_2009)
                            map.removeLayer(geoJsonLayers.residentsFellows_2010)
                            map.removeLayer(geoJsonLayers.residentsFellows_2011)
                            map.removeLayer(geoJsonLayers.residentsFellows_2012)
                            map.removeLayer(geoJsonLayers.residentsFellows_2013)
                            map.removeLayer(geoJsonLayers.residentsFellows_2014)

                            
                        }
                    });

                }

                if (index == 1973) {
                    //var text==1973
                   //clearControls(map)
                   // legend1972.removeFrom(map);
                   // legend1973.addTo(map);
                   //createLegend3(map, 'text')
                    //getResidentsData1984(map);
                    console.log(index)
                    map.addLayer(geoJsonLayers.residents_1973)

                    if(document.getElementById('checkboxCity3').checked) {
                        map.addLayer(geoJsonLayers.residents_1973)
                    } else {
                        map.removeLayer(geoJsonLayers.residents_1973)
                    }


                    // }


                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.residents_1973)
                                // end
                        } else {

                            console.log("uncheced")
                            map.removeLayer(geoJsonLayers.residents_1973)
                            map.removeLayer(geoJsonLayers.residents_1984)
                            map.removeLayer(geoJsonLayers.residents_1989)
                            map.removeLayer(geoJsonLayers.residents_1990)
                            map.removeLayer(geoJsonLayers.residents_1991)
                            map.removeLayer(geoJsonLayers.residents_1992)
                            map.removeLayer(geoJsonLayers.residents_1993)
                            map.removeLayer(geoJsonLayers.residents_1994)
                            map.removeLayer(geoJsonLayers.residents_1995)
                            map.removeLayer(geoJsonLayers.residents_1996)
                            map.removeLayer(geoJsonLayers.residents_1997)
                            map.removeLayer(geoJsonLayers.residents_1998)
                            map.removeLayer(geoJsonLayers.residents_1999)
                            map.removeLayer(geoJsonLayers.residents_2000)
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }



                    });







                }


                if (index == 1974) {
                    // legend1973.removeFrom(map);
                    // legend1974.addTo(map);
                    //getResidentsData1984(map);
                    console.log(index)
                    //map.removeLayer(geoJsonLayers.fellows_2009)


                }

                if (index == 1975) {
                    // legend1974.removeFrom(map);
                    // legend1975.addTo(map);
                    //getResidentsData1984(map);
                    console.log(index)
                    //map.removeLayer(geoJsonLayers.fellows_2009)

                }

                if (index == 1976) {
                    // legend1975.removeFrom(map);
                    // legend1976.addTo(map);
                    //getResidentsData1984(map);
                    console.log(index)
                    //map.removeLayer(geoJsonLayers.fellows_2009)

                }

                if (index == 1977) {
                    // legend1976.removeFrom(map);
                    // legend1977.addTo(map);
                    //getResidentsData1984(map);
                    console.log(index)
                    //map.removeLayer(geoJsonLayers.fellows_2009)

                }

                if (index == 1978) {
                    // legend1977.removeFrom(map);
                    // legend1978.addTo(map);
                    console.log(index)
                    //getResidentsData1984(map);
                    // console.log(index)
                    // alert.('this')
                    // if($(this).is(':checked')) {
                   // alert(document.getElementById('checkboxCity').checked)
                    if(document.getElementById('checkboxCity').checked) {
                        map.addLayer(geoJsonLayers.fellows_1978)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1978)
                    }


                    // }


                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {
                                map.addLayer(geoJsonLayers.fellows_1978)
                                // end
                        } else {

                            console.log("uncheced")
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                            map.removeLayer(geoJsonLayer.fellows_1978)
                        }



                    });

                }

                if (index == 1979) {
                    // legend1978.removeFrom(map);
                    // legend1979.addTo(map);
                    //getResidentsData1984(map);
                    console.log(index)
                    //map.removeLayer(geoJsonLayers.fellows_2009)


                }

                if (index == 1980) {
                    // legend1979.removeFrom(map);
                    // legend1980.addTo(map);
                    //getResidentsData1984(map);
                    console.log(index)
                    //map.removeLayer(geoJsonLayers.fellows_2009)

                }

                if (index == 1981) {
                    // legend1980.removeFrom(map);
                    // legend1981.addTo(map);
                    console.log(index)
                    //map.removeLayer(geoJsonLayers.fellows_2009)
                    if(document.getElementById('checkboxCity2').checked) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                    } else {
                        
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    }

                    $(".Cities2").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {
                                map.addLayer(geoJsonLayers.residentsFellows_1981)
                                
                                // end
                        } else {

                            console.log("uncheced")
                                map.removeLayer(geoJsonLayers.residentsFellows_1981)
                                map.removeLayer(geoJsonLayers.residentsFellows_1982)
                                map.removeLayer(geoJsonLayers.residentsFellows_1990)
                                // map.removeLayer(geoJsonLayers.fellows_1984)
                                map.removeLayer(geoJsonLayers.residentsFellows_1991)
                                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                                map.removeLayer(geoJsonLayers.residentsFellows_2014)
                
                        }



                    });

                }

                if (index == 1982) {
                    // legend1981.removeFrom(map);
                    // legend1982.addTo(map);

                     if(document.getElementById('checkboxCity').checked) {
                        map.addLayer(geoJsonLayers.fellows_1982)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1982)
                    }

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.fellows_1982)
                                // end
                        } else {

                            console.log("uncheced")
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                            map.removeLayer(geoJsonLayer.fellows_1978)
                        }



                    });




                    console.log(index)
                    if(document.getElementById('checkboxCity2').checked) {
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                    } else {
                        console.log("removing")
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    }

                    $(".Cities2").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {
                                map.addLayer(geoJsonLayers.residentsFellows_1982)

                        } else {
                            map.removeLayer(geoJsonLayers.residentsFellows_1981)
                                map.removeLayer(geoJsonLayers.residentsFellows_1982)
                                map.removeLayer(geoJsonLayers.residentsFellows_1990)
                                map.removeLayer(geoJsonLayers.residentsFellows_1991)
                                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                                map.removeLayer(geoJsonLayers.residentsFellows_2014)
                        }
                    });

                

                }

                if (index == 1983) {
                    // legend1982.removeFrom(map);
                    // legend1983.addTo(map);
                    console.log(index)
                    if(document.getElementById('checkboxCity').checked) {
                        map.addLayer(geoJsonLayers.fellows_1983)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1983)
                    }

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.fellows_1983)

                        } else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                            map.removeLayer(geoJsonLayer.fellows_1978)
                        }



                    });
        
                    if(document.getElementById('checkboxCity2').checked) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)
                    } else {
                        console.log("removing")
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)
                    }

                    $(".Cities2").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.residentsFellows_1982)
                                map.addLayer(geoJsonLayers.residentsFellows_1982)

                        } else {
                                map.removeLayer(geoJsonLayers.residentsFellows_1981)
                                map.removeLayer(geoJsonLayers.residentsFellows_1982)
                                map.removeLayer(geoJsonLayers.residentsFellows_1990)
                                map.removeLayer(geoJsonLayers.residentsFellows_1991)
                                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                                map.removeLayer(geoJsonLayers.residentsFellows_2014)
                        }
                    });
                            
                }

                if (index == 1984) {
                    // legend1983.removeFrom(map);
                    // legend1984.addTo(map);
                    console.log(index)
                    map.addLayer(geoJsonLayers.residents_1984)

                    if(document.getElementById('checkboxCity3').checked) {
                        map.addLayer(geoJsonLayers.residents_1984)
                    } else {
                        map.removeLayer(geoJsonLayers.residents_1984)
                    }


                    // }


                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.residents_1984)
                                // end
                        } else {

                            console.log("uncheced")
                            map.removeLayer(geoJsonLayers.residents_1971)
                            map.removeLayer(geoJsonLayers.residents_1973)
                            map.removeLayer(geoJsonLayers.residents_1984)
                            map.removeLayer(geoJsonLayers.residents_1989)
                            map.removeLayer(geoJsonLayers.residents_1990)
                            map.removeLayer(geoJsonLayers.residents_1991)
                            map.removeLayer(geoJsonLayers.residents_1992)
                            map.removeLayer(geoJsonLayers.residents_1993)
                            map.removeLayer(geoJsonLayers.residents_1994)
                            map.removeLayer(geoJsonLayers.residents_1995)
                            map.removeLayer(geoJsonLayers.residents_1996)
                            map.removeLayer(geoJsonLayers.residents_1997)
                            map.removeLayer(geoJsonLayers.residents_1998)
                            map.removeLayer(geoJsonLayers.residents_1999)
                            map.removeLayer(geoJsonLayers.residents_2000)
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }



                    });

                    //map.removeLayer(geoJsonLayers.fellows_2009)

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                console.log("map has layer")

                        } else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                            map.removeLayer(geoJsonLayer.fellows_1978)
                        }



                    });

                }

                if (index == 1985) {
                    // legend1984.removeFrom(map);
                    // legend1985.addTo(map);
                    console.log(index)
                    if(document.getElementById('checkboxCity').checked) {
                        map.addLayer(geoJsonLayers.fellows_1985)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1985)
                    }

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.fellows_1985)

                        } else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                            map.removeLayer(geoJsonLayer.fellows_1978)
                        }



                    });

                }

                if (index == 1986) {
                    // legend1985.removeFrom(map);
                    // legend1986.addTo(map);
                    console.log(index)
                    if(document.getElementById('checkboxCity').checked) {
                        map.addLayer(geoJsonLayers.fellows_1986)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1986)
                    }

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.fellows_1986)

                        } else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                            map.removeLayer(geoJsonLayer.fellows_1978)
                        }



                    });

                }

                if (index == 1987) {
                    // legend1986.removeFrom(map);
                    // legend1987.addTo(map);
                    console.log(index)
                    if(document.getElementById('checkboxCity').checked) {
                        map.addLayer(geoJsonLayers.fellows_1987)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1987)
                    }

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.fellows_1987)

                        } else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                            map.removeLayer(geoJsonLayer.fellows_1978)
                        }



                    });

                }

                if (index == 1988) {
                    // legend1987.removeFrom(map);
                    // legend1988.addTo(map);
                    console.log(index)
                    if(document.getElementById('checkboxCity').checked) {
                        map.addLayer(geoJsonLayers.fellows_1988)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1988)
                    }

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.fellows_1988)

                        } else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                            map.removeLayer(geoJsonLayer.fellows_1978)
                        }



                    });

                }


                if (index == 1989) {
                    // legend1988.removeFrom(map);
                    // legend1989.addTo(map);
                    console.log(index)
                    //getResidentsData1989(map);

                    map.addLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)

                    if(document.getElementById('checkboxCity3').checked) {
                        map.addLayer(geoJsonLayers.residents_1989)
                    } else {
                        map.removeLayer(geoJsonLayers.residents_1989)
                    }


                    // }


                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.residents_1989)
                                // end
                        } else {

                            console.log("uncheced")
                            map.removeLayer(geoJsonLayers.residents_1971)
                            map.removeLayer(geoJsonLayers.residents_1973)
                            map.removeLayer(geoJsonLayers.residents_1984)
                            map.removeLayer(geoJsonLayers.residents_1989)
                            map.removeLayer(geoJsonLayers.residents_1990)
                            map.removeLayer(geoJsonLayers.residents_1991)
                            map.removeLayer(geoJsonLayers.residents_1992)
                            map.removeLayer(geoJsonLayers.residents_1993)
                            map.removeLayer(geoJsonLayers.residents_1994)
                            map.removeLayer(geoJsonLayers.residents_1995)
                            map.removeLayer(geoJsonLayers.residents_1996)
                            map.removeLayer(geoJsonLayers.residents_1997)
                            map.removeLayer(geoJsonLayers.residents_1998)
                            map.removeLayer(geoJsonLayers.residents_1999)
                            map.removeLayer(geoJsonLayers.residents_2000)
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }



                    });

                    if(document.getElementById('checkboxCity').checked) {
                        map.addLayer(geoJsonLayers.fellows_1989)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1989)
                    }

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.fellows_1989)

                        } else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                            map.removeLayer(geoJsonLayer.fellows_1978)
                        }
                    });

                    if(document.getElementById('checkboxCity2').checked) {
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    } else {
                        console.log("removing")
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    }

                    $(".Cities2").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.residentsFellows_1982)

                        } else {
                                map.removeLayer(geoJsonLayers.residentsFellows_1981)
                                map.removeLayer(geoJsonLayers.residentsFellows_1982)
                                map.removeLayer(geoJsonLayers.residentsFellows_1990)
                                // map.removeLayer(geoJsonLayers.fellows_1984)
                                map.removeLayer(geoJsonLayers.residentsFellows_1991)
                                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                                map.removeLayer(geoJsonLayers.residentsFellows_2014)
                        }
                    });
                            

                }
                if (index == 1990) {
                    // legend1989.removeFrom(map);
                    // legend1990.addTo(map);
                    //getResidentsData1990(map);
                    console.log(index)
                    map.addLayer(geoJsonLayers.residents_1990)

                    if(document.getElementById('checkboxCity3').checked) {
                        map.addLayer(geoJsonLayers.residents_1990)
                    } else {
                        map.removeLayer(geoJsonLayers.residents_1990)
                    }


                    // }


                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.residents_1990)
                                // end
                        } else {

                            console.log("uncheced")
                            map.removeLayer(geoJsonLayers.residents_1971)
                            map.removeLayer(geoJsonLayers.residents_1973)
                            map.removeLayer(geoJsonLayers.residents_1984)
                            map.removeLayer(geoJsonLayers.residents_1989)
                            map.removeLayer(geoJsonLayers.residents_1990)
                            map.removeLayer(geoJsonLayers.residents_1991)
                            map.removeLayer(geoJsonLayers.residents_1992)
                            map.removeLayer(geoJsonLayers.residents_1993)
                            map.removeLayer(geoJsonLayers.residents_1994)
                            map.removeLayer(geoJsonLayers.residents_1995)
                            map.removeLayer(geoJsonLayers.residents_1996)
                            map.removeLayer(geoJsonLayers.residents_1997)
                            map.removeLayer(geoJsonLayers.residents_1998)
                            map.removeLayer(geoJsonLayers.residents_1999)
                            map.removeLayer(geoJsonLayers.residents_2000)
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }



                    });



                    if(document.getElementById('checkboxCity').checked) {
                        map.addLayer(geoJsonLayers.fellows_1990)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1990)
                    }

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.fellows_1990)

                        } else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                            map.removeLayer(geoJsonLayer.fellows_1978)
                        }
                    });

                    if(document.getElementById('checkboxCity2').checked) {
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                    } else {
                        console.log("removing")
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    }

                    $(".Cities2").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.residentsFellows_1990)

                        } else {
                                map.removeLayer(geoJsonLayers.residentsFellows_1981)
                                map.removeLayer(geoJsonLayers.residentsFellows_1982)
                                map.removeLayer(geoJsonLayers.residentsFellows_1990)
                                // map.removeLayer(geoJsonLayers.fellows_1984)
                                map.removeLayer(geoJsonLayers.residentsFellows_1991)
                                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                                map.removeLayer(geoJsonLayers.residentsFellows_2014)
                        }
                    });

                }
                if (index == 1991) {
                    // legend1990.removeFrom(map);
                    // legend1991.addTo(map);
                    console.log(index)
                    //getResidentsData1991(map);
                    map.addLayer(geoJsonLayers.residents_1991)

                    if(document.getElementById('checkboxCity3').checked) {
                        map.addLayer(geoJsonLayers.residents_1991)
                    } else {
                        map.removeLayer(geoJsonLayers.residents_1991)
                    }


                    // }


                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.residents_1991)
                                // end
                        } else {

                            console.log("uncheced")
                            map.removeLayer(geoJsonLayers.residents_1971)
                            map.removeLayer(geoJsonLayers.residents_1973)
                            map.removeLayer(geoJsonLayers.residents_1984)
                            map.removeLayer(geoJsonLayers.residents_1989)
                            map.removeLayer(geoJsonLayers.residents_1990)
                            map.removeLayer(geoJsonLayers.residents_1991)
                            map.removeLayer(geoJsonLayers.residents_1992)
                            map.removeLayer(geoJsonLayers.residents_1993)
                            map.removeLayer(geoJsonLayers.residents_1994)
                            map.removeLayer(geoJsonLayers.residents_1995)
                            map.removeLayer(geoJsonLayers.residents_1996)
                            map.removeLayer(geoJsonLayers.residents_1997)
                            map.removeLayer(geoJsonLayers.residents_1998)
                            map.removeLayer(geoJsonLayers.residents_1999)
                            map.removeLayer(geoJsonLayers.residents_2000)
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }



                    });
                    if(document.getElementById('checkboxCity').checked) {
                        map.addLayer(geoJsonLayers.fellows_1991)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1991)
                    }

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.fellows_1991)

                        } else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                            map.removeLayer(geoJsonLayer.fellows_1978)
                        }
                    });

                    if(document.getElementById('checkboxCity2').checked) {
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                    } else {
                        console.log("removing")
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    }

                    $(".Cities2").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.residentsFellows_1991)

                        } else {
                            map.removeLayer(geoJsonLayers.residentsFellows_1981)
                                map.removeLayer(geoJsonLayers.residentsFellows_1982)
                                map.removeLayer(geoJsonLayers.residentsFellows_1990)
                                // map.removeLayer(geoJsonLayers.fellows_1984)
                                map.removeLayer(geoJsonLayers.residentsFellows_1991)
                                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                                map.removeLayer(geoJsonLayers.residentsFellows_2014)
                        }
                    });
                }
                if (index == 1992) {
                    // legend1991.removeFrom(map);
                    // legend1992.addTo(map);
                    console.log(index)
                    //getResidentsData1992(map);
                    map.addLayer(geoJsonLayers.residents_1992)

                    if(document.getElementById('checkboxCity3').checked) {
                        map.addLayer(geoJsonLayers.residents_1992)
                    } else {
                        map.removeLayer(geoJsonLayers.residents_1992)
                    }


                    // }


                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.residents_1992)
                                // end
                        } else {

                            console.log("uncheced")
                            map.removeLayer(geoJsonLayers.residents_1971)
                            map.removeLayer(geoJsonLayers.residents_1973)
                            map.removeLayer(geoJsonLayers.residents_1984)
                            map.removeLayer(geoJsonLayers.residents_1989)
                            map.removeLayer(geoJsonLayers.residents_1990)
                            map.removeLayer(geoJsonLayers.residents_1991)
                            map.removeLayer(geoJsonLayers.residents_1992)
                            map.removeLayer(geoJsonLayers.residents_1993)
                            map.removeLayer(geoJsonLayers.residents_1994)
                            map.removeLayer(geoJsonLayers.residents_1995)
                            map.removeLayer(geoJsonLayers.residents_1996)
                            map.removeLayer(geoJsonLayers.residents_1997)
                            map.removeLayer(geoJsonLayers.residents_1998)
                            map.removeLayer(geoJsonLayers.residents_1999)
                            map.removeLayer(geoJsonLayers.residents_2000)
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }



                    });
                    if(document.getElementById('checkboxCity').checked) {
                        map.addLayer(geoJsonLayers.fellows_1992)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1992)
                    }

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.fellows_1992)

                        } else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                            map.removeLayer(geoJsonLayer.fellows_1978)
                        }



                    });
                }
                if (index == 1993) {
                    // legend1992.removeFrom(map);
                    // legend1993.addTo(map);
                    console.log(index)
                    //getResidentsData1993(map);
                    map.addLayer(geoJsonLayers.residents_1993)

                     if(document.getElementById('checkboxCity3').checked) {
                        map.addLayer(geoJsonLayers.residents_1993)
                    } else {
                        map.removeLayer(geoJsonLayers.residents_1993)
                    }


                    // }


                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.residents_1993)
                                // end
                        } else {

                            console.log("uncheced")
                            map.removeLayer(geoJsonLayers.residents_1971)
                            map.removeLayer(geoJsonLayers.residents_1973)
                            map.removeLayer(geoJsonLayers.residents_1984)
                            map.removeLayer(geoJsonLayers.residents_1989)
                            map.removeLayer(geoJsonLayers.residents_1990)
                            map.removeLayer(geoJsonLayers.residents_1991)
                            map.removeLayer(geoJsonLayers.residents_1992)
                            map.removeLayer(geoJsonLayers.residents_1993)
                            map.removeLayer(geoJsonLayers.residents_1994)
                            map.removeLayer(geoJsonLayers.residents_1995)
                            map.removeLayer(geoJsonLayers.residents_1996)
                            map.removeLayer(geoJsonLayers.residents_1997)
                            map.removeLayer(geoJsonLayers.residents_1998)
                            map.removeLayer(geoJsonLayers.residents_1999)
                            map.removeLayer(geoJsonLayers.residents_2000)
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }



                    });
                    if(document.getElementById('checkboxCity').checked) {
                        map.addLayer(geoJsonLayers.fellows_1993)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1993)
                    }

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.fellows_1993)

                        } else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                            map.removeLayer(geoJsonLayer.fellows_1978)
                        }



                    });
                }
                if (index == 1994) {
                    // legend1993.removeFrom(map);
                    // legend1994.addTo(map);
                    console.log(index)
                    //getResidentsData1994(map);
                    map.addLayer(geoJsonLayers.residents_1994)

                     if(document.getElementById('checkboxCity3').checked) {
                        map.addLayer(geoJsonLayers.residents_1994)
                    } else {
                        map.removeLayer(geoJsonLayers.residents_1994)
                    }


                    // }


                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.residents_1994)
                                // end
                        } else {

                            console.log("uncheced")
                            map.removeLayer(geoJsonLayers.residents_1971)
                            map.removeLayer(geoJsonLayers.residents_1973)
                            map.removeLayer(geoJsonLayers.residents_1984)
                            map.removeLayer(geoJsonLayers.residents_1989)
                            map.removeLayer(geoJsonLayers.residents_1990)
                            map.removeLayer(geoJsonLayers.residents_1991)
                            map.removeLayer(geoJsonLayers.residents_1992)
                            map.removeLayer(geoJsonLayers.residents_1993)
                            map.removeLayer(geoJsonLayers.residents_1994)
                            map.removeLayer(geoJsonLayers.residents_1995)
                            map.removeLayer(geoJsonLayers.residents_1996)
                            map.removeLayer(geoJsonLayers.residents_1997)
                            map.removeLayer(geoJsonLayers.residents_1998)
                            map.removeLayer(geoJsonLayers.residents_1999)
                            map.removeLayer(geoJsonLayers.residents_2000)
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }



                    });
                    if(document.getElementById('checkboxCity').checked) {
                        map.addLayer(geoJsonLayers.fellows_1994)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1994)
                    }

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.fellows_1994)

                        } else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                            map.removeLayer(geoJsonLayer.fellows_1978)
                        }



                    });
                }
                if (index == 1995) {
                    // legend1994.removeFrom(map);
                    // legend1995.addTo(map);
                    console.log(index)
                    //getResidentsData1995(map);
                    map.addLayer(geoJsonLayers.residents_1995)

                     if(document.getElementById('checkboxCity3').checked) {
                        map.addLayer(geoJsonLayers.residents_1995)
                    } else {
                        map.removeLayer(geoJsonLayers.residents_1995)
                    }


                    // }


                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.residents_1995)
                                // end
                        } else {

                            console.log("uncheced")
                            map.removeLayer(geoJsonLayers.residents_1971)
                            map.removeLayer(geoJsonLayers.residents_1973)
                            map.removeLayer(geoJsonLayers.residents_1984)
                            map.removeLayer(geoJsonLayers.residents_1989)
                            map.removeLayer(geoJsonLayers.residents_1990)
                            map.removeLayer(geoJsonLayers.residents_1991)
                            map.removeLayer(geoJsonLayers.residents_1992)
                            map.removeLayer(geoJsonLayers.residents_1993)
                            map.removeLayer(geoJsonLayers.residents_1994)
                            map.removeLayer(geoJsonLayers.residents_1995)
                            map.removeLayer(geoJsonLayers.residents_1996)
                            map.removeLayer(geoJsonLayers.residents_1997)
                            map.removeLayer(geoJsonLayers.residents_1998)
                            map.removeLayer(geoJsonLayers.residents_1999)
                            map.removeLayer(geoJsonLayers.residents_2000)
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }



                    });
                    if(document.getElementById('checkboxCity').checked) {
                        map.addLayer(geoJsonLayers.fellows_1995)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1995)
                    }

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.fellows_1995)

                        } else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                            map.removeLayer(geoJsonLayer.fellows_1978)
                        }
                    });

                    if(document.getElementById('checkboxCity2').checked) {
                        map.addLayer(geoJsonLayers.residentsFellows_1995)
                    } else {
                        console.log("removing")
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    }

                    $(".Cities2").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.residentsFellows_1995)

                        } else {
                            map.removeLayer(geoJsonLayers.residentsFellows_1981)
                                map.removeLayer(geoJsonLayers.residentsFellows_1982)
                                map.removeLayer(geoJsonLayers.residentsFellows_1990)
                                // map.removeLayer(geoJsonLayers.fellows_1984)
                                map.removeLayer(geoJsonLayers.residentsFellows_1991)
                                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                                map.removeLayer(geoJsonLayers.residentsFellows_2014)
                        }
                    });
                }
                if (index == 1996) {
                    // legend1995.removeFrom(map);
                    // legend1996.addTo(map);
                    console.log(index)
                    //getResidentsData1995(map);
                    map.addLayer(geoJsonLayers.residents_1996)

                     if(document.getElementById('checkboxCity3').checked) {
                        map.addLayer(geoJsonLayers.residents_1996)
                    } else {
                        map.removeLayer(geoJsonLayers.residents_1996)
                    }


                    // }


                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.residents_1996)
                                // end
                        } else {

                            console.log("uncheced")
                            map.removeLayer(geoJsonLayers.residents_1971)
                            map.removeLayer(geoJsonLayers.residents_1973)
                            map.removeLayer(geoJsonLayers.residents_1984)
                            map.removeLayer(geoJsonLayers.residents_1989)
                            map.removeLayer(geoJsonLayers.residents_1990)
                            map.removeLayer(geoJsonLayers.residents_1991)
                            map.removeLayer(geoJsonLayers.residents_1992)
                            map.removeLayer(geoJsonLayers.residents_1993)
                            map.removeLayer(geoJsonLayers.residents_1994)
                            map.removeLayer(geoJsonLayers.residents_1995)
                            map.removeLayer(geoJsonLayers.residents_1996)
                            map.removeLayer(geoJsonLayers.residents_1997)
                            map.removeLayer(geoJsonLayers.residents_1998)
                            map.removeLayer(geoJsonLayers.residents_1999)
                            map.removeLayer(geoJsonLayers.residents_2000)
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }



                    });
                    if(document.getElementById('checkboxCity').checked) {
                        map.addLayer(geoJsonLayers.fellows_1996)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1996)
                    }

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.fellows_1996)

                        } else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                            map.removeLayer(geoJsonLayer.fellows_1978)
                        }
                    });

                    if(document.getElementById('checkboxCity2').checked) {
                        map.addLayer(geoJsonLayers.residentsFellows_1996)
                    } else {
                        console.log("removing")
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    }

                    $(".Cities2").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.residentsFellows_1996)

                        } else {
                            map.removeLayer(geoJsonLayers.residentsFellows_1981)
                                map.removeLayer(geoJsonLayers.residentsFellows_1982)
                                map.removeLayer(geoJsonLayers.residentsFellows_1990)
                                // map.removeLayer(geoJsonLayers.fellows_1984)
                                map.removeLayer(geoJsonLayers.residentsFellows_1991)
                                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                                map.removeLayer(geoJsonLayers.residentsFellows_2014)
                        }
                    });
                }
                if (index == 1997) {
                    // legend1996.removeFrom(map);
                    // legend1997.addTo(map);
                    console.log(index)
                    //getResidentsData1973(map);
                    map.addLayer(geoJsonLayers.residents_1997)

                     if(document.getElementById('checkboxCity3').checked) {
                        map.addLayer(geoJsonLayers.residents_1997)
                    } else {
                        map.removeLayer(geoJsonLayers.residents_1997)
                    }


                    // }


                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.residents_1997)
                                // end
                        } else {

                            console.log("uncheced")
                            map.removeLayer(geoJsonLayers.residents_1971)
                            map.removeLayer(geoJsonLayers.residents_1973)
                            map.removeLayer(geoJsonLayers.residents_1984)
                            map.removeLayer(geoJsonLayers.residents_1989)
                            map.removeLayer(geoJsonLayers.residents_1990)
                            map.removeLayer(geoJsonLayers.residents_1991)
                            map.removeLayer(geoJsonLayers.residents_1992)
                            map.removeLayer(geoJsonLayers.residents_1993)
                            map.removeLayer(geoJsonLayers.residents_1994)
                            map.removeLayer(geoJsonLayers.residents_1995)
                            map.removeLayer(geoJsonLayers.residents_1996)
                            map.removeLayer(geoJsonLayers.residents_1997)
                            map.removeLayer(geoJsonLayers.residents_1998)
                            map.removeLayer(geoJsonLayers.residents_1999)
                            map.removeLayer(geoJsonLayers.residents_2000)
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }



                    });
                    if(document.getElementById('checkboxCity').checked) {
                        map.addLayer(geoJsonLayers.fellows_1997)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1997)
                    }

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.fellows_1997)

                        } else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                            map.removeLayer(geoJsonLayer.fellows_1978)
                        }
                    });
                    
                    if(document.getElementById('checkboxCity2').checked) {
                        map.addLayer(geoJsonLayers.residentsFellows_1997)
                    } else {
                        console.log("removing")
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    }

                    $(".Cities2").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.residentsFellows_1997)

                        } else {
                            map.removeLayer(geoJsonLayers.residentsFellows_1981)
                                map.removeLayer(geoJsonLayers.residentsFellows_1982)
                                map.removeLayer(geoJsonLayers.residentsFellows_1990)
                                // map.removeLayer(geoJsonLayers.fellows_1984)
                                map.removeLayer(geoJsonLayers.residentsFellows_1991)
                                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                                map.removeLayer(geoJsonLayers.residentsFellows_2014)
                        }
                    });


                }
                if (index == 1998) {
                    // legend1997.removeFrom(map);
                    // legend1998.addTo(map);
                    console.log(index)
                    //getResidentsData1998(map);
                    map.addLayer(geoJsonLayers.residents_1998)

                     if(document.getElementById('checkboxCity3').checked) {
                        map.addLayer(geoJsonLayers.residents_1998)
                    } else {
                        map.removeLayer(geoJsonLayers.residents_1998)
                    }


                    // }


                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.residents_1998)
                                // end
                        } else {

                            console.log("uncheced")
                            map.removeLayer(geoJsonLayers.residents_1971)
                            map.removeLayer(geoJsonLayers.residents_1973)
                            map.removeLayer(geoJsonLayers.residents_1984)
                            map.removeLayer(geoJsonLayers.residents_1989)
                            map.removeLayer(geoJsonLayers.residents_1990)
                            map.removeLayer(geoJsonLayers.residents_1991)
                            map.removeLayer(geoJsonLayers.residents_1992)
                            map.removeLayer(geoJsonLayers.residents_1993)
                            map.removeLayer(geoJsonLayers.residents_1994)
                            map.removeLayer(geoJsonLayers.residents_1995)
                            map.removeLayer(geoJsonLayers.residents_1996)
                            map.removeLayer(geoJsonLayers.residents_1997)
                            map.removeLayer(geoJsonLayers.residents_1998)
                            map.removeLayer(geoJsonLayers.residents_1999)
                            map.removeLayer(geoJsonLayers.residents_2000)
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }



                    });
                    if(document.getElementById('checkboxCity').checked) {
                        map.addLayer(geoJsonLayers.fellows_1998)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1998)
                    }

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.fellows_1998)

                        } else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                            map.removeLayer(geoJsonLayer.fellows_1978)
                        }
                    });
                    
                    if(document.getElementById('checkboxCity2').checked) {
                        map.addLayer(geoJsonLayers.residentsFellows_1998)
                    } else {
                        console.log("removing")
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    }

                    $(".Cities2").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.residentsFellows_1998)

                        } else {
                            map.removeLayer(geoJsonLayers.residentsFellows_1981)
                                map.removeLayer(geoJsonLayers.residentsFellows_1982)
                                map.removeLayer(geoJsonLayers.residentsFellows_1990)
                                // map.removeLayer(geoJsonLayers.fellows_1984)
                                map.removeLayer(geoJsonLayers.residentsFellows_1991)
                                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                                map.removeLayer(geoJsonLayers.residentsFellows_2014)
                        }
                    });

                }
                if (index == 1999) {
                    // legend1998.removeFrom(map);
                    // legend1999.addTo(map);
                    console.log(index)
                    //getResidentsData1999(map);
                    map.addLayer(geoJsonLayers.residents_1999)

                     if(document.getElementById('checkboxCity3').checked) {
                        map.addLayer(geoJsonLayers.residents_1999)
                    } else {
                        map.removeLayer(geoJsonLayers.residents_1999)
                    }


                    // }


                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.residents_1999)
                                // end
                        } else {

                            console.log("uncheced")
                            map.removeLayer(geoJsonLayers.residents_1971)
                            map.removeLayer(geoJsonLayers.residents_1973)
                            map.removeLayer(geoJsonLayers.residents_1984)
                            map.removeLayer(geoJsonLayers.residents_1989)
                            map.removeLayer(geoJsonLayers.residents_1990)
                            map.removeLayer(geoJsonLayers.residents_1991)
                            map.removeLayer(geoJsonLayers.residents_1992)
                            map.removeLayer(geoJsonLayers.residents_1993)
                            map.removeLayer(geoJsonLayers.residents_1994)
                            map.removeLayer(geoJsonLayers.residents_1995)
                            map.removeLayer(geoJsonLayers.residents_1996)
                            map.removeLayer(geoJsonLayers.residents_1997)
                            map.removeLayer(geoJsonLayers.residents_1998)
                            map.removeLayer(geoJsonLayers.residents_1999)
                            map.removeLayer(geoJsonLayers.residents_2000)
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }



                    });
                    if(document.getElementById('checkboxCity').checked) {
                        map.addLayer(geoJsonLayers.fellows_1999)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1999)
                    }

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.fellows_1999)

                        } else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                            map.removeLayer(geoJsonLayer.fellows_1978)
                        }
                    });

                    if(document.getElementById('checkboxCity2').checked) {
                        map.addLayer(geoJsonLayers.residentsFellows_1999)
                    } else {
                        console.log("removing")
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    }

                    $(".Cities2").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.residentsFellows_1999)

                        } else {
                            map.removeLayer(geoJsonLayers.residentsFellows_1981)
                                map.removeLayer(geoJsonLayers.residentsFellows_1982)
                                map.removeLayer(geoJsonLayers.residentsFellows_1990)
                                // map.removeLayer(geoJsonLayers.fellows_1984)
                                map.removeLayer(geoJsonLayers.residentsFellows_1991)
                                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                                map.removeLayer(geoJsonLayers.residentsFellows_2014)
                        }
                    });

                }
                if (index == 2000) {
                    // legend1999.removeFrom(map);
                    // legend2000.addTo(map);
                    console.log(index)
                    //getResidentsData1999(map);
                    map.addLayer(geoJsonLayers.residents_2000)

                     if(document.getElementById('checkboxCity3').checked) {
                        map.addLayer(geoJsonLayers.residents_2000)
                    } else {
                        map.removeLayer(geoJsonLayers.residents_2000)
                    }


                    // }


                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.residents_2000)
                                // end
                        } else {

                            console.log("uncheced")
                            map.removeLayer(geoJsonLayers.residents_1971)
                            map.removeLayer(geoJsonLayers.residents_1973)
                            map.removeLayer(geoJsonLayers.residents_1984)
                            map.removeLayer(geoJsonLayers.residents_1989)
                            map.removeLayer(geoJsonLayers.residents_1990)
                            map.removeLayer(geoJsonLayers.residents_1991)
                            map.removeLayer(geoJsonLayers.residents_1992)
                            map.removeLayer(geoJsonLayers.residents_1993)
                            map.removeLayer(geoJsonLayers.residents_1994)
                            map.removeLayer(geoJsonLayers.residents_1995)
                            map.removeLayer(geoJsonLayers.residents_1996)
                            map.removeLayer(geoJsonLayers.residents_1997)
                            map.removeLayer(geoJsonLayers.residents_1998)
                            map.removeLayer(geoJsonLayers.residents_1999)
                            map.removeLayer(geoJsonLayers.residents_2000)
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }



                    });



                    if(document.getElementById('checkboxCity').checked) {
                        map.addLayer(geoJsonLayers.fellows_2000)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_2000)
                    }

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.fellows_2000)

                        } else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                            map.removeLayer(geoJsonLayer.fellows_1978)
                        }



                    });
                }
                if (index == 2001) {
                    // legend2000.removeFrom(map);
                    // legend2001.addTo(map);
                    console.log(index)
                    //getResidentsData1999(map);
                    if(document.getElementById('checkboxCity').checked) {
                        map.addLayer(geoJsonLayers.fellows_2001)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_2001)
                    }

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.fellows_2001)

                        } else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                            map.removeLayer(geoJsonLayer.fellows_1978)
                        }



                    });
                }
                if (index == 2002) {
                    // legend2001.removeFrom(map);
                    // legend2002.addTo(map);
                    console.log(index)
                    //getResidentsData1999(map);
                    map.addLayer(geoJsonLayers.residents_2002)

                     if(document.getElementById('checkboxCity3').checked) {
                        map.addLayer(geoJsonLayers.residents_2002)
                    } else {
                        map.removeLayer(geoJsonLayers.residents_2002)
                    }


                    // }


                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.residents_2002)
                                // end
                        } else {

                            console.log("uncheced")
                            map.removeLayer(geoJsonLayers.residents_1971)
                            map.removeLayer(geoJsonLayers.residents_1973)
                            map.removeLayer(geoJsonLayers.residents_1984)
                            map.removeLayer(geoJsonLayers.residents_1989)
                            map.removeLayer(geoJsonLayers.residents_1990)
                            map.removeLayer(geoJsonLayers.residents_1991)
                            map.removeLayer(geoJsonLayers.residents_1992)
                            map.removeLayer(geoJsonLayers.residents_1993)
                            map.removeLayer(geoJsonLayers.residents_1994)
                            map.removeLayer(geoJsonLayers.residents_1995)
                            map.removeLayer(geoJsonLayers.residents_1996)
                            map.removeLayer(geoJsonLayers.residents_1997)
                            map.removeLayer(geoJsonLayers.residents_1998)
                            map.removeLayer(geoJsonLayers.residents_1999)
                            map.removeLayer(geoJsonLayers.residents_2000)
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }



                    });
                    if(document.getElementById('checkboxCity').checked) {
                        map.addLayer(geoJsonLayers.fellows_2002)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_2002)
                    }

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.fellows_2002)

                        } else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                            map.removeLayer(geoJsonLayer.fellows_1978)
                        }



                    });
                }
                if (index == 2003) {
                    // legend2002.removeFrom(map);
                    // legend2003.addTo(map);
                    console.log(index)
                    //getResidentsData1999(map);
                    map.addLayer(geoJsonLayers.residents_2003)

                     if(document.getElementById('checkboxCity3').checked) {
                        map.addLayer(geoJsonLayers.residents_2003)
                    } else {
                        map.removeLayer(geoJsonLayers.residents_2003)
                    }


                    // }


                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.residents_2003)
                                // end
                        } else {

                            console.log("uncheced")
                            map.removeLayer(geoJsonLayers.residents_1971)
                            map.removeLayer(geoJsonLayers.residents_1973)
                            map.removeLayer(geoJsonLayers.residents_1984)
                            map.removeLayer(geoJsonLayers.residents_1989)
                            map.removeLayer(geoJsonLayers.residents_1990)
                            map.removeLayer(geoJsonLayers.residents_1991)
                            map.removeLayer(geoJsonLayers.residents_1992)
                            map.removeLayer(geoJsonLayers.residents_1993)
                            map.removeLayer(geoJsonLayers.residents_1994)
                            map.removeLayer(geoJsonLayers.residents_1995)
                            map.removeLayer(geoJsonLayers.residents_1996)
                            map.removeLayer(geoJsonLayers.residents_1997)
                            map.removeLayer(geoJsonLayers.residents_1998)
                            map.removeLayer(geoJsonLayers.residents_1999)
                            map.removeLayer(geoJsonLayers.residents_2000)
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }



                    });
                    if(document.getElementById('checkboxCity').checked) {
                        map.addLayer(geoJsonLayers.fellows_2003)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_2003)
                    }

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.fellows_2003)

                        } else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                            map.removeLayer(geoJsonLayer.fellows_1978)
                        }
                    });

                    if(document.getElementById('checkboxCity2').checked) {
                        map.addLayer(geoJsonLayers.residentsFellows_2003)
                    } else {
                        console.log("removing")
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    }

                    $(".Cities2").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.residentsFellows_2003)

                        } else {
                            map.removeLayer(geoJsonLayers.residentsFellows_1981)
                                map.removeLayer(geoJsonLayers.residentsFellows_1982)
                                map.removeLayer(geoJsonLayers.residentsFellows_1990)
                                // map.removeLayer(geoJsonLayers.fellows_1984)
                                map.removeLayer(geoJsonLayers.residentsFellows_1991)
                                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                                map.removeLayer(geoJsonLayers.residentsFellows_2014)
                        }
                    });
                }
                if (index == 2004) {
                    // legend2003.removeFrom(map);
                    // legend2004.addTo(map);
                    console.log(index)
                    //getResidentsData1999(map);
                    map.addLayer(geoJsonLayers.residents_2004)

                     if(document.getElementById('checkboxCity3').checked) {
                        map.addLayer(geoJsonLayers.residents_2004)
                    } else {
                        map.removeLayer(geoJsonLayers.residents_2004)
                    }


                    // }


                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.residents_2004)
                                // end
                        } else {

                            console.log("uncheced")
                            map.removeLayer(geoJsonLayers.residents_1971)
                            map.removeLayer(geoJsonLayers.residents_1973)
                            map.removeLayer(geoJsonLayers.residents_1984)
                            map.removeLayer(geoJsonLayers.residents_1989)
                            map.removeLayer(geoJsonLayers.residents_1990)
                            map.removeLayer(geoJsonLayers.residents_1991)
                            map.removeLayer(geoJsonLayers.residents_1992)
                            map.removeLayer(geoJsonLayers.residents_1993)
                            map.removeLayer(geoJsonLayers.residents_1994)
                            map.removeLayer(geoJsonLayers.residents_1995)
                            map.removeLayer(geoJsonLayers.residents_1996)
                            map.removeLayer(geoJsonLayers.residents_1997)
                            map.removeLayer(geoJsonLayers.residents_1998)
                            map.removeLayer(geoJsonLayers.residents_1999)
                            map.removeLayer(geoJsonLayers.residents_2000)
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }



                    });
                    if(document.getElementById('checkboxCity').checked) {
                        map.addLayer(geoJsonLayers.fellows_2004)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_2004)
                    }

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.fellows_2004)

                        } else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                            map.removeLayer(geoJsonLayer.fellows_1978)
                        }
                    });

                    if(document.getElementById('checkboxCity2').checked) {
                        map.addLayer(geoJsonLayers.residentsFellows_2004)
                    } else {
                        console.log("removing")
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    }

                    $(".Cities2").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.residentsFellows_2004)

                        } else {
                            map.removeLayer(geoJsonLayers.residentsFellows_1981)
                                map.removeLayer(geoJsonLayers.residentsFellows_1982)
                                map.removeLayer(geoJsonLayers.residentsFellows_1990)
                                // map.removeLayer(geoJsonLayers.fellows_1984)
                                map.removeLayer(geoJsonLayers.residentsFellows_1991)
                                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                                map.removeLayer(geoJsonLayers.residentsFellows_2014)
                        }
                    });
                }
                if (index == 2005) {
                    // legend2004.removeFrom(map);
                    // legend2005.addTo(map);
                    console.log(index)
                    //getResidentsData1999(map);
                    map.addLayer(geoJsonLayers.residents_2005)

                     if(document.getElementById('checkboxCity3').checked) {
                        map.addLayer(geoJsonLayers.residents_2005)
                    } else {
                        map.removeLayer(geoJsonLayers.residents_2005)
                    }


                    // }


                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.residents_2005)
                                // end
                        } else {

                            console.log("uncheced")
                            map.removeLayer(geoJsonLayers.residents_1971)
                            map.removeLayer(geoJsonLayers.residents_1973)
                            map.removeLayer(geoJsonLayers.residents_1984)
                            map.removeLayer(geoJsonLayers.residents_1989)
                            map.removeLayer(geoJsonLayers.residents_1990)
                            map.removeLayer(geoJsonLayers.residents_1991)
                            map.removeLayer(geoJsonLayers.residents_1992)
                            map.removeLayer(geoJsonLayers.residents_1993)
                            map.removeLayer(geoJsonLayers.residents_1994)
                            map.removeLayer(geoJsonLayers.residents_1995)
                            map.removeLayer(geoJsonLayers.residents_1996)
                            map.removeLayer(geoJsonLayers.residents_1997)
                            map.removeLayer(geoJsonLayers.residents_1998)
                            map.removeLayer(geoJsonLayers.residents_1999)
                            map.removeLayer(geoJsonLayers.residents_2000)
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }



                    });
                    if(document.getElementById('checkboxCity').checked) {
                        map.addLayer(geoJsonLayers.fellows_2005)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_2005)
                    }

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.fellows_2005)

                        } else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }
                    });


                    if(document.getElementById('checkboxCity2').checked) {
                        map.addLayer(geoJsonLayers.residentsFellows_2005)
                    } else {
                        console.log("removing")
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    }

                    $(".Cities2").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.residentsFellows_2005)

                        } else {
                            map.removeLayer(geoJsonLayers.residentsFellows_1981)
                                map.removeLayer(geoJsonLayers.residentsFellows_1982)
                                map.removeLayer(geoJsonLayers.residentsFellows_1990)
                                // map.removeLayer(geoJsonLayers.fellows_1984)
                                map.removeLayer(geoJsonLayers.residentsFellows_1991)
                                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                                map.removeLayer(geoJsonLayers.residentsFellows_2014)
                        }
                    });
                }
                if (index == 2006) {
                    // legend2005.removeFrom(map);
                    // legend2006.addTo(map);
                    console.log(index)
                    //getResidentsData1999(map);
                    map.addLayer(geoJsonLayers.residents_2006)

                     if(document.getElementById('checkboxCity3').checked) {
                        map.addLayer(geoJsonLayers.residents_2006)
                    } else {
                        map.removeLayer(geoJsonLayers.residents_2006)
                    }


                    // }


                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.residents_2006)
                                // end
                        } else {

                            console.log("uncheced")
                            map.removeLayer(geoJsonLayers.residents_1971)
                            map.removeLayer(geoJsonLayers.residents_1973)
                            map.removeLayer(geoJsonLayers.residents_1984)
                            map.removeLayer(geoJsonLayers.residents_1989)
                            map.removeLayer(geoJsonLayers.residents_1990)
                            map.removeLayer(geoJsonLayers.residents_1991)
                            map.removeLayer(geoJsonLayers.residents_1992)
                            map.removeLayer(geoJsonLayers.residents_1993)
                            map.removeLayer(geoJsonLayers.residents_1994)
                            map.removeLayer(geoJsonLayers.residents_1995)
                            map.removeLayer(geoJsonLayers.residents_1996)
                            map.removeLayer(geoJsonLayers.residents_1997)
                            map.removeLayer(geoJsonLayers.residents_1998)
                            map.removeLayer(geoJsonLayers.residents_1999)
                            map.removeLayer(geoJsonLayers.residents_2000)
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }



                    });
                    if(document.getElementById('checkboxCity').checked) {
                        map.addLayer(geoJsonLayers.fellows_2006)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_2006)
                    }

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.fellows_2006)

                        } else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }
                    });

                    if(document.getElementById('checkboxCity2').checked) {
                        map.addLayer(geoJsonLayers.residentsFellows_2006)
                    } else {
                        console.log("removing")
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    }

                    $(".Cities2").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.residentsFellows_2006)

                        } else {
                            map.removeLayer(geoJsonLayers.residentsFellows_1981)
                                map.removeLayer(geoJsonLayers.residentsFellows_1982)
                                map.removeLayer(geoJsonLayers.residentsFellows_1990)
                                // map.removeLayer(geoJsonLayers.fellows_1984)
                                map.removeLayer(geoJsonLayers.residentsFellows_1991)
                                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                                map.removeLayer(geoJsonLayers.residentsFellows_2014)
                        }
                    });
                }
                if (index == 2007) {
                    // legend2006.removeFrom(map);
                    // legend2007.addTo(map);
                    console.log(index)
                    if(document.getElementById('checkboxCity').checked) {
                        map.addLayer(geoJsonLayers.fellows_2007)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_2007)
                    }

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {
 
                                map.addLayer(geoJsonLayers.fellows_2007)

                        } else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)

                        }
                    });
                    
                    if(document.getElementById('checkboxCity2').checked) {
                        map.addLayer(geoJsonLayers.residentsFellows_2007)
                    } else {
                        console.log("removing")
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    }

                    $(".Cities2").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {
                                map.addLayer(geoJsonLayers.residentsFellows_2007)

                        } else {
                            map.removeLayer(geoJsonLayers.residentsFellows_1981)
                                map.removeLayer(geoJsonLayers.residentsFellows_1982)
                                map.removeLayer(geoJsonLayers.residentsFellows_1990)
                                // map.removeLayer(geoJsonLayers.fellows_1984)
                                map.removeLayer(geoJsonLayers.residentsFellows_1991)
                                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                                map.removeLayer(geoJsonLayers.residentsFellows_2014)
                        }
                    });
                }
                if (index == 2008) {
                    // legend2007.removeFrom(map);
                    // legend2008.addTo(map);
                    console.log(index)
                    //getResidentsData1999(map);
                    map.addLayer(geoJsonLayers.residents_2008)

                     if(document.getElementById('checkboxCity3').checked) {
                        map.addLayer(geoJsonLayers.residents_2008)
                    } else {
                        map.removeLayer(geoJsonLayers.residents_2008)
                    }


                    // }


                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.residents_2008)
                                // end
                        } else {

                            console.log("uncheced")
                            map.removeLayer(geoJsonLayers.residents_1971)
                            map.removeLayer(geoJsonLayers.residents_1973)
                            map.removeLayer(geoJsonLayers.residents_1984)
                            map.removeLayer(geoJsonLayers.residents_1989)
                            map.removeLayer(geoJsonLayers.residents_1990)
                            map.removeLayer(geoJsonLayers.residents_1991)
                            map.removeLayer(geoJsonLayers.residents_1992)
                            map.removeLayer(geoJsonLayers.residents_1993)
                            map.removeLayer(geoJsonLayers.residents_1994)
                            map.removeLayer(geoJsonLayers.residents_1995)
                            map.removeLayer(geoJsonLayers.residents_1996)
                            map.removeLayer(geoJsonLayers.residents_1997)
                            map.removeLayer(geoJsonLayers.residents_1998)
                            map.removeLayer(geoJsonLayers.residents_1999)
                            map.removeLayer(geoJsonLayers.residents_2000)
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }



                    });
                    if(document.getElementById('checkboxCity').checked) {
                        map.addLayer(geoJsonLayers.fellows_2008)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_2008)
                    }

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {
                                map.addLayer(geoJsonLayers.fellows_2008)

                        } else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)

                        }
                    });

                    if(document.getElementById('checkboxCity2').checked) {
                        map.addLayer(geoJsonLayers.residentsFellows_2008)
                    } else {
                        console.log("removing")
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    }

                    $(".Cities2").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.residentsFellows_2008)

                        } else {
                            map.removeLayer(geoJsonLayers.residentsFellows_1981)
                                map.removeLayer(geoJsonLayers.residentsFellows_1982)
                                map.removeLayer(geoJsonLayers.residentsFellows_1990)
                                // map.removeLayer(geoJsonLayers.fellows_1984)
                                map.removeLayer(geoJsonLayers.residentsFellows_1991)
                                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                                map.removeLayer(geoJsonLayers.residentsFellows_2014)
                        }
                    });
                }
                if (index == 2009) {
                    // legend2008.removeFrom(map);
                    // legend2009.addTo(map);
                    console.log(index)
                    //getResidentsData1999(map);
                    map.addLayer(geoJsonLayers.residents_2009)

                    if(document.getElementById('checkboxCity3').checked) {
                        map.addLayer(geoJsonLayers.residents_2009)
                    } else {
                        map.removeLayer(geoJsonLayers.residents_2009)
                    }


                    // }


                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.residents_2009)
                                // end
                        } else {

                            console.log("uncheced")
                            map.removeLayer(geoJsonLayers.residents_1971)
                            map.removeLayer(geoJsonLayers.residents_1973)
                            map.removeLayer(geoJsonLayers.residents_1984)
                            map.removeLayer(geoJsonLayers.residents_1989)
                            map.removeLayer(geoJsonLayers.residents_1990)
                            map.removeLayer(geoJsonLayers.residents_1991)
                            map.removeLayer(geoJsonLayers.residents_1992)
                            map.removeLayer(geoJsonLayers.residents_1993)
                            map.removeLayer(geoJsonLayers.residents_1994)
                            map.removeLayer(geoJsonLayers.residents_1995)
                            map.removeLayer(geoJsonLayers.residents_1996)
                            map.removeLayer(geoJsonLayers.residents_1997)
                            map.removeLayer(geoJsonLayers.residents_1998)
                            map.removeLayer(geoJsonLayers.residents_1999)
                            map.removeLayer(geoJsonLayers.residents_2000)
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }



                    });
                    if(document.getElementById('checkboxCity').checked) {
                        map.addLayer(geoJsonLayers.fellows_2009)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_2009)
                    }

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {
          
                                map.addLayer(geoJsonLayers.fellows_2009)

                        } else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)

                        }
                    });

                    if(document.getElementById('checkboxCity2').checked) {
                        map.addLayer(geoJsonLayers.residentsFellows_2009)
                    } else {
                        console.log("removing")
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    }

                    $(".Cities2").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {
                                map.addLayer(geoJsonLayers.residentsFellows_2009)

                        } else {
                            map.removeLayer(geoJsonLayers.residentsFellows_1981)
                                map.removeLayer(geoJsonLayers.residentsFellows_1982)
                                map.removeLayer(geoJsonLayers.residentsFellows_1990)
                                // map.removeLayer(geoJsonLayers.fellows_1984)
                                map.removeLayer(geoJsonLayers.residentsFellows_1991)
                                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                                map.removeLayer(geoJsonLayers.residentsFellows_2014)
                        }
                    });
                }
                if (index == 2010) {
                    // legend2009.removeFrom(map);
                    // legend2010.addTo(map);
                    console.log(index)
                    //getResidentsData1999(map);
                    map.addLayer(geoJsonLayers.residents_2010)

                    if(document.getElementById('checkboxCity3').checked) {
                        map.addLayer(geoJsonLayers.residents_2010)
                    } else {
                        map.removeLayer(geoJsonLayers.residents_2010)
                    }


                    // }


                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.residents_2010)
                                // end
                        } else {

                            console.log("uncheced")
                            map.removeLayer(geoJsonLayers.residents_1971)
                            map.removeLayer(geoJsonLayers.residents_1973)
                            map.removeLayer(geoJsonLayers.residents_1984)
                            map.removeLayer(geoJsonLayers.residents_1989)
                            map.removeLayer(geoJsonLayers.residents_1990)
                            map.removeLayer(geoJsonLayers.residents_1991)
                            map.removeLayer(geoJsonLayers.residents_1992)
                            map.removeLayer(geoJsonLayers.residents_1993)
                            map.removeLayer(geoJsonLayers.residents_1994)
                            map.removeLayer(geoJsonLayers.residents_1995)
                            map.removeLayer(geoJsonLayers.residents_1996)
                            map.removeLayer(geoJsonLayers.residents_1997)
                            map.removeLayer(geoJsonLayers.residents_1998)
                            map.removeLayer(geoJsonLayers.residents_1999)
                            map.removeLayer(geoJsonLayers.residents_2000)
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }



                    });
                    if(document.getElementById('checkboxCity').checked) {
                        map.addLayer(geoJsonLayers.fellows_2010)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_2010)
                    }

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {
                                map.addLayer(geoJsonLayers.fellows_2010)

                        } else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)

                        }
                    });

                    if(document.getElementById('checkboxCity2').checked) {
                        map.addLayer(geoJsonLayers.residentsFellows_2010)
                    } else {
                        console.log("removing")
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    }

                    $(".Cities2").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {
                                map.addLayer(geoJsonLayers.residentsFellows_2010)

                        } else {
                            map.removeLayer(geoJsonLayers.residentsFellows_1981)
                                map.removeLayer(geoJsonLayers.residentsFellows_1982)
                                map.removeLayer(geoJsonLayers.residentsFellows_1990)
                                // map.removeLayer(geoJsonLayers.fellows_1984)
                                map.removeLayer(geoJsonLayers.residentsFellows_1991)
                                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                                map.removeLayer(geoJsonLayers.residentsFellows_2014)
                        }
                    });
                }
                if (index == 2011) {
                    // legend2010.removeFrom(map);
                    // legend2011.addTo(map);
                    console.log(index)
                    //getResidentsData1999(map);
                    map.addLayer(geoJsonLayers.residents_2011)

                    if(document.getElementById('checkboxCity3').checked) {
                        map.addLayer(geoJsonLayers.residents_2011)
                    } else {
                        map.removeLayer(geoJsonLayers.residents_2011)
                    }


                    // }


                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.residents_2011)
                                // end
                        } else {

                            console.log("uncheced")
                            map.removeLayer(geoJsonLayers.residents_1971)
                            map.removeLayer(geoJsonLayers.residents_1973)
                            map.removeLayer(geoJsonLayers.residents_1984)
                            map.removeLayer(geoJsonLayers.residents_1989)
                            map.removeLayer(geoJsonLayers.residents_1990)
                            map.removeLayer(geoJsonLayers.residents_1991)
                            map.removeLayer(geoJsonLayers.residents_1992)
                            map.removeLayer(geoJsonLayers.residents_1993)
                            map.removeLayer(geoJsonLayers.residents_1994)
                            map.removeLayer(geoJsonLayers.residents_1995)
                            map.removeLayer(geoJsonLayers.residents_1996)
                            map.removeLayer(geoJsonLayers.residents_1997)
                            map.removeLayer(geoJsonLayers.residents_1998)
                            map.removeLayer(geoJsonLayers.residents_1999)
                            map.removeLayer(geoJsonLayers.residents_2000)
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }



                    });
                    if(document.getElementById('checkboxCity').checked) {
                        map.addLayer(geoJsonLayers.fellows_2011)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_2011)
                    }

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {
                                map.addLayer(geoJsonLayers.fellows_2011)

                        } else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)

                        }
                    });

                    if(document.getElementById('checkboxCity2').checked) {
                        map.addLayer(geoJsonLayers.residentsFellows_2011)
                    } else {
                        console.log("removing")
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    }

                    $(".Cities2").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {
                                map.addLayer(geoJsonLayers.residentsFellows_2011)

                        } else {
                            map.removeLayer(geoJsonLayers.residentsFellows_1981)
                                map.removeLayer(geoJsonLayers.residentsFellows_1982)
                                map.removeLayer(geoJsonLayers.residentsFellows_1990)
                                // map.removeLayer(geoJsonLayers.fellows_1984)
                                map.removeLayer(geoJsonLayers.residentsFellows_1991)
                                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                                map.removeLayer(geoJsonLayers.residentsFellows_2014)
                        }
                    });
                }
                if (index == 2012) {
                    // legend2011.removeFrom(map);
                    // legend2012.addTo(map);
                    console.log(index)
                    //getResidentsData1999(map);
                    if(document.getElementById('checkboxCity').checked) {
                        map.addLayer(geoJsonLayers.fellows_2012)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_2012)
                    }

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {
                                map.addLayer(geoJsonLayers.fellows_2012)

                        } else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)

                        }
                    });

                    if(document.getElementById('checkboxCity2').checked) {
                        map.addLayer(geoJsonLayers.residentsFellows_2012)
                    } else {
                        console.log("removing")
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    }

                    $(".Cities2").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {
                                map.addLayer(geoJsonLayers.residentsFellows_2012)

                        } else {
                            map.removeLayer(geoJsonLayers.residentsFellows_1981)
                                map.removeLayer(geoJsonLayers.residentsFellows_1982)
                                map.removeLayer(geoJsonLayers.residentsFellows_1990)
                                // map.removeLayer(geoJsonLayers.fellows_1984)
                                map.removeLayer(geoJsonLayers.residentsFellows_1991)
                                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                                map.removeLayer(geoJsonLayers.residentsFellows_2014)
                        }
                    });
                }
                if (index == 2013) {
                    // legend2012.removeFrom(map);
                    // legend2013.addTo(map);
                    console.log(index)
                    //getResidentsData1999(map);
                    map.addLayer(geoJsonLayers.residents_2013)

                    if(document.getElementById('checkboxCity3').checked) {
                        map.addLayer(geoJsonLayers.residents_2013)
                    } else {
                        map.removeLayer(geoJsonLayers.residents_2013)
                    }


                    // }


                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.residents_2013)
                                // end
                        } else {

                            console.log("uncheced")
                            map.removeLayer(geoJsonLayers.residents_1971)
                            map.removeLayer(geoJsonLayers.residents_1973)
                            map.removeLayer(geoJsonLayers.residents_1984)
                            map.removeLayer(geoJsonLayers.residents_1989)
                            map.removeLayer(geoJsonLayers.residents_1990)
                            map.removeLayer(geoJsonLayers.residents_1991)
                            map.removeLayer(geoJsonLayers.residents_1992)
                            map.removeLayer(geoJsonLayers.residents_1993)
                            map.removeLayer(geoJsonLayers.residents_1994)
                            map.removeLayer(geoJsonLayers.residents_1995)
                            map.removeLayer(geoJsonLayers.residents_1996)
                            map.removeLayer(geoJsonLayers.residents_1997)
                            map.removeLayer(geoJsonLayers.residents_1998)
                            map.removeLayer(geoJsonLayers.residents_1999)
                            map.removeLayer(geoJsonLayers.residents_2000)
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }



                    });
                    if(document.getElementById('checkboxCity').checked) {
                        map.addLayer(geoJsonLayers.fellows_2013)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_2013)
                    }

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {
                                map.addLayer(geoJsonLayers.fellows_2013)

                        } else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)

                        }
                    });

                    if(document.getElementById('checkboxCity2').checked) {
                        map.addLayer(geoJsonLayers.residentsFellows_2013)
                    } else {
                        console.log("removing")
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    }

                    $(".Cities2").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {
                                map.addLayer(geoJsonLayers.residentsFellows_2013)

                        } else {
                            map.removeLayer(geoJsonLayers.residentsFellows_1981)
                                map.removeLayer(geoJsonLayers.residentsFellows_1982)
                                map.removeLayer(geoJsonLayers.residentsFellows_1990)
                                // map.removeLayer(geoJsonLayers.fellows_1984)
                                map.removeLayer(geoJsonLayers.residentsFellows_1991)
                                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                                map.removeLayer(geoJsonLayers.residentsFellows_2014)
                        }
                    });
                }
                if (index == 2014) {
                    // legend2013.removeFrom(map);
                    // legend2014.addTo(map);
                    console.log(index)
                    //getResidentsData1999(map);
                    map.addLayer(geoJsonLayers.residents_2014)

                    if(document.getElementById('checkboxCity3').checked) {
                        map.addLayer(geoJsonLayers.residents_2014)
                    } else {
                        map.removeLayer(geoJsonLayers.residents_2014)
                    }


                    // }


                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                                map.addLayer(geoJsonLayers.residents_2014)
                                // end
                        } else {

                            console.log("uncheced")
                            map.removeLayer(geoJsonLayers.residents_1971)
                            map.removeLayer(geoJsonLayers.residents_1973)
                            map.removeLayer(geoJsonLayers.residents_1984)
                            map.removeLayer(geoJsonLayers.residents_1989)
                            map.removeLayer(geoJsonLayers.residents_1990)
                            map.removeLayer(geoJsonLayers.residents_1991)
                            map.removeLayer(geoJsonLayers.residents_1992)
                            map.removeLayer(geoJsonLayers.residents_1993)
                            map.removeLayer(geoJsonLayers.residents_1994)
                            map.removeLayer(geoJsonLayers.residents_1995)
                            map.removeLayer(geoJsonLayers.residents_1996)
                            map.removeLayer(geoJsonLayers.residents_1997)
                            map.removeLayer(geoJsonLayers.residents_1998)
                            map.removeLayer(geoJsonLayers.residents_1999)
                            map.removeLayer(geoJsonLayers.residents_2000)
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }



                    });
                    if(document.getElementById('checkboxCity').checked) {
                        map.addLayer(geoJsonLayers.fellows_2014)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    }

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {
                                map.addLayer(geoJsonLayers.fellows_2014)

                        } else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)

                        }
                    });

                    if(document.getElementById('checkboxCity2').checked) {
                        map.addLayer(geoJsonLayers.residentsFellows_2014)
                    } else {
                        console.log("removing")
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)
                    }

                    $(".Cities2").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {
                                map.addLayer(geoJsonLayers.residentsFellows_2014)

                        } else {
                                map.removeLayer(geoJsonLayers.residentsFellows_1981)
                                map.removeLayer(geoJsonLayers.residentsFellows_1982)
                                map.removeLayer(geoJsonLayers.residentsFellows_1990)
                                // map.removeLayer(geoJsonLayers.fellows_1984)
                                map.removeLayer(geoJsonLayers.residentsFellows_1991)
                                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                                map.removeLayer(geoJsonLayers.residentsFellows_2014)
                        }
                    });
                }

                if (index == 2015) {
                    // legend2014.removeFrom(map);
                    // legend2015.addTo(map);
                    console.log(index)
                    //getResidentsData1999(map);

                    if(document.getElementById('checkboxCity').checked) {
                        map.addLayer(geoJsonLayers.fellows_2015)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_2015)
                    }


                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {
                                map.addLayer(geoJsonLayers.fellows_2014)

                        } else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)

                        }



                    });
                return index;  
                }


                //else if reverse clicked, decreasing increments by 1
            } else if ($(this).attr('id') == 'reverse') {
                index--;
                index = index < 1971 ? 2016 : index;
                console.log(index);

                // if (index = 1971) {
                //     legend1972.removeFrom(map);
                // }
                if (index == 1972) {
                    // legend1973.removeFrom(map);
                    // legend1972.addTo(map);
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)

                    map.removeLayer(geoJsonLayers.fellows_1978)
                    map.removeLayer(geoJsonLayers.fellows_1982)
                    map.removeLayer(geoJsonLayers.fellows_1983)
                    // map.removeLayer(geoJsonLayers.fellows_1984)
                    map.removeLayer(geoJsonLayers.fellows_1985)
                    map.removeLayer(geoJsonLayers.fellows_1986)
                    map.removeLayer(geoJsonLayers.fellows_1987)
                    map.removeLayer(geoJsonLayers.fellows_1988)
                    map.removeLayer(geoJsonLayers.fellows_1989)
                    map.removeLayer(geoJsonLayers.fellows_1990)
                    map.removeLayer(geoJsonLayers.fellows_1991)
                    map.removeLayer(geoJsonLayers.fellows_1992)
                    map.removeLayer(geoJsonLayers.fellows_1993)
                    map.removeLayer(geoJsonLayers.fellows_1994)
                    map.removeLayer(geoJsonLayers.fellows_1995)
                    map.removeLayer(geoJsonLayers.fellows_1996)
                    map.removeLayer(geoJsonLayers.fellows_1997)
                    map.removeLayer(geoJsonLayers.fellows_1998)
                    map.removeLayer(geoJsonLayers.fellows_1999)
                    map.removeLayer(geoJsonLayers.fellows_2000)
                    map.removeLayer(geoJsonLayers.fellows_2001)
                    map.removeLayer(geoJsonLayers.fellows_2002)
                    map.removeLayer(geoJsonLayers.fellows_2003)
                    map.removeLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)

                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)

                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            map.removeLayer(geoJsonLayers.residents_1973)
                            map.removeLayer(geoJsonLayers.residents_1984)
                            map.removeLayer(geoJsonLayers.residents_1989)
                            map.removeLayer(geoJsonLayers.residents_1990)
                            map.removeLayer(geoJsonLayers.residents_1991)
                            map.removeLayer(geoJsonLayers.residents_1992)
                            map.removeLayer(geoJsonLayers.residents_1993)
                            map.removeLayer(geoJsonLayers.residents_1994)
                            map.removeLayer(geoJsonLayers.residents_1995)
                            map.removeLayer(geoJsonLayers.residents_1996)
                            map.removeLayer(geoJsonLayers.residents_1997)
                            map.removeLayer(geoJsonLayers.residents_1998)
                            map.removeLayer(geoJsonLayers.residents_1999)
                            map.removeLayer(geoJsonLayers.residents_2000)
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }

                    });

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }

                    });

                    $(".Cities2").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)
                            
                        } 
                    });


                      if(document.getElementById('checkboxCity2').checked) {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });
                }
                if (index == 1973) {
                    // legend1974.removeFrom(map);
                    // legend1973.addTo(map);
                    console.log(index)

                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)

                    map.removeLayer(geoJsonLayers.fellows_1978)
                    map.removeLayer(geoJsonLayers.fellows_1982)
                    map.removeLayer(geoJsonLayers.fellows_1983)
                    // map.removeLayer(geoJsonLayers.fellows_1984)
                    map.removeLayer(geoJsonLayers.fellows_1985)
                    map.removeLayer(geoJsonLayers.fellows_1986)
                    map.removeLayer(geoJsonLayers.fellows_1987)
                    map.removeLayer(geoJsonLayers.fellows_1988)
                    map.removeLayer(geoJsonLayers.fellows_1989)
                    map.removeLayer(geoJsonLayers.fellows_1990)
                    map.removeLayer(geoJsonLayers.fellows_1991)
                    map.removeLayer(geoJsonLayers.fellows_1992)
                    map.removeLayer(geoJsonLayers.fellows_1993)
                    map.removeLayer(geoJsonLayers.fellows_1994)
                    map.removeLayer(geoJsonLayers.fellows_1995)
                    map.removeLayer(geoJsonLayers.fellows_1996)
                    map.removeLayer(geoJsonLayers.fellows_1997)
                    map.removeLayer(geoJsonLayers.fellows_1998)
                    map.removeLayer(geoJsonLayers.fellows_1999)
                    map.removeLayer(geoJsonLayers.fellows_2000)
                    map.removeLayer(geoJsonLayers.fellows_2001)
                    map.removeLayer(geoJsonLayers.fellows_2002)
                    map.removeLayer(geoJsonLayers.fellows_2003)
                    map.removeLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)

                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)

                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            
                            map.removeLayer(geoJsonLayers.residents_1984)
                            map.removeLayer(geoJsonLayers.residents_1989)
                            map.removeLayer(geoJsonLayers.residents_1990)
                            map.removeLayer(geoJsonLayers.residents_1991)
                            map.removeLayer(geoJsonLayers.residents_1992)
                            map.removeLayer(geoJsonLayers.residents_1993)
                            map.removeLayer(geoJsonLayers.residents_1994)
                            map.removeLayer(geoJsonLayers.residents_1995)
                            map.removeLayer(geoJsonLayers.residents_1996)
                            map.removeLayer(geoJsonLayers.residents_1997)
                            map.removeLayer(geoJsonLayers.residents_1998)
                            map.removeLayer(geoJsonLayers.residents_1999)
                            map.removeLayer(geoJsonLayers.residents_2000)
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }

                    });

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }

                    });

                      if(document.getElementById('checkboxCity2').checked) {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });

                }

                if (index == 1974) {
                    // legend1975.removeFrom(map);
                    // legend1974.addTo(map);
                    console.log(index)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)

                    map.removeLayer(geoJsonLayers.fellows_1978)
                    map.removeLayer(geoJsonLayers.fellows_1982)
                    map.removeLayer(geoJsonLayers.fellows_1983)
                    // map.removeLayer(geoJsonLayers.fellows_1984)
                    map.removeLayer(geoJsonLayers.fellows_1985)
                    map.removeLayer(geoJsonLayers.fellows_1986)
                    map.removeLayer(geoJsonLayers.fellows_1987)
                    map.removeLayer(geoJsonLayers.fellows_1988)
                    map.removeLayer(geoJsonLayers.fellows_1989)
                    map.removeLayer(geoJsonLayers.fellows_1990)
                    map.removeLayer(geoJsonLayers.fellows_1991)
                    map.removeLayer(geoJsonLayers.fellows_1992)
                    map.removeLayer(geoJsonLayers.fellows_1993)
                    map.removeLayer(geoJsonLayers.fellows_1994)
                    map.removeLayer(geoJsonLayers.fellows_1995)
                    map.removeLayer(geoJsonLayers.fellows_1996)
                    map.removeLayer(geoJsonLayers.fellows_1997)
                    map.removeLayer(geoJsonLayers.fellows_1998)
                    map.removeLayer(geoJsonLayers.fellows_1999)
                    map.removeLayer(geoJsonLayers.fellows_2000)
                    map.removeLayer(geoJsonLayers.fellows_2001)
                    map.removeLayer(geoJsonLayers.fellows_2002)
                    map.removeLayer(geoJsonLayers.fellows_2003)
                    map.removeLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)

                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)

                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            
                            map.removeLayer(geoJsonLayers.residents_1984)
                            map.removeLayer(geoJsonLayers.residents_1989)
                            map.removeLayer(geoJsonLayers.residents_1990)
                            map.removeLayer(geoJsonLayers.residents_1991)
                            map.removeLayer(geoJsonLayers.residents_1992)
                            map.removeLayer(geoJsonLayers.residents_1993)
                            map.removeLayer(geoJsonLayers.residents_1994)
                            map.removeLayer(geoJsonLayers.residents_1995)
                            map.removeLayer(geoJsonLayers.residents_1996)
                            map.removeLayer(geoJsonLayers.residents_1997)
                            map.removeLayer(geoJsonLayers.residents_1998)
                            map.removeLayer(geoJsonLayers.residents_1999)
                            map.removeLayer(geoJsonLayers.residents_2000)
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }

                    });

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }

                    });

                      if(document.getElementById('checkboxCity2').checked) {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });

                }

                
                if (index == 1975) {
                    // legend1976.removeFrom(map);
                    // legend1975.addTo(map);
                    console.log(index)

                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)

                    map.removeLayer(geoJsonLayers.fellows_1978)
                    map.removeLayer(geoJsonLayers.fellows_1982)
                    map.removeLayer(geoJsonLayers.fellows_1983)
                    // map.removeLayer(geoJsonLayers.fellows_1984)
                    map.removeLayer(geoJsonLayers.fellows_1985)
                    map.removeLayer(geoJsonLayers.fellows_1986)
                    map.removeLayer(geoJsonLayers.fellows_1987)
                    map.removeLayer(geoJsonLayers.fellows_1988)
                    map.removeLayer(geoJsonLayers.fellows_1989)
                    map.removeLayer(geoJsonLayers.fellows_1990)
                    map.removeLayer(geoJsonLayers.fellows_1991)
                    map.removeLayer(geoJsonLayers.fellows_1992)
                    map.removeLayer(geoJsonLayers.fellows_1993)
                    map.removeLayer(geoJsonLayers.fellows_1994)
                    map.removeLayer(geoJsonLayers.fellows_1995)
                    map.removeLayer(geoJsonLayers.fellows_1996)
                    map.removeLayer(geoJsonLayers.fellows_1997)
                    map.removeLayer(geoJsonLayers.fellows_1998)
                    map.removeLayer(geoJsonLayers.fellows_1999)
                    map.removeLayer(geoJsonLayers.fellows_2000)
                    map.removeLayer(geoJsonLayers.fellows_2001)
                    map.removeLayer(geoJsonLayers.fellows_2002)
                    map.removeLayer(geoJsonLayers.fellows_2003)
                    map.removeLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)

                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)

                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            
                            map.removeLayer(geoJsonLayers.residents_1984)
                            map.removeLayer(geoJsonLayers.residents_1989)
                            map.removeLayer(geoJsonLayers.residents_1990)
                            map.removeLayer(geoJsonLayers.residents_1991)
                            map.removeLayer(geoJsonLayers.residents_1992)
                            map.removeLayer(geoJsonLayers.residents_1993)
                            map.removeLayer(geoJsonLayers.residents_1994)
                            map.removeLayer(geoJsonLayers.residents_1995)
                            map.removeLayer(geoJsonLayers.residents_1996)
                            map.removeLayer(geoJsonLayers.residents_1997)
                            map.removeLayer(geoJsonLayers.residents_1998)
                            map.removeLayer(geoJsonLayers.residents_1999)
                            map.removeLayer(geoJsonLayers.residents_2000)
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }

                    });

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }

                    });

                      if(document.getElementById('checkboxCity2').checked) {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });

                }
                if (index == 1976) {
                    // legend1977.removeFrom(map);
                    // legend1976.addTo(map);
                    console.log(index)

                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)

                    map.removeLayer(geoJsonLayers.fellows_1978)
                    map.removeLayer(geoJsonLayers.fellows_1982)
                    map.removeLayer(geoJsonLayers.fellows_1983)
                    // map.removeLayer(geoJsonLayers.fellows_1984)
                    map.removeLayer(geoJsonLayers.fellows_1985)
                    map.removeLayer(geoJsonLayers.fellows_1986)
                    map.removeLayer(geoJsonLayers.fellows_1987)
                    map.removeLayer(geoJsonLayers.fellows_1988)
                    map.removeLayer(geoJsonLayers.fellows_1989)
                    map.removeLayer(geoJsonLayers.fellows_1990)
                    map.removeLayer(geoJsonLayers.fellows_1991)
                    map.removeLayer(geoJsonLayers.fellows_1992)
                    map.removeLayer(geoJsonLayers.fellows_1993)
                    map.removeLayer(geoJsonLayers.fellows_1994)
                    map.removeLayer(geoJsonLayers.fellows_1995)
                    map.removeLayer(geoJsonLayers.fellows_1996)
                    map.removeLayer(geoJsonLayers.fellows_1997)
                    map.removeLayer(geoJsonLayers.fellows_1998)
                    map.removeLayer(geoJsonLayers.fellows_1999)
                    map.removeLayer(geoJsonLayers.fellows_2000)
                    map.removeLayer(geoJsonLayers.fellows_2001)
                    map.removeLayer(geoJsonLayers.fellows_2002)
                    map.removeLayer(geoJsonLayers.fellows_2003)
                    map.removeLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)

                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }

                    });

                      if(document.getElementById('checkboxCity2').checked) {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });

                }
                if (index == 1977) {
                    // legend1978.removeFrom(map);
                    // legend1977.addTo(map);
                    console.log(index)

                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)

                    map.removeLayer(geoJsonLayers.fellows_1978)
                    map.removeLayer(geoJsonLayers.fellows_1982)
                    map.removeLayer(geoJsonLayers.fellows_1983)
                    // map.removeLayer(geoJsonLayers.fellows_1984)
                    map.removeLayer(geoJsonLayers.fellows_1985)
                    map.removeLayer(geoJsonLayers.fellows_1986)
                    map.removeLayer(geoJsonLayers.fellows_1987)
                    map.removeLayer(geoJsonLayers.fellows_1988)
                    map.removeLayer(geoJsonLayers.fellows_1989)
                    map.removeLayer(geoJsonLayers.fellows_1990)
                    map.removeLayer(geoJsonLayers.fellows_1991)
                    map.removeLayer(geoJsonLayers.fellows_1992)
                    map.removeLayer(geoJsonLayers.fellows_1993)
                    map.removeLayer(geoJsonLayers.fellows_1994)
                    map.removeLayer(geoJsonLayers.fellows_1995)
                    map.removeLayer(geoJsonLayers.fellows_1996)
                    map.removeLayer(geoJsonLayers.fellows_1997)
                    map.removeLayer(geoJsonLayers.fellows_1998)
                    map.removeLayer(geoJsonLayers.fellows_1999)
                    map.removeLayer(geoJsonLayers.fellows_2000)
                    map.removeLayer(geoJsonLayers.fellows_2001)
                    map.removeLayer(geoJsonLayers.fellows_2002)
                    map.removeLayer(geoJsonLayers.fellows_2003)
                    map.removeLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)

                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }

                    });

                      if(document.getElementById('checkboxCity2').checked) {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });

                }
                if (index == 1978) {
                    // legend1979.removeFrom(map);
                    // legend1978.addTo(map);
                    console.log(index)

                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)


                    map.removeLayer(geoJsonLayers.fellows_1982)
                    map.removeLayer(geoJsonLayers.fellows_1983)

                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }

                        else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }

                    });

                      if(document.getElementById('checkboxCity2').checked) {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });

                }
                if (index == 1979) {
                    // legend1980.removeFrom(map);
                    // legend1979.addTo(map);
                    console.log(index)
                    map.removeLayer(geoJsonLayers.fellows_1982)
                    map.removeLayer(geoJsonLayers.fellows_1983)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)

                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)


                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }

                        else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }

                    });
            
                      if(document.getElementById('checkboxCity2').checked) {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });

                }
                if (index == 1980) {
                    // legend1981.removeFrom(map);
                    // legend1980.addTo(map);
                    console.log(index)

                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)

                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)


                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }

                        else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }



                    });

                      if(document.getElementById('checkboxCity2').checked) {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });


                }
                if (index == 1981) {
                    // legend1982.removeFrom(map);
                    // legend1981.addTo(map);
                    console.log(index)

                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)

                    map.removeLayer(geoJsonLayers.fellows_1982)


                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)


                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }

                        else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }
                    });
                    
                      if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });

                }
                if (index == 1982) {
                    // legend1983.removeFrom(map);
                    // legend1982.addTo(map);
                    console.log(index)

                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)

                    map.removeLayer(geoJsonLayers.fellows_1983)


                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {


                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }

                        else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }
                    });

                      if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });

                }
                if (index == 1983) {
                    // legend1984.removeFrom(map);
                    // legend1983.addTo(map);
                    console.log(index)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)


                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)

                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            
                            map.removeLayer(geoJsonLayers.residents_1984)
                            map.removeLayer(geoJsonLayers.residents_1989)
                            map.removeLayer(geoJsonLayers.residents_1990)
                            map.removeLayer(geoJsonLayers.residents_1991)
                            map.removeLayer(geoJsonLayers.residents_1992)
                            map.removeLayer(geoJsonLayers.residents_1993)
                            map.removeLayer(geoJsonLayers.residents_1994)
                            map.removeLayer(geoJsonLayers.residents_1995)
                            map.removeLayer(geoJsonLayers.residents_1996)
                            map.removeLayer(geoJsonLayers.residents_1997)
                            map.removeLayer(geoJsonLayers.residents_1998)
                            map.removeLayer(geoJsonLayers.residents_1999)
                            map.removeLayer(geoJsonLayers.residents_2000)
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }

                    });

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {



                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }

                        else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }
                    });

                      if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });

                }
                if (index == 1984) {
                    // legend1985.removeFrom(map);
                    // legend1984.addTo(map);
                    console.log(index)


                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)

                    map.removeLayer(geoJsonLayers.fellows_1985)


                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)

                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            
                            map.removeLayer(geoJsonLayers.residents_1989)
                            map.removeLayer(geoJsonLayers.residents_1990)
                            map.removeLayer(geoJsonLayers.residents_1991)
                            map.removeLayer(geoJsonLayers.residents_1992)
                            map.removeLayer(geoJsonLayers.residents_1993)
                            map.removeLayer(geoJsonLayers.residents_1994)
                            map.removeLayer(geoJsonLayers.residents_1995)
                            map.removeLayer(geoJsonLayers.residents_1996)
                            map.removeLayer(geoJsonLayers.residents_1997)
                            map.removeLayer(geoJsonLayers.residents_1998)
                            map.removeLayer(geoJsonLayers.residents_1999)
                            map.removeLayer(geoJsonLayers.residents_2000)
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }

                    });

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {



                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }

                        else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }
                    });

                      if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });

                }
                if (index == 1985) {
                    // legend1986.removeFrom(map);
                    // legend1985.addTo(map);
                    console.log(index)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)

                    map.removeLayer(geoJsonLayers.fellows_1986)


                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {




                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }

                        else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }
                    });

                    if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });

                }
                if (index == 1986) {
                    // legend1987.removeFrom(map);
                    // legend1986.addTo(map);
                    console.log(index)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)

                    map.removeLayer(geoJsonLayers.fellows_1987)


                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {




                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }

                        else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }
                    });

                    if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });

                }
                if (index == 1987) {
                    // legend1988.removeFrom(map);
                    // legend1987.addTo(map);
                    console.log(index)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)

                    map.removeLayer(geoJsonLayers.fellows_1988)


                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {




                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }

                        else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }
                    });

                    if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });

                }
                if (index == 1988) {
                    // legend1989.removeFrom(map);
                    // legend1988.addTo(map);
                    console.log(index)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)

                    map.removeLayer(geoJsonLayers.fellows_1989)


                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)

                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            
                            map.removeLayer(geoJsonLayers.residents_1989)
                            map.removeLayer(geoJsonLayers.residents_1990)
                            map.removeLayer(geoJsonLayers.residents_1991)
                            map.removeLayer(geoJsonLayers.residents_1992)
                            map.removeLayer(geoJsonLayers.residents_1993)
                            map.removeLayer(geoJsonLayers.residents_1994)
                            map.removeLayer(geoJsonLayers.residents_1995)
                            map.removeLayer(geoJsonLayers.residents_1996)
                            map.removeLayer(geoJsonLayers.residents_1997)
                            map.removeLayer(geoJsonLayers.residents_1998)
                            map.removeLayer(geoJsonLayers.residents_1999)
                            map.removeLayer(geoJsonLayers.residents_2000)
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }

                    });

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }

                        else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }
                    });

                    if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });

                }
                if (index == 1989) {
                    // legend1990.removeFrom(map);
                    // legend1989.addTo(map);
                    console.log(index)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)

                    map.removeLayer(geoJsonLayers.fellows_1990)


                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)

                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            
                            map.removeLayer(geoJsonLayers.residents_1990)
                            map.removeLayer(geoJsonLayers.residents_1991)
                            map.removeLayer(geoJsonLayers.residents_1992)
                            map.removeLayer(geoJsonLayers.residents_1993)
                            map.removeLayer(geoJsonLayers.residents_1994)
                            map.removeLayer(geoJsonLayers.residents_1995)
                            map.removeLayer(geoJsonLayers.residents_1996)
                            map.removeLayer(geoJsonLayers.residents_1997)
                            map.removeLayer(geoJsonLayers.residents_1998)
                            map.removeLayer(geoJsonLayers.residents_1999)
                            map.removeLayer(geoJsonLayers.residents_2000)
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }

                    });

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }

                        else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }
                    });

                    if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });

                }
                if (index == 1990) {
                    // legend1991.removeFrom(map);
                    // legend1990.addTo(map);
                    console.log(index)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)

                    map.removeLayer(geoJsonLayers.fellows_1991)


                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)

                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            
                            map.removeLayer(geoJsonLayers.residents_1991)
                            map.removeLayer(geoJsonLayers.residents_1992)
                            map.removeLayer(geoJsonLayers.residents_1993)
                            map.removeLayer(geoJsonLayers.residents_1994)
                            map.removeLayer(geoJsonLayers.residents_1995)
                            map.removeLayer(geoJsonLayers.residents_1996)
                            map.removeLayer(geoJsonLayers.residents_1997)
                            map.removeLayer(geoJsonLayers.residents_1998)
                            map.removeLayer(geoJsonLayers.residents_1999)
                            map.removeLayer(geoJsonLayers.residents_2000)
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }

                    });

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }

                        else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }
                    });

                    if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });

                }
                if (index == 1991) {
                    // legend1992.removeFrom(map);
                    // legend1991.addTo(map);
                    console.log(index)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)

                    map.removeLayer(geoJsonLayers.fellows_1992)


                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)

                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            
                            map.removeLayer(geoJsonLayers.residents_1992)
                            map.removeLayer(geoJsonLayers.residents_1993)
                            map.removeLayer(geoJsonLayers.residents_1994)
                            map.removeLayer(geoJsonLayers.residents_1995)
                            map.removeLayer(geoJsonLayers.residents_1996)
                            map.removeLayer(geoJsonLayers.residents_1997)
                            map.removeLayer(geoJsonLayers.residents_1998)
                            map.removeLayer(geoJsonLayers.residents_1999)
                            map.removeLayer(geoJsonLayers.residents_2000)
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }

                    });

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {


                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }

                        else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }
                    });

                    if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });

                }
                if (index == 1992) {
                    // legend1993.removeFrom(map);
                    // legend1992.addTo(map);
                    console.log(index)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)

                    map.removeLayer(geoJsonLayers.fellows_1993)


                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)

                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            
                            map.removeLayer(geoJsonLayers.residents_1993)
                            map.removeLayer(geoJsonLayers.residents_1994)
                            map.removeLayer(geoJsonLayers.residents_1995)
                            map.removeLayer(geoJsonLayers.residents_1996)
                            map.removeLayer(geoJsonLayers.residents_1997)
                            map.removeLayer(geoJsonLayers.residents_1998)
                            map.removeLayer(geoJsonLayers.residents_1999)
                            map.removeLayer(geoJsonLayers.residents_2000)
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }

                    });

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {



                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }

                        else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }

                    });

                       if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });


                }
                if (index == 1993) {
                    // legend1994.removeFrom(map);
                    // legend1993.addTo(map);
                    console.log(index)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)

                    map.removeLayer(geoJsonLayers.fellows_1994)


                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)

                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            
                            map.removeLayer(geoJsonLayers.residents_1994)
                            map.removeLayer(geoJsonLayers.residents_1995)
                            map.removeLayer(geoJsonLayers.residents_1996)
                            map.removeLayer(geoJsonLayers.residents_1997)
                            map.removeLayer(geoJsonLayers.residents_1998)
                            map.removeLayer(geoJsonLayers.residents_1999)
                            map.removeLayer(geoJsonLayers.residents_2000)
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }

                    });

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }

                        else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }
                    });

                       if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });

                }
                if (index == 1994) {
                    // legend1995.removeFrom(map);
                    // legend1994.addTo(map);
                    console.log(index)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)

                    map.removeLayer(geoJsonLayers.fellows_1995)


                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)

                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            
                            map.removeLayer(geoJsonLayers.residents_1995)
                            map.removeLayer(geoJsonLayers.residents_1996)
                            map.removeLayer(geoJsonLayers.residents_1997)
                            map.removeLayer(geoJsonLayers.residents_1998)
                            map.removeLayer(geoJsonLayers.residents_1999)
                            map.removeLayer(geoJsonLayers.residents_2000)
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }

                    });

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {



                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }

                        else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }
                    });

                       if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });

                }
                if (index == 1995) {
                    // legend1996.removeFrom(map);
                    // legend1995.addTo(map);
                    console.log(index)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)

                    map.removeLayer(geoJsonLayers.fellows_1996)


                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)

                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            
                            map.removeLayer(geoJsonLayers.residents_1996)
                            map.removeLayer(geoJsonLayers.residents_1997)
                            map.removeLayer(geoJsonLayers.residents_1998)
                            map.removeLayer(geoJsonLayers.residents_1999)
                            map.removeLayer(geoJsonLayers.residents_2000)
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }

                    });

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {


                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }

                        else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }
                    });


                       if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.addLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.addLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });

                }
                if (index == 1996) {
                    // legend1997.removeFrom(map);
                    // legend1996.addTo(map);
                    console.log(index)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)

                    map.removeLayer(geoJsonLayers.fellows_1997)


                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)

                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            
                            map.removeLayer(geoJsonLayers.residents_1997)
                            map.removeLayer(geoJsonLayers.residents_1998)
                            map.removeLayer(geoJsonLayers.residents_1999)
                            map.removeLayer(geoJsonLayers.residents_2000)
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }

                    });

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {


                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }

                        else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }
                    });

                    if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.addLayer(geoJsonLayers.residentsFellows_1995)
                    map.addLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.addLayer(geoJsonLayers.residentsFellows_1995)
                        map.addLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });
                }
                if (index == 1997) {
                    // legend1998.removeFrom(map);
                    // legend1997.addTo(map);
                    console.log(index)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)

                    map.removeLayer(geoJsonLayers.fellows_1998)


                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)

                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            
                            map.removeLayer(geoJsonLayers.residents_1998)
                            map.removeLayer(geoJsonLayers.residents_1999)
                            map.removeLayer(geoJsonLayers.residents_2000)
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }

                    });

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {


                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }

                        else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }
                    });

                    if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.addLayer(geoJsonLayers.residentsFellows_1995)
                    map.addLayer(geoJsonLayers.residentsFellows_1996)
                    map.addLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.addLayer(geoJsonLayers.residentsFellows_1995)
                        map.addLayer(geoJsonLayers.residentsFellows_1996)
                        map.addLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });
                }
                if (index == 1998) {
                    // legend1999.removeFrom(map);
                    // legend1998.addTo(map);
                    console.log(index)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)

                    map.removeLayer(geoJsonLayers.fellows_1999)


                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)

                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                           
                            map.removeLayer(geoJsonLayers.residents_1999)
                            map.removeLayer(geoJsonLayers.residents_2000)
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }

                    });

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {


                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }

                        else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }
                    });

                     if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.addLayer(geoJsonLayers.residentsFellows_1995)
                    map.addLayer(geoJsonLayers.residentsFellows_1996)
                    map.addLayer(geoJsonLayers.residentsFellows_1997)
                    map.addLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.addLayer(geoJsonLayers.residentsFellows_1995)
                        map.addLayer(geoJsonLayers.residentsFellows_1996)
                        map.addLayer(geoJsonLayers.residentsFellows_1997)
                        map.addLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });
                }
                if (index == 1999) {
                    // legend2000.removeFrom(map);
                    // legend1999.addTo(map);
                    console.log(index)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)

                    map.removeLayer(geoJsonLayers.fellows_2000)

                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)

                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            
                            map.removeLayer(geoJsonLayers.residents_2000)
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }

                    });

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {


                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }

                        else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }
                    });

                     if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.addLayer(geoJsonLayers.residentsFellows_1995)
                    map.addLayer(geoJsonLayers.residentsFellows_1996)
                    map.addLayer(geoJsonLayers.residentsFellows_1997)
                    map.addLayer(geoJsonLayers.residentsFellows_1998)
                    map.addLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.addLayer(geoJsonLayers.residentsFellows_1995)
                        map.addLayer(geoJsonLayers.residentsFellows_1996)
                        map.addLayer(geoJsonLayers.residentsFellows_1997)
                        map.addLayer(geoJsonLayers.residentsFellows_1998)
                        map.addLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });
                }
                if (index == 2000) {
                    // legend2001.removeFrom(map);
                    // legend2000.addTo(map);
                    console.log(index)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)

                    map.removeLayer(geoJsonLayers.fellows_2001)

                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }

                    });

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }

                        else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }
                    });

                     if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.addLayer(geoJsonLayers.residentsFellows_1995)
                    map.addLayer(geoJsonLayers.residentsFellows_1996)
                    map.addLayer(geoJsonLayers.residentsFellows_1997)
                    map.addLayer(geoJsonLayers.residentsFellows_1998)
                    map.addLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.addLayer(geoJsonLayers.residentsFellows_1995)
                        map.addLayer(geoJsonLayers.residentsFellows_1996)
                        map.addLayer(geoJsonLayers.residentsFellows_1997)
                        map.addLayer(geoJsonLayers.residentsFellows_1998)
                        map.addLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });


                }
                if (index == 2001) {
                    // legend2002.removeFrom(map);
                    // legend2001.addTo(map);
                    console.log(index)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)

                    map.removeLayer(geoJsonLayers.fellows_2002)

                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            
                            map.removeLayer(geoJsonLayers.residents_2002)
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }

                    });

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }

                        else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }
                    });

                     if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.addLayer(geoJsonLayers.residentsFellows_1995)
                    map.addLayer(geoJsonLayers.residentsFellows_1996)
                    map.addLayer(geoJsonLayers.residentsFellows_1997)
                    map.addLayer(geoJsonLayers.residentsFellows_1998)
                    map.addLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.addLayer(geoJsonLayers.residentsFellows_1995)
                        map.addLayer(geoJsonLayers.residentsFellows_1996)
                        map.addLayer(geoJsonLayers.residentsFellows_1997)
                        map.addLayer(geoJsonLayers.residentsFellows_1998)
                        map.addLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });
                }
                if (index == 2002) {
                    // legend2003.removeFrom(map);
                    // legend2002.addTo(map);
                    console.log(index)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)

                    map.removeLayer(geoJsonLayers.fellows_2003)

                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            
                            map.removeLayer(geoJsonLayers.residents_2003)
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }

                    });

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }

                        else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }
                    });


                     if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.addLayer(geoJsonLayers.residentsFellows_1995)
                    map.addLayer(geoJsonLayers.residentsFellows_1996)
                    map.addLayer(geoJsonLayers.residentsFellows_1997)
                    map.addLayer(geoJsonLayers.residentsFellows_1998)
                    map.addLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.addLayer(geoJsonLayers.residentsFellows_1995)
                        map.addLayer(geoJsonLayers.residentsFellows_1996)
                        map.addLayer(geoJsonLayers.residentsFellows_1997)
                        map.addLayer(geoJsonLayers.residentsFellows_1998)
                        map.addLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });
                }
                if (index == 2003) {
                    // legend2004.removeFrom(map);
                    // legend2003.addTo(map);
                    console.log(index)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)

                    map.removeLayer(geoJsonLayers.fellows_2004)

                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)

                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            
                            map.removeLayer(geoJsonLayers.residents_2004)
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }

                    });

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }

                        else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }
                    });

                     if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.addLayer(geoJsonLayers.residentsFellows_1995)
                    map.addLayer(geoJsonLayers.residentsFellows_1996)
                    map.addLayer(geoJsonLayers.residentsFellows_1997)
                    map.addLayer(geoJsonLayers.residentsFellows_1998)
                    map.addLayer(geoJsonLayers.residentsFellows_1999)
                    map.addLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.addLayer(geoJsonLayers.residentsFellows_1995)
                        map.addLayer(geoJsonLayers.residentsFellows_1996)
                        map.addLayer(geoJsonLayers.residentsFellows_1997)
                        map.addLayer(geoJsonLayers.residentsFellows_1998)
                        map.addLayer(geoJsonLayers.residentsFellows_1999)
                        map.addLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });
                }
                if (index == 2004) {
                    // legend2005.removeFrom(map);
                    // legend2004.addTo(map);
                    console.log(index)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)

                    map.removeLayer(geoJsonLayers.fellows_2005)

                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)

                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            
                            map.removeLayer(geoJsonLayers.residents_2005)
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }

                    });

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }

                        else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }
                    });

                     if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.addLayer(geoJsonLayers.residentsFellows_1995)
                    map.addLayer(geoJsonLayers.residentsFellows_1996)
                    map.addLayer(geoJsonLayers.residentsFellows_1997)
                    map.addLayer(geoJsonLayers.residentsFellows_1998)
                    map.addLayer(geoJsonLayers.residentsFellows_1999)
                    map.addLayer(geoJsonLayers.residentsFellows_2003)
                    map.addLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.addLayer(geoJsonLayers.residentsFellows_1995)
                        map.addLayer(geoJsonLayers.residentsFellows_1996)
                        map.addLayer(geoJsonLayers.residentsFellows_1997)
                        map.addLayer(geoJsonLayers.residentsFellows_1998)
                        map.addLayer(geoJsonLayers.residentsFellows_1999)
                        map.addLayer(geoJsonLayers.residentsFellows_2003)
                        map.addLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });
                }
                if (index == 2005) {
                    // legend2006.removeFrom(map);
                    // legend2005.addTo(map);
                    console.log(index)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)

                    map.removeLayer(geoJsonLayers.fellows_2006)

                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)

                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            
                            map.removeLayer(geoJsonLayers.residents_2006)
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }

                    });

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }

                        else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }
                    });

                     if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.addLayer(geoJsonLayers.residentsFellows_1995)
                    map.addLayer(geoJsonLayers.residentsFellows_1996)
                    map.addLayer(geoJsonLayers.residentsFellows_1997)
                    map.addLayer(geoJsonLayers.residentsFellows_1998)
                    map.addLayer(geoJsonLayers.residentsFellows_1999)
                    map.addLayer(geoJsonLayers.residentsFellows_2003)
                    map.addLayer(geoJsonLayers.residentsFellows_2004)
                    map.addLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.addLayer(geoJsonLayers.residentsFellows_1995)
                        map.addLayer(geoJsonLayers.residentsFellows_1996)
                        map.addLayer(geoJsonLayers.residentsFellows_1997)
                        map.addLayer(geoJsonLayers.residentsFellows_1998)
                        map.addLayer(geoJsonLayers.residentsFellows_1999)
                        map.addLayer(geoJsonLayers.residentsFellows_2003)
                        map.addLayer(geoJsonLayers.residentsFellows_2004)
                        map.addLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });
                }
                if (index == 2006) {
                    // legend2007.removeFrom(map);
                    // legend2006.addTo(map);
                    console.log(index)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)

                    map.removeLayer(geoJsonLayers.fellows_2007)

                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)

                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }

                    });

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }

                        else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }
                    });

                     if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.addLayer(geoJsonLayers.residentsFellows_1995)
                    map.addLayer(geoJsonLayers.residentsFellows_1996)
                    map.addLayer(geoJsonLayers.residentsFellows_1997)
                    map.addLayer(geoJsonLayers.residentsFellows_1998)
                    map.addLayer(geoJsonLayers.residentsFellows_1999)
                    map.addLayer(geoJsonLayers.residentsFellows_2003)
                    map.addLayer(geoJsonLayers.residentsFellows_2004)
                    map.addLayer(geoJsonLayers.residentsFellows_2005)
                    map.addLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.addLayer(geoJsonLayers.residentsFellows_1995)
                        map.addLayer(geoJsonLayers.residentsFellows_1996)
                        map.addLayer(geoJsonLayers.residentsFellows_1997)
                        map.addLayer(geoJsonLayers.residentsFellows_1998)
                        map.addLayer(geoJsonLayers.residentsFellows_1999)
                        map.addLayer(geoJsonLayers.residentsFellows_2003)
                        map.addLayer(geoJsonLayers.residentsFellows_2004)
                        map.addLayer(geoJsonLayers.residentsFellows_2005)
                        map.addLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });
                }
                if (index == 2007) {
                    // legend2008.removeFrom(map);
                    // legend2007.addTo(map);
                    console.log(index)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)

                    map.removeLayer(geoJsonLayers.fellows_2008)

                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            
                            map.removeLayer(geoJsonLayers.residents_2008)
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }

                    });

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }

                        else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }
                    });

                     if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.addLayer(geoJsonLayers.residentsFellows_1995)
                    map.addLayer(geoJsonLayers.residentsFellows_1996)
                    map.addLayer(geoJsonLayers.residentsFellows_1997)
                    map.addLayer(geoJsonLayers.residentsFellows_1998)
                    map.addLayer(geoJsonLayers.residentsFellows_1999)
                    map.addLayer(geoJsonLayers.residentsFellows_2003)
                    map.addLayer(geoJsonLayers.residentsFellows_2004)
                    map.addLayer(geoJsonLayers.residentsFellows_2005)
                    map.addLayer(geoJsonLayers.residentsFellows_2006)
                    map.addLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.addLayer(geoJsonLayers.residentsFellows_1995)
                        map.addLayer(geoJsonLayers.residentsFellows_1996)
                        map.addLayer(geoJsonLayers.residentsFellows_1997)
                        map.addLayer(geoJsonLayers.residentsFellows_1998)
                        map.addLayer(geoJsonLayers.residentsFellows_1999)
                        map.addLayer(geoJsonLayers.residentsFellows_2003)
                        map.addLayer(geoJsonLayers.residentsFellows_2004)
                        map.addLayer(geoJsonLayers.residentsFellows_2005)
                        map.addLayer(geoJsonLayers.residentsFellows_2006)
                        map.addLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });
                }
                if (index == 2008) {
                    // legend2009.removeFrom(map);
                    // legend2008.addTo(map);
                    console.log(index)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)

                    map.removeLayer(geoJsonLayers.fellows_2009)

                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)

                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            
                            map.removeLayer(geoJsonLayers.residents_2009)
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }

                    });

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }

                        else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }
                    });

                     if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.addLayer(geoJsonLayers.residentsFellows_1995)
                    map.addLayer(geoJsonLayers.residentsFellows_1996)
                    map.addLayer(geoJsonLayers.residentsFellows_1997)
                    map.addLayer(geoJsonLayers.residentsFellows_1998)
                    map.addLayer(geoJsonLayers.residentsFellows_1999)
                    map.addLayer(geoJsonLayers.residentsFellows_2003)
                    map.addLayer(geoJsonLayers.residentsFellows_2004)
                    map.addLayer(geoJsonLayers.residentsFellows_2005)
                    map.addLayer(geoJsonLayers.residentsFellows_2006)
                    map.addLayer(geoJsonLayers.residentsFellows_2007)
                    map.addLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.addLayer(geoJsonLayers.residentsFellows_1995)
                        map.addLayer(geoJsonLayers.residentsFellows_1996)
                        map.addLayer(geoJsonLayers.residentsFellows_1997)
                        map.addLayer(geoJsonLayers.residentsFellows_1998)
                        map.addLayer(geoJsonLayers.residentsFellows_1999)
                        map.addLayer(geoJsonLayers.residentsFellows_2003)
                        map.addLayer(geoJsonLayers.residentsFellows_2004)
                        map.addLayer(geoJsonLayers.residentsFellows_2005)
                        map.addLayer(geoJsonLayers.residentsFellows_2006)
                        map.addLayer(geoJsonLayers.residentsFellows_2007)
                        map.addLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });
                }
                if (index == 2009) {
                    // legend2010.removeFrom(map);
                    // legend2009.addTo(map);
                    console.log(index)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)

                    map.removeLayer(geoJsonLayers.fellows_2010)

                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)

                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            
                            map.removeLayer(geoJsonLayers.residents_2010)
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }

                    });

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }

                        else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }
                    });

                    if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.addLayer(geoJsonLayers.residentsFellows_1995)
                    map.addLayer(geoJsonLayers.residentsFellows_1996)
                    map.addLayer(geoJsonLayers.residentsFellows_1997)
                    map.addLayer(geoJsonLayers.residentsFellows_1998)
                    map.addLayer(geoJsonLayers.residentsFellows_1999)
                    map.addLayer(geoJsonLayers.residentsFellows_2003)
                    map.addLayer(geoJsonLayers.residentsFellows_2004)
                    map.addLayer(geoJsonLayers.residentsFellows_2005)
                    map.addLayer(geoJsonLayers.residentsFellows_2006)
                    map.addLayer(geoJsonLayers.residentsFellows_2007)
                    map.addLayer(geoJsonLayers.residentsFellows_2008)
                    map.addLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.addLayer(geoJsonLayers.residentsFellows_1995)
                        map.addLayer(geoJsonLayers.residentsFellows_1996)
                        map.addLayer(geoJsonLayers.residentsFellows_1997)
                        map.addLayer(geoJsonLayers.residentsFellows_1998)
                        map.addLayer(geoJsonLayers.residentsFellows_1999)
                        map.addLayer(geoJsonLayers.residentsFellows_2003)
                        map.addLayer(geoJsonLayers.residentsFellows_2004)
                        map.addLayer(geoJsonLayers.residentsFellows_2005)
                        map.addLayer(geoJsonLayers.residentsFellows_2006)
                        map.addLayer(geoJsonLayers.residentsFellows_2007)
                        map.addLayer(geoJsonLayers.residentsFellows_2008)
                        map.addLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });
                }
                if (index == 2010) {
                    // legend2011.removeFrom(map);
                    // legend2010.addTo(map);
                    console.log(index)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)

                    map.removeLayer(geoJsonLayers.fellows_2011)

                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)

                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            
                            map.removeLayer(geoJsonLayers.residents_2011)
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }

                    });

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }

                        else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }
                    });

                    if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.addLayer(geoJsonLayers.residentsFellows_1995)
                    map.addLayer(geoJsonLayers.residentsFellows_1996)
                    map.addLayer(geoJsonLayers.residentsFellows_1997)
                    map.addLayer(geoJsonLayers.residentsFellows_1998)
                    map.addLayer(geoJsonLayers.residentsFellows_1999)
                    map.addLayer(geoJsonLayers.residentsFellows_2003)
                    map.addLayer(geoJsonLayers.residentsFellows_2004)
                    map.addLayer(geoJsonLayers.residentsFellows_2005)
                    map.addLayer(geoJsonLayers.residentsFellows_2006)
                    map.addLayer(geoJsonLayers.residentsFellows_2007)
                    map.addLayer(geoJsonLayers.residentsFellows_2008)
                    map.addLayer(geoJsonLayers.residentsFellows_2009)
                    map.addLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.addLayer(geoJsonLayers.residentsFellows_1995)
                        map.addLayer(geoJsonLayers.residentsFellows_1996)
                        map.addLayer(geoJsonLayers.residentsFellows_1997)
                        map.addLayer(geoJsonLayers.residentsFellows_1998)
                        map.addLayer(geoJsonLayers.residentsFellows_1999)
                        map.addLayer(geoJsonLayers.residentsFellows_2003)
                        map.addLayer(geoJsonLayers.residentsFellows_2004)
                        map.addLayer(geoJsonLayers.residentsFellows_2005)
                        map.addLayer(geoJsonLayers.residentsFellows_2006)
                        map.addLayer(geoJsonLayers.residentsFellows_2007)
                        map.addLayer(geoJsonLayers.residentsFellows_2008)
                        map.addLayer(geoJsonLayers.residentsFellows_2009)
                        map.addLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });
                }
                if (index == 2011) {
                    // legend2012.removeFrom(map);
                    // legend2011.addTo(map);
                    console.log(index)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)

                    map.removeLayer(geoJsonLayers.fellows_2012)

                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)

                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }

                    });

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }

                        else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }
                    });

                   if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.addLayer(geoJsonLayers.residentsFellows_1995)
                    map.addLayer(geoJsonLayers.residentsFellows_1996)
                    map.addLayer(geoJsonLayers.residentsFellows_1997)
                    map.addLayer(geoJsonLayers.residentsFellows_1998)
                    map.addLayer(geoJsonLayers.residentsFellows_1999)
                    map.addLayer(geoJsonLayers.residentsFellows_2003)
                    map.addLayer(geoJsonLayers.residentsFellows_2004)
                    map.addLayer(geoJsonLayers.residentsFellows_2005)
                    map.addLayer(geoJsonLayers.residentsFellows_2006)
                    map.addLayer(geoJsonLayers.residentsFellows_2007)
                    map.addLayer(geoJsonLayers.residentsFellows_2008)
                    map.addLayer(geoJsonLayers.residentsFellows_2009)
                    map.addLayer(geoJsonLayers.residentsFellows_2010)
                    map.addLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.addLayer(geoJsonLayers.residentsFellows_1995)
                        map.addLayer(geoJsonLayers.residentsFellows_1996)
                        map.addLayer(geoJsonLayers.residentsFellows_1997)
                        map.addLayer(geoJsonLayers.residentsFellows_1998)
                        map.addLayer(geoJsonLayers.residentsFellows_1999)
                        map.addLayer(geoJsonLayers.residentsFellows_2003)
                        map.addLayer(geoJsonLayers.residentsFellows_2004)
                        map.addLayer(geoJsonLayers.residentsFellows_2005)
                        map.addLayer(geoJsonLayers.residentsFellows_2006)
                        map.addLayer(geoJsonLayers.residentsFellows_2007)
                        map.addLayer(geoJsonLayers.residentsFellows_2008)
                        map.addLayer(geoJsonLayers.residentsFellows_2009)
                        map.addLayer(geoJsonLayers.residentsFellows_2010)
                        map.addLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });
                }
                if (index == 2012) {
                    // legend2013.removeFrom(map);
                    // legend2012.addTo(map);
                    console.log(index)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)

                    map.removeLayer(geoJsonLayers.fellows_2013)

                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)

                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            
                            map.removeLayer(geoJsonLayers.residents_2013)
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }

                    });

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {


                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }

                        else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }
                    });

                    if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.addLayer(geoJsonLayers.residentsFellows_1995)
                    map.addLayer(geoJsonLayers.residentsFellows_1996)
                    map.addLayer(geoJsonLayers.residentsFellows_1997)
                    map.addLayer(geoJsonLayers.residentsFellows_1998)
                    map.addLayer(geoJsonLayers.residentsFellows_1999)
                    map.addLayer(geoJsonLayers.residentsFellows_2003)
                    map.addLayer(geoJsonLayers.residentsFellows_2004)
                    map.addLayer(geoJsonLayers.residentsFellows_2005)
                    map.addLayer(geoJsonLayers.residentsFellows_2006)
                    map.addLayer(geoJsonLayers.residentsFellows_2007)
                    map.addLayer(geoJsonLayers.residentsFellows_2008)
                    map.addLayer(geoJsonLayers.residentsFellows_2009)
                    map.addLayer(geoJsonLayers.residentsFellows_2010)
                    map.addLayer(geoJsonLayers.residentsFellows_2011)
                    map.addLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.addLayer(geoJsonLayers.residentsFellows_1995)
                        map.addLayer(geoJsonLayers.residentsFellows_1996)
                        map.addLayer(geoJsonLayers.residentsFellows_1997)
                        map.addLayer(geoJsonLayers.residentsFellows_1998)
                        map.addLayer(geoJsonLayers.residentsFellows_1999)
                        map.addLayer(geoJsonLayers.residentsFellows_2003)
                        map.addLayer(geoJsonLayers.residentsFellows_2004)
                        map.addLayer(geoJsonLayers.residentsFellows_2005)
                        map.addLayer(geoJsonLayers.residentsFellows_2006)
                        map.addLayer(geoJsonLayers.residentsFellows_2007)
                        map.addLayer(geoJsonLayers.residentsFellows_2008)
                        map.addLayer(geoJsonLayers.residentsFellows_2009)
                        map.addLayer(geoJsonLayers.residentsFellows_2010)
                        map.addLayer(geoJsonLayers.residentsFellows_2011)
                        map.addLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });
                }
                if (index == 2013) {
                    // legend2014.removeFrom(map);
                    // legend2013.addTo(map);
                    console.log(index)
                    map.removeLayer(geoJsonLayers.residents_2014)

                    map.removeLayer(geoJsonLayers.fellows_2014)

                    map.removeLayer(geoJsonLayers.residentsFellows_2014)

                    $(".Cities3").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {

                            
                            map.removeLayer(geoJsonLayers.residents_2014)
                        }

                    });

                    $(".Cities").change(function () {
                        console.log(index);
                        if($(this).is(':checked')) {


                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }

                        else {
                            map.removeLayer(geoJsonLayers.fellows_1978)
                            map.removeLayer(geoJsonLayers.fellows_1982)
                            map.removeLayer(geoJsonLayers.fellows_1983)
                            // map.removeLayer(geoJsonLayers.fellows_1984)
                            map.removeLayer(geoJsonLayers.fellows_1985)
                            map.removeLayer(geoJsonLayers.fellows_1986)
                            map.removeLayer(geoJsonLayers.fellows_1987)
                            map.removeLayer(geoJsonLayers.fellows_1988)
                            map.removeLayer(geoJsonLayers.fellows_1989)
                            map.removeLayer(geoJsonLayers.fellows_1990)
                            map.removeLayer(geoJsonLayers.fellows_1991)
                            map.removeLayer(geoJsonLayers.fellows_1992)
                            map.removeLayer(geoJsonLayers.fellows_1993)
                            map.removeLayer(geoJsonLayers.fellows_1994)
                            map.removeLayer(geoJsonLayers.fellows_1995)
                            map.removeLayer(geoJsonLayers.fellows_1996)
                            map.removeLayer(geoJsonLayers.fellows_1997)
                            map.removeLayer(geoJsonLayers.fellows_1998)
                            map.removeLayer(geoJsonLayers.fellows_1999)
                            map.removeLayer(geoJsonLayers.fellows_2000)
                            map.removeLayer(geoJsonLayers.fellows_2001)
                            map.removeLayer(geoJsonLayers.fellows_2002)
                            map.removeLayer(geoJsonLayers.fellows_2003)
                            map.removeLayer(geoJsonLayers.fellows_2004)
                            map.removeLayer(geoJsonLayers.fellows_2005)
                            map.removeLayer(geoJsonLayers.fellows_2006)
                            map.removeLayer(geoJsonLayers.fellows_2007)
                            map.removeLayer(geoJsonLayers.fellows_2008)
                            map.removeLayer(geoJsonLayers.fellows_2009)
                            map.removeLayer(geoJsonLayers.fellows_2010)
                            map.removeLayer(geoJsonLayers.fellows_2011)
                            map.removeLayer(geoJsonLayers.fellows_2012)
                            map.removeLayer(geoJsonLayers.fellows_2013)
                            map.removeLayer(geoJsonLayers.fellows_2014)
                        }
                    });

                     if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.addLayer(geoJsonLayers.residentsFellows_1995)
                    map.addLayer(geoJsonLayers.residentsFellows_1996)
                    map.addLayer(geoJsonLayers.residentsFellows_1997)
                    map.addLayer(geoJsonLayers.residentsFellows_1998)
                    map.addLayer(geoJsonLayers.residentsFellows_1999)
                    map.addLayer(geoJsonLayers.residentsFellows_2003)
                    map.addLayer(geoJsonLayers.residentsFellows_2004)
                    map.addLayer(geoJsonLayers.residentsFellows_2005)
                    map.addLayer(geoJsonLayers.residentsFellows_2006)
                    map.addLayer(geoJsonLayers.residentsFellows_2007)
                    map.addLayer(geoJsonLayers.residentsFellows_2008)
                    map.addLayer(geoJsonLayers.residentsFellows_2009)
                    map.addLayer(geoJsonLayers.residentsFellows_2010)
                    map.addLayer(geoJsonLayers.residentsFellows_2011)
                    map.addLayer(geoJsonLayers.residentsFellows_2012)
                    map.addLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.addLayer(geoJsonLayers.residentsFellows_1995)
                        map.addLayer(geoJsonLayers.residentsFellows_1996)
                        map.addLayer(geoJsonLayers.residentsFellows_1997)
                        map.addLayer(geoJsonLayers.residentsFellows_1998)
                        map.addLayer(geoJsonLayers.residentsFellows_1999)
                        map.addLayer(geoJsonLayers.residentsFellows_2003)
                        map.addLayer(geoJsonLayers.residentsFellows_2004)
                        map.addLayer(geoJsonLayers.residentsFellows_2005)
                        map.addLayer(geoJsonLayers.residentsFellows_2006)
                        map.addLayer(geoJsonLayers.residentsFellows_2007)
                        map.addLayer(geoJsonLayers.residentsFellows_2008)
                        map.addLayer(geoJsonLayers.residentsFellows_2009)
                        map.addLayer(geoJsonLayers.residentsFellows_2010)
                        map.addLayer(geoJsonLayers.residentsFellows_2011)
                        map.addLayer(geoJsonLayers.residentsFellows_2012)
                        map.addLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });
                }
                if (index == 2014) {
                    // legend2015.removeFrom(map);
                    //legend2014.addTo(map);
                    console.log(index)
                    map.removeLayer(geoJsonLayers.residents_2014)

                }



            }
//add slider
            $('.range-slider').val(index);
//should updatePropSymbols with interaction
            // if (index = 2015) {
            //     console.log(hellsyea)
            //   }

        });


        $('.range-slider').on('input', function () {
            var index = $(this).val();
            //if forward clicked, increasing increments by 1
            // if ($(this).attr('id')=='forward'){
            //     index++;
            //     index=index> 2016 ? 1971 : index;
            if (index == 1971) {
                
                legend1972.removeFrom(map);
                //map.removeLayer(geoJsonLayers.residents_1973)
                //map.addLayer(geoJsonLayers.residents_1973)
                console.log(index)
                map.removeLayer(geoJsonLayers.residents_1971)
                map.addLayer(geoJsonLayers.residents_1971)
                map.removeLayer(geoJsonLayers.residents_1973)
                map.removeLayer(geoJsonLayers.residents_1984)
                map.removeLayer(geoJsonLayers.residents_1989)
                map.removeLayer(geoJsonLayers.residents_1990)
                map.removeLayer(geoJsonLayers.residents_1991)
                map.removeLayer(geoJsonLayers.residents_1992)
                map.removeLayer(geoJsonLayers.residents_1993)
                map.removeLayer(geoJsonLayers.residents_1994)
                map.removeLayer(geoJsonLayers.residents_1995)
                map.removeLayer(geoJsonLayers.residents_1996)
                map.removeLayer(geoJsonLayers.residents_1997)
                map.removeLayer(geoJsonLayers.residents_1998)
                map.removeLayer(geoJsonLayers.residents_1999)
                map.removeLayer(geoJsonLayers.residents_2000)
                map.removeLayer(geoJsonLayers.residents_2002)
                map.removeLayer(geoJsonLayers.residents_2003)
                map.removeLayer(geoJsonLayers.residents_2004)
                map.removeLayer(geoJsonLayers.residents_2005)
                map.removeLayer(geoJsonLayers.residents_2006)
                map.removeLayer(geoJsonLayers.residents_2008)
                map.removeLayer(geoJsonLayers.residents_2009)
                map.removeLayer(geoJsonLayers.residents_2010)
                map.removeLayer(geoJsonLayers.residents_2011)
                map.removeLayer(geoJsonLayers.residents_2013)
                map.removeLayer(geoJsonLayers.residents_2014)

                map.removeLayer(geoJsonLayers.residentsFellows_1981)
                map.removeLayer(geoJsonLayers.residentsFellows_1982)
                map.removeLayer(geoJsonLayers.residentsFellows_1990)
                map.removeLayer(geoJsonLayers.residentsFellows_1991)
                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                map.removeLayer(geoJsonLayers.residentsFellows_2014)  

                if(document.getElementById('checkboxCity3').checked) {                  
                    map.addLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)  
                }
                $(".Cities3").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                    else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                });

                if(document.getElementById('checkboxCity').checked) {
                    map.removeLayer(geoJsonLayers.fellows_1978)
                    map.removeLayer(geoJsonLayers.fellows_1982)
                    map.removeLayer(geoJsonLayers.fellows_1983)
                    // map.removeLayer(geoJsonLayers.fellows_1984)
                    map.removeLayer(geoJsonLayers.fellows_1985)
                    map.removeLayer(geoJsonLayers.fellows_1986)
                    map.removeLayer(geoJsonLayers.fellows_1987)
                    map.removeLayer(geoJsonLayers.fellows_1988)
                    map.removeLayer(geoJsonLayers.fellows_1989)
                    map.removeLayer(geoJsonLayers.fellows_1990)
                    map.removeLayer(geoJsonLayers.fellows_1991)
                    map.removeLayer(geoJsonLayers.fellows_1992)
                    map.removeLayer(geoJsonLayers.fellows_1993)
                    map.removeLayer(geoJsonLayers.fellows_1994)
                    map.removeLayer(geoJsonLayers.fellows_1995)
                    map.removeLayer(geoJsonLayers.fellows_1996)
                    map.removeLayer(geoJsonLayers.fellows_1997)
                    map.removeLayer(geoJsonLayers.fellows_1998)
                    map.removeLayer(geoJsonLayers.fellows_1999)
                    map.removeLayer(geoJsonLayers.fellows_2000)
                    map.removeLayer(geoJsonLayers.fellows_2001)
                    map.removeLayer(geoJsonLayers.fellows_2002)
                    map.removeLayer(geoJsonLayers.fellows_2003)
                    map.removeLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)
                } else {
                    map.removeLayer(geoJsonLayers.fellows_1978)
                    map.removeLayer(geoJsonLayers.fellows_1982)
                    map.removeLayer(geoJsonLayers.fellows_1983)
                    // map.removeLayer(geoJsonLayers.fellows_1984)
                    map.removeLayer(geoJsonLayers.fellows_1985)
                    map.removeLayer(geoJsonLayers.fellows_1986)
                    map.removeLayer(geoJsonLayers.fellows_1987)
                    map.removeLayer(geoJsonLayers.fellows_1988)
                    map.removeLayer(geoJsonLayers.fellows_1989)
                    map.removeLayer(geoJsonLayers.fellows_1990)
                    map.removeLayer(geoJsonLayers.fellows_1991)
                    map.removeLayer(geoJsonLayers.fellows_1992)
                    map.removeLayer(geoJsonLayers.fellows_1993)
                    map.removeLayer(geoJsonLayers.fellows_1994)
                    map.removeLayer(geoJsonLayers.fellows_1995)
                    map.removeLayer(geoJsonLayers.fellows_1996)
                    map.removeLayer(geoJsonLayers.fellows_1997)
                    map.removeLayer(geoJsonLayers.fellows_1998)
                    map.removeLayer(geoJsonLayers.fellows_1999)
                    map.removeLayer(geoJsonLayers.fellows_2000)
                    map.removeLayer(geoJsonLayers.fellows_2001)
                    map.removeLayer(geoJsonLayers.fellows_2002)
                    map.removeLayer(geoJsonLayers.fellows_2003)
                    map.removeLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)
                }

                 if(document.getElementById('checkboxCity2').checked) {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });






                $(".Cities").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.removeLayer(geoJsonLayers.fellows_1978)
                        map.removeLayer(geoJsonLayers.fellows_1982)
                        map.removeLayer(geoJsonLayers.fellows_1983)
                        // map.removeLayer(geoJsonLayers.fellows_1984)
                        map.removeLayer(geoJsonLayers.fellows_1985)
                        map.removeLayer(geoJsonLayers.fellows_1986)
                        map.removeLayer(geoJsonLayers.fellows_1987)
                        map.removeLayer(geoJsonLayers.fellows_1988)
                        map.removeLayer(geoJsonLayers.fellows_1989)
                        map.removeLayer(geoJsonLayers.fellows_1990)
                        map.removeLayer(geoJsonLayers.fellows_1991)
                        map.removeLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    }

                    else {
                        map.removeLayer(geoJsonLayers.fellows_1978)
                        map.removeLayer(geoJsonLayers.fellows_1982)
                        map.removeLayer(geoJsonLayers.fellows_1983)
                        // map.removeLayer(geoJsonLayers.fellows_1984)
                        map.removeLayer(geoJsonLayers.fellows_1985)
                        map.removeLayer(geoJsonLayers.fellows_1986)
                        map.removeLayer(geoJsonLayers.fellows_1987)
                        map.removeLayer(geoJsonLayers.fellows_1988)
                        map.removeLayer(geoJsonLayers.fellows_1989)
                        map.removeLayer(geoJsonLayers.fellows_1990)
                        map.removeLayer(geoJsonLayers.fellows_1991)
                        map.removeLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    }



                });


                

                

            }
            if (index == 1972) {
                console.log(index)
                legend1972.addTo(map);
                legend1973.removeFrom(map);
                legend1974.removeFrom(map);
                legend1975.removeFrom(map);
                legend1976.removeFrom(map);
                legend1977.removeFrom(map);
                legend1978.removeFrom(map);
                legend1979.removeFrom(map);
                legend1980.removeFrom(map);
                legend1981.removeFrom(map);
                legend1982.removeFrom(map);
                legend1983.removeFrom(map);
                legend1984.removeFrom(map);
                legend1985.removeFrom(map);
                legend1986.removeFrom(map);
                legend1987.removeFrom(map);
                
               
                map.removeLayer(geoJsonLayers.residents_1971)
                map.addLayer(geoJsonLayers.residents_1971)
                map.removeLayer(geoJsonLayers.residents_1973)
                map.removeLayer(geoJsonLayers.residents_1984)
                map.removeLayer(geoJsonLayers.residents_1989)
                map.removeLayer(geoJsonLayers.residents_1990)
                map.removeLayer(geoJsonLayers.residents_1991)
                map.removeLayer(geoJsonLayers.residents_1992)
                map.removeLayer(geoJsonLayers.residents_1993)
                map.removeLayer(geoJsonLayers.residents_1994)
                map.removeLayer(geoJsonLayers.residents_1995)
                map.removeLayer(geoJsonLayers.residents_1996)
                map.removeLayer(geoJsonLayers.residents_1997)
                map.removeLayer(geoJsonLayers.residents_1998)
                map.removeLayer(geoJsonLayers.residents_1999)
                map.removeLayer(geoJsonLayers.residents_2000)
                map.removeLayer(geoJsonLayers.residents_2002)
                map.removeLayer(geoJsonLayers.residents_2003)
                map.removeLayer(geoJsonLayers.residents_2004)
                map.removeLayer(geoJsonLayers.residents_2005)
                map.removeLayer(geoJsonLayers.residents_2006)
                map.removeLayer(geoJsonLayers.residents_2008)
                map.removeLayer(geoJsonLayers.residents_2009)
                map.removeLayer(geoJsonLayers.residents_2010)
                map.removeLayer(geoJsonLayers.residents_2011)
                map.removeLayer(geoJsonLayers.residents_2013)
                map.removeLayer(geoJsonLayers.residents_2014)

                map.removeLayer(geoJsonLayers.residentsFellows_1981)
                map.removeLayer(geoJsonLayers.residentsFellows_1982)
                map.removeLayer(geoJsonLayers.residentsFellows_1990)
                map.removeLayer(geoJsonLayers.residentsFellows_1991)
                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                map.removeLayer(geoJsonLayers.residentsFellows_2014)

                 if(document.getElementById('checkboxCity3').checked) {                  
                    map.addLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)  
                }
                $(".Cities3").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                    else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                });

                if(document.getElementById('checkboxCity').checked) {
                    map.removeLayer(geoJsonLayers.fellows_1978)
                    map.removeLayer(geoJsonLayers.fellows_1982)
                    map.removeLayer(geoJsonLayers.fellows_1983)
                    // map.removeLayer(geoJsonLayers.fellows_1984)
                    map.removeLayer(geoJsonLayers.fellows_1985)
                    map.removeLayer(geoJsonLayers.fellows_1986)
                    map.removeLayer(geoJsonLayers.fellows_1987)
                    map.removeLayer(geoJsonLayers.fellows_1988)
                    map.removeLayer(geoJsonLayers.fellows_1989)
                    map.removeLayer(geoJsonLayers.fellows_1990)
                    map.removeLayer(geoJsonLayers.fellows_1991)
                    map.removeLayer(geoJsonLayers.fellows_1992)
                    map.removeLayer(geoJsonLayers.fellows_1993)
                    map.removeLayer(geoJsonLayers.fellows_1994)
                    map.removeLayer(geoJsonLayers.fellows_1995)
                    map.removeLayer(geoJsonLayers.fellows_1996)
                    map.removeLayer(geoJsonLayers.fellows_1997)
                    map.removeLayer(geoJsonLayers.fellows_1998)
                    map.removeLayer(geoJsonLayers.fellows_1999)
                    map.removeLayer(geoJsonLayers.fellows_2000)
                    map.removeLayer(geoJsonLayers.fellows_2001)
                    map.removeLayer(geoJsonLayers.fellows_2002)
                    map.removeLayer(geoJsonLayers.fellows_2003)
                    map.removeLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)
                } else {
                    map.removeLayer(geoJsonLayers.fellows_1978)
                    map.removeLayer(geoJsonLayers.fellows_1982)
                    map.removeLayer(geoJsonLayers.fellows_1983)
                    // map.removeLayer(geoJsonLayers.fellows_1984)
                    map.removeLayer(geoJsonLayers.fellows_1985)
                    map.removeLayer(geoJsonLayers.fellows_1986)
                    map.removeLayer(geoJsonLayers.fellows_1987)
                    map.removeLayer(geoJsonLayers.fellows_1988)
                    map.removeLayer(geoJsonLayers.fellows_1989)
                    map.removeLayer(geoJsonLayers.fellows_1990)
                    map.removeLayer(geoJsonLayers.fellows_1991)
                    map.removeLayer(geoJsonLayers.fellows_1992)
                    map.removeLayer(geoJsonLayers.fellows_1993)
                    map.removeLayer(geoJsonLayers.fellows_1994)
                    map.removeLayer(geoJsonLayers.fellows_1995)
                    map.removeLayer(geoJsonLayers.fellows_1996)
                    map.removeLayer(geoJsonLayers.fellows_1997)
                    map.removeLayer(geoJsonLayers.fellows_1998)
                    map.removeLayer(geoJsonLayers.fellows_1999)
                    map.removeLayer(geoJsonLayers.fellows_2000)
                    map.removeLayer(geoJsonLayers.fellows_2001)
                    map.removeLayer(geoJsonLayers.fellows_2002)
                    map.removeLayer(geoJsonLayers.fellows_2003)
                    map.removeLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)
                }

                if(document.getElementById('checkboxCity2').checked) {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });


            }
            if (index == 1973) {
                legend1973.addTo(map);
                legend1972.removeFrom(map);
                
                legend1975.removeFrom(map);
                legend1976.removeFrom(map);
                legend1977.removeFrom(map);
                legend1978.removeFrom(map);
                legend1979.removeFrom(map);
                legend1980.removeFrom(map);
                legend1981.removeFrom(map);
                legend1982.removeFrom(map);
                legend1983.removeFrom(map);
                legend1984.removeFrom(map);
                legend1985.removeFrom(map);
                legend1986.removeFrom(map);
                legend1987.removeFrom(map);
                

             
                map.removeLayer(geoJsonLayers.residents_1971)
                map.addLayer(geoJsonLayers.residents_1971)
                map.removeLayer(geoJsonLayers.residents_1973)
                map.addLayer(geoJsonLayers.residents_1973)
                map.removeLayer(geoJsonLayers.residents_1984)
                map.removeLayer(geoJsonLayers.residents_1989)
                map.removeLayer(geoJsonLayers.residents_1990)
                map.removeLayer(geoJsonLayers.residents_1991)
                map.removeLayer(geoJsonLayers.residents_1992)
                map.removeLayer(geoJsonLayers.residents_1993)
                map.removeLayer(geoJsonLayers.residents_1994)
                map.removeLayer(geoJsonLayers.residents_1995)
                map.removeLayer(geoJsonLayers.residents_1996)
                map.removeLayer(geoJsonLayers.residents_1997)
                map.removeLayer(geoJsonLayers.residents_1998)
                map.removeLayer(geoJsonLayers.residents_1999)
                map.removeLayer(geoJsonLayers.residents_2000)
                map.removeLayer(geoJsonLayers.residents_2002)
                map.removeLayer(geoJsonLayers.residents_2003)
                map.removeLayer(geoJsonLayers.residents_2004)
                map.removeLayer(geoJsonLayers.residents_2005)
                map.removeLayer(geoJsonLayers.residents_2006)
                map.removeLayer(geoJsonLayers.residents_2008)
                map.removeLayer(geoJsonLayers.residents_2009)
                map.removeLayer(geoJsonLayers.residents_2010)
                map.removeLayer(geoJsonLayers.residents_2011)
                map.removeLayer(geoJsonLayers.residents_2013)
                map.removeLayer(geoJsonLayers.residents_2014)

                map.removeLayer(geoJsonLayers.residentsFellows_1981)
                map.removeLayer(geoJsonLayers.residentsFellows_1982)
                map.removeLayer(geoJsonLayers.residentsFellows_1990)
                map.removeLayer(geoJsonLayers.residentsFellows_1991)
                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                map.removeLayer(geoJsonLayers.residentsFellows_2014) 

                 if(document.getElementById('checkboxCity3').checked) {                  
                    map.addLayer(geoJsonLayers.residents_1971)
                    map.addLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)  
                }
                $(".Cities3").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residents_1971)
                        map.addLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                    else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                });


                if(document.getElementById('checkboxCity').checked) {
                    map.removeLayer(geoJsonLayers.fellows_1978)
                    map.removeLayer(geoJsonLayers.fellows_1982)
                    map.removeLayer(geoJsonLayers.fellows_1983)
                    // map.removeLayer(geoJsonLayers.fellows_1984)
                    map.removeLayer(geoJsonLayers.fellows_1985)
                    map.removeLayer(geoJsonLayers.fellows_1986)
                    map.removeLayer(geoJsonLayers.fellows_1987)
                    map.removeLayer(geoJsonLayers.fellows_1988)
                    map.removeLayer(geoJsonLayers.fellows_1989)
                    map.removeLayer(geoJsonLayers.fellows_1990)
                    map.removeLayer(geoJsonLayers.fellows_1991)
                    map.removeLayer(geoJsonLayers.fellows_1992)
                    map.removeLayer(geoJsonLayers.fellows_1993)
                    map.removeLayer(geoJsonLayers.fellows_1994)
                    map.removeLayer(geoJsonLayers.fellows_1995)
                    map.removeLayer(geoJsonLayers.fellows_1996)
                    map.removeLayer(geoJsonLayers.fellows_1997)
                    map.removeLayer(geoJsonLayers.fellows_1998)
                    map.removeLayer(geoJsonLayers.fellows_1999)
                    map.removeLayer(geoJsonLayers.fellows_2000)
                    map.removeLayer(geoJsonLayers.fellows_2001)
                    map.removeLayer(geoJsonLayers.fellows_2002)
                    map.removeLayer(geoJsonLayers.fellows_2003)
                    map.removeLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)
                } else {
                    map.removeLayer(geoJsonLayers.fellows_1978)
                    map.removeLayer(geoJsonLayers.fellows_1982)
                    map.removeLayer(geoJsonLayers.fellows_1983)
                    // map.removeLayer(geoJsonLayers.fellows_1984)
                    map.removeLayer(geoJsonLayers.fellows_1985)
                    map.removeLayer(geoJsonLayers.fellows_1986)
                    map.removeLayer(geoJsonLayers.fellows_1987)
                    map.removeLayer(geoJsonLayers.fellows_1988)
                    map.removeLayer(geoJsonLayers.fellows_1989)
                    map.removeLayer(geoJsonLayers.fellows_1990)
                    map.removeLayer(geoJsonLayers.fellows_1991)
                    map.removeLayer(geoJsonLayers.fellows_1992)
                    map.removeLayer(geoJsonLayers.fellows_1993)
                    map.removeLayer(geoJsonLayers.fellows_1994)
                    map.removeLayer(geoJsonLayers.fellows_1995)
                    map.removeLayer(geoJsonLayers.fellows_1996)
                    map.removeLayer(geoJsonLayers.fellows_1997)
                    map.removeLayer(geoJsonLayers.fellows_1998)
                    map.removeLayer(geoJsonLayers.fellows_1999)
                    map.removeLayer(geoJsonLayers.fellows_2000)
                    map.removeLayer(geoJsonLayers.fellows_2001)
                    map.removeLayer(geoJsonLayers.fellows_2002)
                    map.removeLayer(geoJsonLayers.fellows_2003)
                    map.removeLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)
                }

                if(document.getElementById('checkboxCity2').checked) {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });

            }
            if (index == 1974) {

                legend1974.addTo(map);
                legend1973.removeFrom(map);
               
                legend1975.removeFrom(map);
                legend1976.removeFrom(map);
                legend1977.removeFrom(map);
                legend1978.removeFrom(map);
                legend1979.removeFrom(map);
                legend1980.removeFrom(map);
                legend1981.removeFrom(map);
                legend1982.removeFrom(map);
                legend1983.removeFrom(map);
                legend1984.removeFrom(map);
                legend1985.removeFrom(map);
                legend1986.removeFrom(map);
                legend1987.removeFrom(map);

                console.log(index)
                map.removeLayer(geoJsonLayers.residents_1971)
                map.addLayer(geoJsonLayers.residents_1971)
                map.removeLayer(geoJsonLayers.residents_1973)
                map.addLayer(geoJsonLayers.residents_1973)
                map.removeLayer(geoJsonLayers.residents_1984)
                map.removeLayer(geoJsonLayers.residents_1989)
                map.removeLayer(geoJsonLayers.residents_1990)
                map.removeLayer(geoJsonLayers.residents_1991)
                map.removeLayer(geoJsonLayers.residents_1992)
                map.removeLayer(geoJsonLayers.residents_1993)
                map.removeLayer(geoJsonLayers.residents_1994)
                map.removeLayer(geoJsonLayers.residents_1995)
                map.removeLayer(geoJsonLayers.residents_1996)
                map.removeLayer(geoJsonLayers.residents_1997)
                map.removeLayer(geoJsonLayers.residents_1998)
                map.removeLayer(geoJsonLayers.residents_1999)
                map.removeLayer(geoJsonLayers.residents_2000)
                map.removeLayer(geoJsonLayers.residents_2002)
                map.removeLayer(geoJsonLayers.residents_2003)
                map.removeLayer(geoJsonLayers.residents_2004)
                map.removeLayer(geoJsonLayers.residents_2005)
                map.removeLayer(geoJsonLayers.residents_2006)
                map.removeLayer(geoJsonLayers.residents_2008)
                map.removeLayer(geoJsonLayers.residents_2009)
                map.removeLayer(geoJsonLayers.residents_2010)
                map.removeLayer(geoJsonLayers.residents_2011)
                map.removeLayer(geoJsonLayers.residents_2013)
                map.removeLayer(geoJsonLayers.residents_2014)

                map.removeLayer(geoJsonLayers.residentsFellows_1981)
                map.removeLayer(geoJsonLayers.residentsFellows_1982)
                map.removeLayer(geoJsonLayers.residentsFellows_1990)
                map.removeLayer(geoJsonLayers.residentsFellows_1991)
                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                map.removeLayer(geoJsonLayers.residentsFellows_2014)

                 if(document.getElementById('checkboxCity3').checked) {                  
                    map.addLayer(geoJsonLayers.residents_1971)
                    map.addLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)  
                }
                $(".Cities3").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residents_1971)
                        map.addLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                    else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                });

                if(document.getElementById('checkboxCity').checked) {
                    map.removeLayer(geoJsonLayers.fellows_1978)
                    map.removeLayer(geoJsonLayers.fellows_1982)
                    map.removeLayer(geoJsonLayers.fellows_1983)
                    // map.removeLayer(geoJsonLayers.fellows_1984)
                    map.removeLayer(geoJsonLayers.fellows_1985)
                    map.removeLayer(geoJsonLayers.fellows_1986)
                    map.removeLayer(geoJsonLayers.fellows_1987)
                    map.removeLayer(geoJsonLayers.fellows_1988)
                    map.removeLayer(geoJsonLayers.fellows_1989)
                    map.removeLayer(geoJsonLayers.fellows_1990)
                    map.removeLayer(geoJsonLayers.fellows_1991)
                    map.removeLayer(geoJsonLayers.fellows_1992)
                    map.removeLayer(geoJsonLayers.fellows_1993)
                    map.removeLayer(geoJsonLayers.fellows_1994)
                    map.removeLayer(geoJsonLayers.fellows_1995)
                    map.removeLayer(geoJsonLayers.fellows_1996)
                    map.removeLayer(geoJsonLayers.fellows_1997)
                    map.removeLayer(geoJsonLayers.fellows_1998)
                    map.removeLayer(geoJsonLayers.fellows_1999)
                    map.removeLayer(geoJsonLayers.fellows_2000)
                    map.removeLayer(geoJsonLayers.fellows_2001)
                    map.removeLayer(geoJsonLayers.fellows_2002)
                    map.removeLayer(geoJsonLayers.fellows_2003)
                    map.removeLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)
                } else {
                    map.removeLayer(geoJsonLayers.fellows_1978)
                    map.removeLayer(geoJsonLayers.fellows_1982)
                    map.removeLayer(geoJsonLayers.fellows_1983)
                    // map.removeLayer(geoJsonLayers.fellows_1984)
                    map.removeLayer(geoJsonLayers.fellows_1985)
                    map.removeLayer(geoJsonLayers.fellows_1986)
                    map.removeLayer(geoJsonLayers.fellows_1987)
                    map.removeLayer(geoJsonLayers.fellows_1988)
                    map.removeLayer(geoJsonLayers.fellows_1989)
                    map.removeLayer(geoJsonLayers.fellows_1990)
                    map.removeLayer(geoJsonLayers.fellows_1991)
                    map.removeLayer(geoJsonLayers.fellows_1992)
                    map.removeLayer(geoJsonLayers.fellows_1993)
                    map.removeLayer(geoJsonLayers.fellows_1994)
                    map.removeLayer(geoJsonLayers.fellows_1995)
                    map.removeLayer(geoJsonLayers.fellows_1996)
                    map.removeLayer(geoJsonLayers.fellows_1997)
                    map.removeLayer(geoJsonLayers.fellows_1998)
                    map.removeLayer(geoJsonLayers.fellows_1999)
                    map.removeLayer(geoJsonLayers.fellows_2000)
                    map.removeLayer(geoJsonLayers.fellows_2001)
                    map.removeLayer(geoJsonLayers.fellows_2002)
                    map.removeLayer(geoJsonLayers.fellows_2003)
                    map.removeLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)
                }

                if(document.getElementById('checkboxCity2').checked) {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });
            }
            if (index == 1975) {
                // legend1975.addTo(map);
                // legend1974.removeFrom(map);
                console.log(index)
                map.removeLayer(geoJsonLayers.residents_1971)
                map.addLayer(geoJsonLayers.residents_1971)
                map.removeLayer(geoJsonLayers.residents_1973)
                map.addLayer(geoJsonLayers.residents_1973)
                map.removeLayer(geoJsonLayers.residents_1984)
                map.removeLayer(geoJsonLayers.residents_1989)
                map.removeLayer(geoJsonLayers.residents_1990)
                map.removeLayer(geoJsonLayers.residents_1991)
                map.removeLayer(geoJsonLayers.residents_1992)
                map.removeLayer(geoJsonLayers.residents_1993)
                map.removeLayer(geoJsonLayers.residents_1994)
                map.removeLayer(geoJsonLayers.residents_1995)
                map.removeLayer(geoJsonLayers.residents_1996)
                map.removeLayer(geoJsonLayers.residents_1997)
                map.removeLayer(geoJsonLayers.residents_1998)
                map.removeLayer(geoJsonLayers.residents_1999)
                map.removeLayer(geoJsonLayers.residents_2000)
                map.removeLayer(geoJsonLayers.residents_2002)
                map.removeLayer(geoJsonLayers.residents_2003)
                map.removeLayer(geoJsonLayers.residents_2004)
                map.removeLayer(geoJsonLayers.residents_2005)
                map.removeLayer(geoJsonLayers.residents_2006)
                map.removeLayer(geoJsonLayers.residents_2008)
                map.removeLayer(geoJsonLayers.residents_2009)
                map.removeLayer(geoJsonLayers.residents_2010)
                map.removeLayer(geoJsonLayers.residents_2011)
                map.removeLayer(geoJsonLayers.residents_2013)
                map.removeLayer(geoJsonLayers.residents_2014)

                map.removeLayer(geoJsonLayers.residentsFellows_1981)
                map.removeLayer(geoJsonLayers.residentsFellows_1982)
                map.removeLayer(geoJsonLayers.residentsFellows_1990)
                map.removeLayer(geoJsonLayers.residentsFellows_1991)
                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                map.removeLayer(geoJsonLayers.residentsFellows_2014)

                 if(document.getElementById('checkboxCity3').checked) {                  
                    map.addLayer(geoJsonLayers.residents_1971)
                    map.addLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)  
                }
                $(".Cities3").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residents_1971)
                        map.addLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                    else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                });

                if(document.getElementById('checkboxCity').checked) {
                    map.removeLayer(geoJsonLayers.fellows_1978)
                    map.removeLayer(geoJsonLayers.fellows_1982)
                    map.removeLayer(geoJsonLayers.fellows_1983)
                    // map.removeLayer(geoJsonLayers.fellows_1984)
                    map.removeLayer(geoJsonLayers.fellows_1985)
                    map.removeLayer(geoJsonLayers.fellows_1986)
                    map.removeLayer(geoJsonLayers.fellows_1987)
                    map.removeLayer(geoJsonLayers.fellows_1988)
                    map.removeLayer(geoJsonLayers.fellows_1989)
                    map.removeLayer(geoJsonLayers.fellows_1990)
                    map.removeLayer(geoJsonLayers.fellows_1991)
                    map.removeLayer(geoJsonLayers.fellows_1992)
                    map.removeLayer(geoJsonLayers.fellows_1993)
                    map.removeLayer(geoJsonLayers.fellows_1994)
                    map.removeLayer(geoJsonLayers.fellows_1995)
                    map.removeLayer(geoJsonLayers.fellows_1996)
                    map.removeLayer(geoJsonLayers.fellows_1997)
                    map.removeLayer(geoJsonLayers.fellows_1998)
                    map.removeLayer(geoJsonLayers.fellows_1999)
                    map.removeLayer(geoJsonLayers.fellows_2000)
                    map.removeLayer(geoJsonLayers.fellows_2001)
                    map.removeLayer(geoJsonLayers.fellows_2002)
                    map.removeLayer(geoJsonLayers.fellows_2003)
                    map.removeLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)
                } else {
                    map.removeLayer(geoJsonLayers.fellows_1978)
                    map.removeLayer(geoJsonLayers.fellows_1982)
                    map.removeLayer(geoJsonLayers.fellows_1983)
                    // map.removeLayer(geoJsonLayers.fellows_1984)
                    map.removeLayer(geoJsonLayers.fellows_1985)
                    map.removeLayer(geoJsonLayers.fellows_1986)
                    map.removeLayer(geoJsonLayers.fellows_1987)
                    map.removeLayer(geoJsonLayers.fellows_1988)
                    map.removeLayer(geoJsonLayers.fellows_1989)
                    map.removeLayer(geoJsonLayers.fellows_1990)
                    map.removeLayer(geoJsonLayers.fellows_1991)
                    map.removeLayer(geoJsonLayers.fellows_1992)
                    map.removeLayer(geoJsonLayers.fellows_1993)
                    map.removeLayer(geoJsonLayers.fellows_1994)
                    map.removeLayer(geoJsonLayers.fellows_1995)
                    map.removeLayer(geoJsonLayers.fellows_1996)
                    map.removeLayer(geoJsonLayers.fellows_1997)
                    map.removeLayer(geoJsonLayers.fellows_1998)
                    map.removeLayer(geoJsonLayers.fellows_1999)
                    map.removeLayer(geoJsonLayers.fellows_2000)
                    map.removeLayer(geoJsonLayers.fellows_2001)
                    map.removeLayer(geoJsonLayers.fellows_2002)
                    map.removeLayer(geoJsonLayers.fellows_2003)
                    map.removeLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)
                }

                if(document.getElementById('checkboxCity2').checked) {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });
            }
            if (index == 1976) {
                console.log(index)
                map.removeLayer(geoJsonLayers.residents_1971)
                map.addLayer(geoJsonLayers.residents_1971)
                map.removeLayer(geoJsonLayers.residents_1973)
                map.addLayer(geoJsonLayers.residents_1973)
                map.removeLayer(geoJsonLayers.residents_1984)
                map.removeLayer(geoJsonLayers.residents_1989)
                map.removeLayer(geoJsonLayers.residents_1990)
                map.removeLayer(geoJsonLayers.residents_1991)
                map.removeLayer(geoJsonLayers.residents_1992)
                map.removeLayer(geoJsonLayers.residents_1993)
                map.removeLayer(geoJsonLayers.residents_1994)
                map.removeLayer(geoJsonLayers.residents_1995)
                map.removeLayer(geoJsonLayers.residents_1996)
                map.removeLayer(geoJsonLayers.residents_1997)
                map.removeLayer(geoJsonLayers.residents_1998)
                map.removeLayer(geoJsonLayers.residents_1999)
                map.removeLayer(geoJsonLayers.residents_2000)
                map.removeLayer(geoJsonLayers.residents_2002)
                map.removeLayer(geoJsonLayers.residents_2003)
                map.removeLayer(geoJsonLayers.residents_2004)
                map.removeLayer(geoJsonLayers.residents_2005)
                map.removeLayer(geoJsonLayers.residents_2006)
                map.removeLayer(geoJsonLayers.residents_2008)
                map.removeLayer(geoJsonLayers.residents_2009)
                map.removeLayer(geoJsonLayers.residents_2010)
                map.removeLayer(geoJsonLayers.residents_2011)
                map.removeLayer(geoJsonLayers.residents_2013)
                map.removeLayer(geoJsonLayers.residents_2014)

                map.removeLayer(geoJsonLayers.residentsFellows_1981)
                map.removeLayer(geoJsonLayers.residentsFellows_1982)
                map.removeLayer(geoJsonLayers.residentsFellows_1990)
                map.removeLayer(geoJsonLayers.residentsFellows_1991)
                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                map.removeLayer(geoJsonLayers.residentsFellows_2014)

                 if(document.getElementById('checkboxCity3').checked) {                  
                    map.addLayer(geoJsonLayers.residents_1971)
                    map.addLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)  
                }
                $(".Cities3").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residents_1971)
                        map.addLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                    else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                });

                if(document.getElementById('checkboxCity').checked) {
                    map.removeLayer(geoJsonLayers.fellows_1978)
                    map.removeLayer(geoJsonLayers.fellows_1982)
                    map.removeLayer(geoJsonLayers.fellows_1983)
                    // map.removeLayer(geoJsonLayers.fellows_1984)
                    map.removeLayer(geoJsonLayers.fellows_1985)
                    map.removeLayer(geoJsonLayers.fellows_1986)
                    map.removeLayer(geoJsonLayers.fellows_1987)
                    map.removeLayer(geoJsonLayers.fellows_1988)
                    map.removeLayer(geoJsonLayers.fellows_1989)
                    map.removeLayer(geoJsonLayers.fellows_1990)
                    map.removeLayer(geoJsonLayers.fellows_1991)
                    map.removeLayer(geoJsonLayers.fellows_1992)
                    map.removeLayer(geoJsonLayers.fellows_1993)
                    map.removeLayer(geoJsonLayers.fellows_1994)
                    map.removeLayer(geoJsonLayers.fellows_1995)
                    map.removeLayer(geoJsonLayers.fellows_1996)
                    map.removeLayer(geoJsonLayers.fellows_1997)
                    map.removeLayer(geoJsonLayers.fellows_1998)
                    map.removeLayer(geoJsonLayers.fellows_1999)
                    map.removeLayer(geoJsonLayers.fellows_2000)
                    map.removeLayer(geoJsonLayers.fellows_2001)
                    map.removeLayer(geoJsonLayers.fellows_2002)
                    map.removeLayer(geoJsonLayers.fellows_2003)
                    map.removeLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)
                } else {
                    map.removeLayer(geoJsonLayers.fellows_1978)
                    map.removeLayer(geoJsonLayers.fellows_1982)
                    map.removeLayer(geoJsonLayers.fellows_1983)
                    // map.removeLayer(geoJsonLayers.fellows_1984)
                    map.removeLayer(geoJsonLayers.fellows_1985)
                    map.removeLayer(geoJsonLayers.fellows_1986)
                    map.removeLayer(geoJsonLayers.fellows_1987)
                    map.removeLayer(geoJsonLayers.fellows_1988)
                    map.removeLayer(geoJsonLayers.fellows_1989)
                    map.removeLayer(geoJsonLayers.fellows_1990)
                    map.removeLayer(geoJsonLayers.fellows_1991)
                    map.removeLayer(geoJsonLayers.fellows_1992)
                    map.removeLayer(geoJsonLayers.fellows_1993)
                    map.removeLayer(geoJsonLayers.fellows_1994)
                    map.removeLayer(geoJsonLayers.fellows_1995)
                    map.removeLayer(geoJsonLayers.fellows_1996)
                    map.removeLayer(geoJsonLayers.fellows_1997)
                    map.removeLayer(geoJsonLayers.fellows_1998)
                    map.removeLayer(geoJsonLayers.fellows_1999)
                    map.removeLayer(geoJsonLayers.fellows_2000)
                    map.removeLayer(geoJsonLayers.fellows_2001)
                    map.removeLayer(geoJsonLayers.fellows_2002)
                    map.removeLayer(geoJsonLayers.fellows_2003)
                    map.removeLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)
                }

                if(document.getElementById('checkboxCity2').checked) {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });
            }
            if (index == 1977) {
                console.log(index)
                console.log("oh, hi")
                map.removeLayer(geoJsonLayers.residents_1971)
                map.addLayer(geoJsonLayers.residents_1971)
                map.removeLayer(geoJsonLayers.residents_1973)
                map.addLayer(geoJsonLayers.residents_1973)
                map.removeLayer(geoJsonLayers.residents_1984)
                map.removeLayer(geoJsonLayers.residents_1989)
                map.removeLayer(geoJsonLayers.residents_1990)
                map.removeLayer(geoJsonLayers.residents_1991)
                map.removeLayer(geoJsonLayers.residents_1992)
                map.removeLayer(geoJsonLayers.residents_1993)
                map.removeLayer(geoJsonLayers.residents_1994)
                map.removeLayer(geoJsonLayers.residents_1995)
                map.removeLayer(geoJsonLayers.residents_1996)
                map.removeLayer(geoJsonLayers.residents_1997)
                map.removeLayer(geoJsonLayers.residents_1998)
                map.removeLayer(geoJsonLayers.residents_1999)
                map.removeLayer(geoJsonLayers.residents_2000)
                map.removeLayer(geoJsonLayers.residents_2002)
                map.removeLayer(geoJsonLayers.residents_2003)
                map.removeLayer(geoJsonLayers.residents_2004)
                map.removeLayer(geoJsonLayers.residents_2005)
                map.removeLayer(geoJsonLayers.residents_2006)
                map.removeLayer(geoJsonLayers.residents_2008)
                map.removeLayer(geoJsonLayers.residents_2009)
                map.removeLayer(geoJsonLayers.residents_2010)
                map.removeLayer(geoJsonLayers.residents_2011)
                map.removeLayer(geoJsonLayers.residents_2013)
                map.removeLayer(geoJsonLayers.residents_2014)

                map.removeLayer(geoJsonLayers.residentsFellows_1981)
                map.removeLayer(geoJsonLayers.residentsFellows_1982)
                map.removeLayer(geoJsonLayers.residentsFellows_1990)
                map.removeLayer(geoJsonLayers.residentsFellows_1991)
                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                map.removeLayer(geoJsonLayers.residentsFellows_2014)

                 if(document.getElementById('checkboxCity3').checked) {                  
                    map.addLayer(geoJsonLayers.residents_1971)
                    map.addLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)  
                }
                $(".Cities3").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residents_1971)
                        map.addLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                    else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                });

                if(document.getElementById('checkboxCity').checked) {
                    map.removeLayer(geoJsonLayers.fellows_1978)
                    map.removeLayer(geoJsonLayers.fellows_1982)
                    map.removeLayer(geoJsonLayers.fellows_1983)
                    // map.removeLayer(geoJsonLayers.fellows_1984)
                    map.removeLayer(geoJsonLayers.fellows_1985)
                    map.removeLayer(geoJsonLayers.fellows_1986)
                    map.removeLayer(geoJsonLayers.fellows_1987)
                    map.removeLayer(geoJsonLayers.fellows_1988)
                    map.removeLayer(geoJsonLayers.fellows_1989)
                    map.removeLayer(geoJsonLayers.fellows_1990)
                    map.removeLayer(geoJsonLayers.fellows_1991)
                    map.removeLayer(geoJsonLayers.fellows_1992)
                    map.removeLayer(geoJsonLayers.fellows_1993)
                    map.removeLayer(geoJsonLayers.fellows_1994)
                    map.removeLayer(geoJsonLayers.fellows_1995)
                    map.removeLayer(geoJsonLayers.fellows_1996)
                    map.removeLayer(geoJsonLayers.fellows_1997)
                    map.removeLayer(geoJsonLayers.fellows_1998)
                    map.removeLayer(geoJsonLayers.fellows_1999)
                    map.removeLayer(geoJsonLayers.fellows_2000)
                    map.removeLayer(geoJsonLayers.fellows_2001)
                    map.removeLayer(geoJsonLayers.fellows_2002)
                    map.removeLayer(geoJsonLayers.fellows_2003)
                    map.removeLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)
                } else {
                    map.removeLayer(geoJsonLayers.fellows_1978)
                    map.removeLayer(geoJsonLayers.fellows_1982)
                    map.removeLayer(geoJsonLayers.fellows_1983)
                    // map.removeLayer(geoJsonLayers.fellows_1984)
                    map.removeLayer(geoJsonLayers.fellows_1985)
                    map.removeLayer(geoJsonLayers.fellows_1986)
                    map.removeLayer(geoJsonLayers.fellows_1987)
                    map.removeLayer(geoJsonLayers.fellows_1988)
                    map.removeLayer(geoJsonLayers.fellows_1989)
                    map.removeLayer(geoJsonLayers.fellows_1990)
                    map.removeLayer(geoJsonLayers.fellows_1991)
                    map.removeLayer(geoJsonLayers.fellows_1992)
                    map.removeLayer(geoJsonLayers.fellows_1993)
                    map.removeLayer(geoJsonLayers.fellows_1994)
                    map.removeLayer(geoJsonLayers.fellows_1995)
                    map.removeLayer(geoJsonLayers.fellows_1996)
                    map.removeLayer(geoJsonLayers.fellows_1997)
                    map.removeLayer(geoJsonLayers.fellows_1998)
                    map.removeLayer(geoJsonLayers.fellows_1999)
                    map.removeLayer(geoJsonLayers.fellows_2000)
                    map.removeLayer(geoJsonLayers.fellows_2001)
                    map.removeLayer(geoJsonLayers.fellows_2002)
                    map.removeLayer(geoJsonLayers.fellows_2003)
                    map.removeLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)
                }

                if(document.getElementById('checkboxCity2').checked) {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });
            }
            if (index == 1978) {
                console.log(index)
                map.removeLayer(geoJsonLayers.residents_1971)
                map.addLayer(geoJsonLayers.residents_1971)
                map.removeLayer(geoJsonLayers.residents_1973)
                map.addLayer(geoJsonLayers.residents_1973)
                map.removeLayer(geoJsonLayers.residents_1984)
                map.removeLayer(geoJsonLayers.residents_1989)
                map.removeLayer(geoJsonLayers.residents_1990)
                map.removeLayer(geoJsonLayers.residents_1991)
                map.removeLayer(geoJsonLayers.residents_1992)
                map.removeLayer(geoJsonLayers.residents_1993)
                map.removeLayer(geoJsonLayers.residents_1994)
                map.removeLayer(geoJsonLayers.residents_1995)
                map.removeLayer(geoJsonLayers.residents_1996)
                map.removeLayer(geoJsonLayers.residents_1997)
                map.removeLayer(geoJsonLayers.residents_1998)
                map.removeLayer(geoJsonLayers.residents_1999)
                map.removeLayer(geoJsonLayers.residents_2000)
                map.removeLayer(geoJsonLayers.residents_2002)
                map.removeLayer(geoJsonLayers.residents_2003)
                map.removeLayer(geoJsonLayers.residents_2004)
                map.removeLayer(geoJsonLayers.residents_2005)
                map.removeLayer(geoJsonLayers.residents_2006)
                map.removeLayer(geoJsonLayers.residents_2008)
                map.removeLayer(geoJsonLayers.residents_2009)
                map.removeLayer(geoJsonLayers.residents_2010)
                map.removeLayer(geoJsonLayers.residents_2011)
                map.removeLayer(geoJsonLayers.residents_2013)
                map.removeLayer(geoJsonLayers.residents_2014)

                map.removeLayer(geoJsonLayers.residentsFellows_1981)
                map.removeLayer(geoJsonLayers.residentsFellows_1982)
                map.removeLayer(geoJsonLayers.residentsFellows_1990)
                map.removeLayer(geoJsonLayers.residentsFellows_1991)
                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                map.removeLayer(geoJsonLayers.residentsFellows_2014) 

                 if(document.getElementById('checkboxCity3').checked) {                  
                    map.addLayer(geoJsonLayers.residents_1971)
                    map.addLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)  
                }
                $(".Cities3").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residents_1971)
                        map.addLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                    else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                });

                if(document.getElementById('checkboxCity').checked) {
                    map.addLayer(geoJsonLayers.fellows_1978)
                    map.removeLayer(geoJsonLayers.fellows_1983)
                    // map.removeLayer(geoJsonLayers.fellows_1984)
                    map.removeLayer(geoJsonLayers.fellows_1985)
                    map.removeLayer(geoJsonLayers.fellows_1986)
                    map.removeLayer(geoJsonLayers.fellows_1987)
                    map.removeLayer(geoJsonLayers.fellows_1988)
                    map.removeLayer(geoJsonLayers.fellows_1989)
                    map.removeLayer(geoJsonLayers.fellows_1990)
                    map.removeLayer(geoJsonLayers.fellows_1991)
                    map.removeLayer(geoJsonLayers.fellows_1992)
                    map.removeLayer(geoJsonLayers.fellows_1993)
                    map.removeLayer(geoJsonLayers.fellows_1994)
                    map.removeLayer(geoJsonLayers.fellows_1995)
                    map.removeLayer(geoJsonLayers.fellows_1996)
                    map.removeLayer(geoJsonLayers.fellows_1997)
                    map.removeLayer(geoJsonLayers.fellows_1998)
                    map.removeLayer(geoJsonLayers.fellows_1999)
                    map.removeLayer(geoJsonLayers.fellows_2000)
                    map.removeLayer(geoJsonLayers.fellows_2001)
                    map.removeLayer(geoJsonLayers.fellows_2002)
                    map.removeLayer(geoJsonLayers.fellows_2003)
                    map.removeLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)
                }

                if(document.getElementById('checkboxCity2').checked) {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });

                $(".Cities").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                            map.addLayer(geoJsonLayers.fellows_1978)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1978)
                    }
                });

            }
            if (index == 1979) {
                console.log(index)
                map.removeLayer(geoJsonLayers.residents_1971)
                map.addLayer(geoJsonLayers.residents_1971)
                map.removeLayer(geoJsonLayers.residents_1973)
                map.addLayer(geoJsonLayers.residents_1973)
                map.removeLayer(geoJsonLayers.residents_1984)
                map.removeLayer(geoJsonLayers.residents_1989)
                map.removeLayer(geoJsonLayers.residents_1990)
                map.removeLayer(geoJsonLayers.residents_1991)
                map.removeLayer(geoJsonLayers.residents_1992)
                map.removeLayer(geoJsonLayers.residents_1993)
                map.removeLayer(geoJsonLayers.residents_1994)
                map.removeLayer(geoJsonLayers.residents_1995)
                map.removeLayer(geoJsonLayers.residents_1996)
                map.removeLayer(geoJsonLayers.residents_1997)
                map.removeLayer(geoJsonLayers.residents_1998)
                map.removeLayer(geoJsonLayers.residents_1999)
                map.removeLayer(geoJsonLayers.residents_2000)
                map.removeLayer(geoJsonLayers.residents_2002)
                map.removeLayer(geoJsonLayers.residents_2003)
                map.removeLayer(geoJsonLayers.residents_2004)
                map.removeLayer(geoJsonLayers.residents_2005)
                map.removeLayer(geoJsonLayers.residents_2006)
                map.removeLayer(geoJsonLayers.residents_2008)
                map.removeLayer(geoJsonLayers.residents_2009)
                map.removeLayer(geoJsonLayers.residents_2010)
                map.removeLayer(geoJsonLayers.residents_2011)
                map.removeLayer(geoJsonLayers.residents_2013)
                map.removeLayer(geoJsonLayers.residents_2014)

                map.removeLayer(geoJsonLayers.residentsFellows_1981)
                map.removeLayer(geoJsonLayers.residentsFellows_1982)
                map.removeLayer(geoJsonLayers.residentsFellows_1990)
                map.removeLayer(geoJsonLayers.residentsFellows_1991)
                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                map.removeLayer(geoJsonLayers.residentsFellows_2014) 

                 if(document.getElementById('checkboxCity3').checked) {                  
                    map.addLayer(geoJsonLayers.residents_1971)
                    map.addLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)  
                }
                $(".Cities3").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residents_1971)
                        map.addLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                    else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                });    

                if(document.getElementById('checkboxCity').checked) {
                    map.addLayer(geoJsonLayers.fellows_1978)
                }

                $(".Cities").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.fellows_1978)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1978)
                        map.removeLayer(geoJsonLayers.fellows_1982)
                    }
                });

                if(document.getElementById('checkboxCity2').checked) {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });
            }
            if (index == 1980) {
                console.log(index)
                map.removeLayer(geoJsonLayers.residents_1971)
                map.addLayer(geoJsonLayers.residents_1971)
                map.removeLayer(geoJsonLayers.residents_1973)
                map.addLayer(geoJsonLayers.residents_1973)
                map.removeLayer(geoJsonLayers.residents_1984)
                map.removeLayer(geoJsonLayers.residents_1989)
                map.removeLayer(geoJsonLayers.residents_1990)
                map.removeLayer(geoJsonLayers.residents_1991)
                map.removeLayer(geoJsonLayers.residents_1992)
                map.removeLayer(geoJsonLayers.residents_1993)
                map.removeLayer(geoJsonLayers.residents_1994)
                map.removeLayer(geoJsonLayers.residents_1995)
                map.removeLayer(geoJsonLayers.residents_1996)
                map.removeLayer(geoJsonLayers.residents_1997)
                map.removeLayer(geoJsonLayers.residents_1998)
                map.removeLayer(geoJsonLayers.residents_1999)
                map.removeLayer(geoJsonLayers.residents_2000)
                map.removeLayer(geoJsonLayers.residents_2002)
                map.removeLayer(geoJsonLayers.residents_2003)
                map.removeLayer(geoJsonLayers.residents_2004)
                map.removeLayer(geoJsonLayers.residents_2005)
                map.removeLayer(geoJsonLayers.residents_2006)
                map.removeLayer(geoJsonLayers.residents_2008)
                map.removeLayer(geoJsonLayers.residents_2009)
                map.removeLayer(geoJsonLayers.residents_2010)
                map.removeLayer(geoJsonLayers.residents_2011)
                map.removeLayer(geoJsonLayers.residents_2013)
                map.removeLayer(geoJsonLayers.residents_2014)

                map.removeLayer(geoJsonLayers.residentsFellows_1981)
                map.removeLayer(geoJsonLayers.residentsFellows_1982)
                map.removeLayer(geoJsonLayers.residentsFellows_1990)
                map.removeLayer(geoJsonLayers.residentsFellows_1991)
                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                map.removeLayer(geoJsonLayers.residentsFellows_2014) 

                 if(document.getElementById('checkboxCity3').checked) {                  
                    map.addLayer(geoJsonLayers.residents_1971)
                    map.addLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)  
                }
                $(".Cities3").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residents_1971)
                        map.addLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                    else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                });

                if(document.getElementById('checkboxCity').checked) {
                    map.addLayer(geoJsonLayers.fellows_1978)
                }

                $(".Cities").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.fellows_1978)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1978)
                        map.removeLayer(geoJsonLayers.fellows_1982)
                    }
                });

                if(document.getElementById('checkboxCity2').checked) {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });    


            }
            if (index == 1981) {
                console.log(index)
                map.removeLayer(geoJsonLayers.residents_1971)
                map.addLayer(geoJsonLayers.residents_1971)
                map.removeLayer(geoJsonLayers.residents_1973)
                map.addLayer(geoJsonLayers.residents_1973)
                map.removeLayer(geoJsonLayers.residents_1984)
                map.removeLayer(geoJsonLayers.residents_1989)
                map.removeLayer(geoJsonLayers.residents_1990)
                map.removeLayer(geoJsonLayers.residents_1991)
                map.removeLayer(geoJsonLayers.residents_1992)
                map.removeLayer(geoJsonLayers.residents_1993)
                map.removeLayer(geoJsonLayers.residents_1994)
                map.removeLayer(geoJsonLayers.residents_1995)
                map.removeLayer(geoJsonLayers.residents_1996)
                map.removeLayer(geoJsonLayers.residents_1997)
                map.removeLayer(geoJsonLayers.residents_1998)
                map.removeLayer(geoJsonLayers.residents_1999)
                map.removeLayer(geoJsonLayers.residents_2000)
                map.removeLayer(geoJsonLayers.residents_2002)
                map.removeLayer(geoJsonLayers.residents_2003)
                map.removeLayer(geoJsonLayers.residents_2004)
                map.removeLayer(geoJsonLayers.residents_2005)
                map.removeLayer(geoJsonLayers.residents_2006)
                map.removeLayer(geoJsonLayers.residents_2008)
                map.removeLayer(geoJsonLayers.residents_2009)
                map.removeLayer(geoJsonLayers.residents_2010)
                map.removeLayer(geoJsonLayers.residents_2011)
                map.removeLayer(geoJsonLayers.residents_2013)
                map.removeLayer(geoJsonLayers.residents_2014)


                map.removeLayer(geoJsonLayers.residentsFellows_1982)
                map.removeLayer(geoJsonLayers.residentsFellows_1990)
                map.removeLayer(geoJsonLayers.residentsFellows_1991)
                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                map.removeLayer(geoJsonLayers.residentsFellows_2014) 

                 if(document.getElementById('checkboxCity3').checked) {                  
                    map.addLayer(geoJsonLayers.residents_1971)
                    map.addLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)  
                }
                $(".Cities3").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residents_1971)
                        map.addLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                    else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                });

                if(document.getElementById('checkboxCity').checked) {
                    map.addLayer(geoJsonLayers.fellows_1978)
                    map.removeLayer(geoJsonLayers.fellows_1982)

                } else {
                    map.removeLayer(geoJsonLayers.fellows_1982)
                }

                 

                $(".Cities").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.fellows_1978)
                        map.removeLayer(geoJsonLayers.fellows_1982)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1978)
                        map.removeLayer(geoJsonLayers.fellows_1982)
                    }
                });

                if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                }

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }

                    else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014)  
                    }
                });
            }
            if (index == 1982) {
                console.log(index)
                map.removeLayer(geoJsonLayers.residents_1971)
                map.addLayer(geoJsonLayers.residents_1971)
                map.removeLayer(geoJsonLayers.residents_1973)
                map.addLayer(geoJsonLayers.residents_1973)
                map.removeLayer(geoJsonLayers.residents_1984)
                map.removeLayer(geoJsonLayers.residents_1989)
                map.removeLayer(geoJsonLayers.residents_1990)
                map.removeLayer(geoJsonLayers.residents_1991)
                map.removeLayer(geoJsonLayers.residents_1992)
                map.removeLayer(geoJsonLayers.residents_1993)
                map.removeLayer(geoJsonLayers.residents_1994)
                map.removeLayer(geoJsonLayers.residents_1995)
                map.removeLayer(geoJsonLayers.residents_1996)
                map.removeLayer(geoJsonLayers.residents_1997)
                map.removeLayer(geoJsonLayers.residents_1998)
                map.removeLayer(geoJsonLayers.residents_1999)
                map.removeLayer(geoJsonLayers.residents_2000)
                map.removeLayer(geoJsonLayers.residents_2002)
                map.removeLayer(geoJsonLayers.residents_2003)
                map.removeLayer(geoJsonLayers.residents_2004)
                map.removeLayer(geoJsonLayers.residents_2005)
                map.removeLayer(geoJsonLayers.residents_2006)
                map.removeLayer(geoJsonLayers.residents_2008)
                map.removeLayer(geoJsonLayers.residents_2009)
                map.removeLayer(geoJsonLayers.residents_2010)
                map.removeLayer(geoJsonLayers.residents_2011)
                map.removeLayer(geoJsonLayers.residents_2013)
                map.removeLayer(geoJsonLayers.residents_2014)



                map.removeLayer(geoJsonLayers.residentsFellows_1990)
                map.removeLayer(geoJsonLayers.residentsFellows_1991)
                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                map.removeLayer(geoJsonLayers.residentsFellows_2014)

                 if(document.getElementById('checkboxCity3').checked) {                  
                    map.addLayer(geoJsonLayers.residents_1971)
                    map.addLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)  
                }
                $(".Cities3").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residents_1971)
                        map.addLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                    else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                });

                if(document.getElementById('checkboxCity').checked) {
                    map.addLayer(geoJsonLayers.fellows_1978)
                    map.addLayer(geoJsonLayers.fellows_1982)
                    map.removeLayer(geoJsonLayers.fellows_1983)
                    map.removeLayer(geoJsonLayers.fellows_1985)
                    map.removeLayer(geoJsonLayers.fellows_1986)
                    map.removeLayer(geoJsonLayers.fellows_1987)
                    map.removeLayer(geoJsonLayers.fellows_1988)
                    map.removeLayer(geoJsonLayers.fellows_1989)
                    map.removeLayer(geoJsonLayers.fellows_1990)
                    map.removeLayer(geoJsonLayers.fellows_1991)
                    map.removeLayer(geoJsonLayers.fellows_1992)
                    map.removeLayer(geoJsonLayers.fellows_1993)
                    map.removeLayer(geoJsonLayers.fellows_1994)
                    map.removeLayer(geoJsonLayers.fellows_1995)
                    map.removeLayer(geoJsonLayers.fellows_1996)
                    map.removeLayer(geoJsonLayers.fellows_1997)
                    map.removeLayer(geoJsonLayers.fellows_1998)
                    map.removeLayer(geoJsonLayers.fellows_1999)
                    map.removeLayer(geoJsonLayers.fellows_2000)
                    map.removeLayer(geoJsonLayers.fellows_2001)
                    map.removeLayer(geoJsonLayers.fellows_2002)
                    map.removeLayer(geoJsonLayers.fellows_2003)
                    map.removeLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)

                } else {
                    console.log("hi")
                }

                

                $(".Cities").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.fellows_1978)
                        map.addLayer(geoJsonLayers.fellows_1982)
                        map.removeLayer(geoJsonLayers.fellows_1983)
                        map.removeLayer(geoJsonLayers.fellows_1985)
                        map.removeLayer(geoJsonLayers.fellows_1986)
                        map.removeLayer(geoJsonLayers.fellows_1987)
                        map.removeLayer(geoJsonLayers.fellows_1988)
                        map.removeLayer(geoJsonLayers.fellows_1989)
                        map.removeLayer(geoJsonLayers.fellows_1990)
                        map.removeLayer(geoJsonLayers.fellows_1991)
                        map.removeLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1978)
                        map.removeLayer(geoJsonLayers.fellows_1982)
                        map.removeLayer(geoJsonLayers.fellows_1983)
                        map.removeLayer(geoJsonLayers.fellows_1985)
                        map.removeLayer(geoJsonLayers.fellows_1986)
                        map.removeLayer(geoJsonLayers.fellows_1987)
                        map.removeLayer(geoJsonLayers.fellows_1988)
                        map.removeLayer(geoJsonLayers.fellows_1989)
                        map.removeLayer(geoJsonLayers.fellows_1990)
                        map.removeLayer(geoJsonLayers.fellows_1991)
                        map.removeLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    }
                });


                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    } else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    }
                });

                 if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                }
            }
            if (index == 1983) {
                console.log(index)
                map.removeLayer(geoJsonLayers.residents_1971)
                map.addLayer(geoJsonLayers.residents_1971)
                map.removeLayer(geoJsonLayers.residents_1973)
                map.addLayer(geoJsonLayers.residents_1973)
                map.removeLayer(geoJsonLayers.residents_1984)
                map.removeLayer(geoJsonLayers.residents_1989)
                map.removeLayer(geoJsonLayers.residents_1990)
                map.removeLayer(geoJsonLayers.residents_1991)
                map.removeLayer(geoJsonLayers.residents_1992)
                map.removeLayer(geoJsonLayers.residents_1993)
                map.removeLayer(geoJsonLayers.residents_1994)
                map.removeLayer(geoJsonLayers.residents_1995)
                map.removeLayer(geoJsonLayers.residents_1996)
                map.removeLayer(geoJsonLayers.residents_1997)
                map.removeLayer(geoJsonLayers.residents_1998)
                map.removeLayer(geoJsonLayers.residents_1999)
                map.removeLayer(geoJsonLayers.residents_2000)
                map.removeLayer(geoJsonLayers.residents_2002)
                map.removeLayer(geoJsonLayers.residents_2003)
                map.removeLayer(geoJsonLayers.residents_2004)
                map.removeLayer(geoJsonLayers.residents_2005)
                map.removeLayer(geoJsonLayers.residents_2006)
                map.removeLayer(geoJsonLayers.residents_2008)
                map.removeLayer(geoJsonLayers.residents_2009)
                map.removeLayer(geoJsonLayers.residents_2010)
                map.removeLayer(geoJsonLayers.residents_2011)
                map.removeLayer(geoJsonLayers.residents_2013)
                map.removeLayer(geoJsonLayers.residents_2014)

                map.removeLayer(geoJsonLayers.residentsFellows_1990)
                map.removeLayer(geoJsonLayers.residentsFellows_1991)
                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                map.removeLayer(geoJsonLayers.residentsFellows_2014)

                 if(document.getElementById('checkboxCity3').checked) {                  
                    map.addLayer(geoJsonLayers.residents_1971)
                    map.addLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)  
                }
                $(".Cities3").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residents_1971)
                        map.addLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                    else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                });

                if(document.getElementById('checkboxCity').checked) {
                    map.addLayer(geoJsonLayers.fellows_1978)
                    map.addLayer(geoJsonLayers.fellows_1982)
                    map.addLayer(geoJsonLayers.fellows_1983)
                    map.removeLayer(geoJsonLayers.fellows_1985)
                    map.removeLayer(geoJsonLayers.fellows_1986)
                    map.removeLayer(geoJsonLayers.fellows_1987)
                    map.removeLayer(geoJsonLayers.fellows_1988)
                    map.removeLayer(geoJsonLayers.fellows_1989)
                    map.removeLayer(geoJsonLayers.fellows_1990)
                    map.removeLayer(geoJsonLayers.fellows_1991)
                    map.removeLayer(geoJsonLayers.fellows_1992)
                    map.removeLayer(geoJsonLayers.fellows_1993)
                    map.removeLayer(geoJsonLayers.fellows_1994)
                    map.removeLayer(geoJsonLayers.fellows_1995)
                    map.removeLayer(geoJsonLayers.fellows_1996)
                    map.removeLayer(geoJsonLayers.fellows_1997)
                    map.removeLayer(geoJsonLayers.fellows_1998)
                    map.removeLayer(geoJsonLayers.fellows_1999)
                    map.removeLayer(geoJsonLayers.fellows_2000)
                    map.removeLayer(geoJsonLayers.fellows_2001)
                    map.removeLayer(geoJsonLayers.fellows_2002)
                    map.removeLayer(geoJsonLayers.fellows_2003)
                    map.removeLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)
                } else {
                    console.log("hi")
                }

                


                $(".Cities").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.fellows_1978)
                        map.addLayer(geoJsonLayers.fellows_1982)
                        map.addLayer(geoJsonLayers.fellows_1983)
                        map.removeLayer(geoJsonLayers.fellows_1985)
                        map.removeLayer(geoJsonLayers.fellows_1986)
                        map.removeLayer(geoJsonLayers.fellows_1987)
                        map.removeLayer(geoJsonLayers.fellows_1988)
                        map.removeLayer(geoJsonLayers.fellows_1989)
                        map.removeLayer(geoJsonLayers.fellows_1990)
                        map.removeLayer(geoJsonLayers.fellows_1991)
                        map.removeLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)

                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1978)
                        map.removeLayer(geoJsonLayers.fellows_1982)
                        map.removeLayer(geoJsonLayers.fellows_1983)
                        map.removeLayer(geoJsonLayers.fellows_1985)
                        map.removeLayer(geoJsonLayers.fellows_1986)
                        map.removeLayer(geoJsonLayers.fellows_1987)
                        map.removeLayer(geoJsonLayers.fellows_1988)
                        map.removeLayer(geoJsonLayers.fellows_1989)
                        map.removeLayer(geoJsonLayers.fellows_1990)
                        map.removeLayer(geoJsonLayers.fellows_1991)
                        map.removeLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    }
                });


                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    } else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    }
                });

                 if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                }
            }
            if (index == 1984) {
                console.log(index)
                map.removeLayer(geoJsonLayers.residents_1971)
                map.addLayer(geoJsonLayers.residents_1971)
                map.removeLayer(geoJsonLayers.residents_1973)
                map.addLayer(geoJsonLayers.residents_1973)
                map.removeLayer(geoJsonLayers.residents_1984)
                map.addLayer(geoJsonLayers.residents_1984)
                map.removeLayer(geoJsonLayers.residents_1989)
                map.removeLayer(geoJsonLayers.residents_1990)
                map.removeLayer(geoJsonLayers.residents_1991)
                map.removeLayer(geoJsonLayers.residents_1992)
                map.removeLayer(geoJsonLayers.residents_1993)
                map.removeLayer(geoJsonLayers.residents_1994)
                map.removeLayer(geoJsonLayers.residents_1995)
                map.removeLayer(geoJsonLayers.residents_1996)
                map.removeLayer(geoJsonLayers.residents_1997)
                map.removeLayer(geoJsonLayers.residents_1998)
                map.removeLayer(geoJsonLayers.residents_1999)
                map.removeLayer(geoJsonLayers.residents_2000)
                map.removeLayer(geoJsonLayers.residents_2002)
                map.removeLayer(geoJsonLayers.residents_2003)
                map.removeLayer(geoJsonLayers.residents_2004)
                map.removeLayer(geoJsonLayers.residents_2005)
                map.removeLayer(geoJsonLayers.residents_2006)
                map.removeLayer(geoJsonLayers.residents_2008)
                map.removeLayer(geoJsonLayers.residents_2009)
                map.removeLayer(geoJsonLayers.residents_2010)
                map.removeLayer(geoJsonLayers.residents_2011)
                map.removeLayer(geoJsonLayers.residents_2013)
                map.removeLayer(geoJsonLayers.residents_2014)

                map.removeLayer(geoJsonLayers.residentsFellows_1990)
                map.removeLayer(geoJsonLayers.residentsFellows_1991)
                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                map.removeLayer(geoJsonLayers.residentsFellows_2014)

                 if(document.getElementById('checkboxCity3').checked) {                  
                    map.addLayer(geoJsonLayers.residents_1971)
                    map.addLayer(geoJsonLayers.residents_1973)
                    map.addLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)  
                }
                $(".Cities3").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residents_1971)
                        map.addLayer(geoJsonLayers.residents_1973)
                        map.addLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                    else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                });

                 if(document.getElementById('checkboxCity3').checked) {                  
                    
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)  
                }
                $(".Cities3").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residents_1971)
                        map.addLayer(geoJsonLayers.residents_1973)
                        map.addLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                    else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                });

                 if(document.getElementById('checkboxCity').checked) {
                    map.addLayer(geoJsonLayers.fellows_1978)
                    map.addLayer(geoJsonLayers.fellows_1982)
                    map.addLayer(geoJsonLayers.fellows_1983)
                    map.removeLayer(geoJsonLayers.fellows_1985)
                    map.removeLayer(geoJsonLayers.fellows_1986)
                    map.removeLayer(geoJsonLayers.fellows_1987)
                    map.removeLayer(geoJsonLayers.fellows_1988)
                    map.removeLayer(geoJsonLayers.fellows_1989)
                    map.removeLayer(geoJsonLayers.fellows_1990)
                    map.removeLayer(geoJsonLayers.fellows_1991)
                    map.removeLayer(geoJsonLayers.fellows_1992)
                    map.removeLayer(geoJsonLayers.fellows_1993)
                    map.removeLayer(geoJsonLayers.fellows_1994)
                    map.removeLayer(geoJsonLayers.fellows_1995)
                    map.removeLayer(geoJsonLayers.fellows_1996)
                    map.removeLayer(geoJsonLayers.fellows_1997)
                    map.removeLayer(geoJsonLayers.fellows_1998)
                    map.removeLayer(geoJsonLayers.fellows_1999)
                    map.removeLayer(geoJsonLayers.fellows_2000)
                    map.removeLayer(geoJsonLayers.fellows_2001)
                    map.removeLayer(geoJsonLayers.fellows_2002)
                    map.removeLayer(geoJsonLayers.fellows_2003)
                    map.removeLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)

                } else {
                    console.log("hi")
                }

                $(".Cities").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.fellows_1978)
                        map.addLayer(geoJsonLayers.fellows_1982)
                        map.addLayer(geoJsonLayers.fellows_1983)
                        map.removeLayer(geoJsonLayers.fellows_1985)
                        map.removeLayer(geoJsonLayers.fellows_1986)
                        map.removeLayer(geoJsonLayers.fellows_1987)
                        map.removeLayer(geoJsonLayers.fellows_1988)
                        map.removeLayer(geoJsonLayers.fellows_1989)
                        map.removeLayer(geoJsonLayers.fellows_1990)
                        map.removeLayer(geoJsonLayers.fellows_1991)
                        map.removeLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1978)
                        map.removeLayer(geoJsonLayers.fellows_1982)
                        map.removeLayer(geoJsonLayers.fellows_1983)
                        map.removeLayer(geoJsonLayers.fellows_1985)
                        map.removeLayer(geoJsonLayers.fellows_1986)
                        map.removeLayer(geoJsonLayers.fellows_1987)
                        map.removeLayer(geoJsonLayers.fellows_1988)
                        map.removeLayer(geoJsonLayers.fellows_1989)
                        map.removeLayer(geoJsonLayers.fellows_1990)
                        map.removeLayer(geoJsonLayers.fellows_1991)
                        map.removeLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    }
                });

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    } else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    }
                });

                 if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                }
            }
            if (index == 1985) {
                console.log(index)
                map.removeLayer(geoJsonLayers.residents_1971)
                map.addLayer(geoJsonLayers.residents_1971)
                map.removeLayer(geoJsonLayers.residents_1973)
                map.addLayer(geoJsonLayers.residents_1973)
                map.removeLayer(geoJsonLayers.residents_1984)
                map.addLayer(geoJsonLayers.residents_1984)
                map.removeLayer(geoJsonLayers.residents_1989)
                map.removeLayer(geoJsonLayers.residents_1990)
                map.removeLayer(geoJsonLayers.residents_1991)
                map.removeLayer(geoJsonLayers.residents_1992)
                map.removeLayer(geoJsonLayers.residents_1993)
                map.removeLayer(geoJsonLayers.residents_1994)
                map.removeLayer(geoJsonLayers.residents_1995)
                map.removeLayer(geoJsonLayers.residents_1996)
                map.removeLayer(geoJsonLayers.residents_1997)
                map.removeLayer(geoJsonLayers.residents_1998)
                map.removeLayer(geoJsonLayers.residents_1999)
                map.removeLayer(geoJsonLayers.residents_2000)
                map.removeLayer(geoJsonLayers.residents_2002)
                map.removeLayer(geoJsonLayers.residents_2003)
                map.removeLayer(geoJsonLayers.residents_2004)
                map.removeLayer(geoJsonLayers.residents_2005)
                map.removeLayer(geoJsonLayers.residents_2006)
                map.removeLayer(geoJsonLayers.residents_2008)
                map.removeLayer(geoJsonLayers.residents_2009)
                map.removeLayer(geoJsonLayers.residents_2010)
                map.removeLayer(geoJsonLayers.residents_2011)
                map.removeLayer(geoJsonLayers.residents_2013)
                map.removeLayer(geoJsonLayers.residents_2014)

                map.removeLayer(geoJsonLayers.residentsFellows_1990)
                map.removeLayer(geoJsonLayers.residentsFellows_1991)
                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                map.removeLayer(geoJsonLayers.residentsFellows_2014)

                 if(document.getElementById('checkboxCity3').checked) {                  
                    map.addLayer(geoJsonLayers.residents_1971)
                    map.addLayer(geoJsonLayers.residents_1973)
                    map.addLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)  
                }
                $(".Cities3").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residents_1971)
                        map.addLayer(geoJsonLayers.residents_1973)
                        map.addLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                    else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                });

                if(document.getElementById('checkboxCity').checked) {
                    map.addLayer(geoJsonLayers.fellows_1978)
                    map.addLayer(geoJsonLayers.fellows_1982)
                    map.addLayer(geoJsonLayers.fellows_1983)
                    map.addLayer(geoJsonLayers.fellows_1985)
                    map.removeLayer(geoJsonLayers.fellows_1986)
                    map.removeLayer(geoJsonLayers.fellows_1987)
                    map.removeLayer(geoJsonLayers.fellows_1988)
                    map.removeLayer(geoJsonLayers.fellows_1989)
                    map.removeLayer(geoJsonLayers.fellows_1990)
                    map.removeLayer(geoJsonLayers.fellows_1991)
                    map.removeLayer(geoJsonLayers.fellows_1992)
                    map.removeLayer(geoJsonLayers.fellows_1993)
                    map.removeLayer(geoJsonLayers.fellows_1994)
                    map.removeLayer(geoJsonLayers.fellows_1995)
                    map.removeLayer(geoJsonLayers.fellows_1996)
                    map.removeLayer(geoJsonLayers.fellows_1997)
                    map.removeLayer(geoJsonLayers.fellows_1998)
                    map.removeLayer(geoJsonLayers.fellows_1999)
                    map.removeLayer(geoJsonLayers.fellows_2000)
                    map.removeLayer(geoJsonLayers.fellows_2001)
                    map.removeLayer(geoJsonLayers.fellows_2002)
                    map.removeLayer(geoJsonLayers.fellows_2003)
                    map.removeLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)

                } else {
                    console.log("hi")
                }

                $(".Cities").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        
                        map.addLayer(geoJsonLayers.fellows_1978)
                        map.addLayer(geoJsonLayers.fellows_1982)
                        map.addLayer(geoJsonLayers.fellows_1983)
                        map.addLayer(geoJsonLayers.fellows_1985)
                        map.removeLayer(geoJsonLayers.fellows_1986)
                        map.removeLayer(geoJsonLayers.fellows_1987)
                        map.removeLayer(geoJsonLayers.fellows_1988)
                        map.removeLayer(geoJsonLayers.fellows_1989)
                        map.removeLayer(geoJsonLayers.fellows_1990)
                        map.removeLayer(geoJsonLayers.fellows_1991)
                        map.removeLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1978)
                        map.removeLayer(geoJsonLayers.fellows_1982)
                        map.removeLayer(geoJsonLayers.fellows_1983)
                        map.removeLayer(geoJsonLayers.fellows_1985)
                        map.removeLayer(geoJsonLayers.fellows_1986)
                        map.removeLayer(geoJsonLayers.fellows_1987)
                        map.removeLayer(geoJsonLayers.fellows_1988)
                        map.removeLayer(geoJsonLayers.fellows_1989)
                        map.removeLayer(geoJsonLayers.fellows_1990)
                        map.removeLayer(geoJsonLayers.fellows_1991)
                        map.removeLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    }
                });

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    } else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    }
                });

                 if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                }
            }
            if (index == 1986) {
                console.log(index)
                map.removeLayer(geoJsonLayers.residents_1971)
                map.addLayer(geoJsonLayers.residents_1971)
                map.removeLayer(geoJsonLayers.residents_1973)
                map.addLayer(geoJsonLayers.residents_1973)
                map.removeLayer(geoJsonLayers.residents_1984)
                map.addLayer(geoJsonLayers.residents_1984)
                map.removeLayer(geoJsonLayers.residents_1989)
                map.removeLayer(geoJsonLayers.residents_1990)
                map.removeLayer(geoJsonLayers.residents_1991)
                map.removeLayer(geoJsonLayers.residents_1992)
                map.removeLayer(geoJsonLayers.residents_1993)
                map.removeLayer(geoJsonLayers.residents_1994)
                map.removeLayer(geoJsonLayers.residents_1995)
                map.removeLayer(geoJsonLayers.residents_1996)
                map.removeLayer(geoJsonLayers.residents_1997)
                map.removeLayer(geoJsonLayers.residents_1998)
                map.removeLayer(geoJsonLayers.residents_1999)
                map.removeLayer(geoJsonLayers.residents_2000)
                map.removeLayer(geoJsonLayers.residents_2002)
                map.removeLayer(geoJsonLayers.residents_2003)
                map.removeLayer(geoJsonLayers.residents_2004)
                map.removeLayer(geoJsonLayers.residents_2005)
                map.removeLayer(geoJsonLayers.residents_2006)
                map.removeLayer(geoJsonLayers.residents_2008)
                map.removeLayer(geoJsonLayers.residents_2009)
                map.removeLayer(geoJsonLayers.residents_2010)
                map.removeLayer(geoJsonLayers.residents_2011)
                map.removeLayer(geoJsonLayers.residents_2013)
                map.removeLayer(geoJsonLayers.residents_2014)

                map.removeLayer(geoJsonLayers.residentsFellows_1990)
                map.removeLayer(geoJsonLayers.residentsFellows_1991)
                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                map.removeLayer(geoJsonLayers.residentsFellows_2014)

                 if(document.getElementById('checkboxCity3').checked) {                  
                    map.addLayer(geoJsonLayers.residents_1971)
                    map.addLayer(geoJsonLayers.residents_1973)
                    map.addLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)  
                }
                $(".Cities3").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residents_1971)
                        map.addLayer(geoJsonLayers.residents_1973)
                        map.addLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                    else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                });

                if(document.getElementById('checkboxCity').checked) {
                    map.addLayer(geoJsonLayers.fellows_1978)
                    map.addLayer(geoJsonLayers.fellows_1982)
                    map.addLayer(geoJsonLayers.fellows_1983)
                    map.addLayer(geoJsonLayers.fellows_1985)
                    map.addLayer(geoJsonLayers.fellows_1986)
                    map.removeLayer(geoJsonLayers.fellows_1987)
                    map.removeLayer(geoJsonLayers.fellows_1988)
                    map.removeLayer(geoJsonLayers.fellows_1989)
                    map.removeLayer(geoJsonLayers.fellows_1990)
                    map.removeLayer(geoJsonLayers.fellows_1991)
                    map.removeLayer(geoJsonLayers.fellows_1992)
                    map.removeLayer(geoJsonLayers.fellows_1993)
                    map.removeLayer(geoJsonLayers.fellows_1994)
                    map.removeLayer(geoJsonLayers.fellows_1995)
                    map.removeLayer(geoJsonLayers.fellows_1996)
                    map.removeLayer(geoJsonLayers.fellows_1997)
                    map.removeLayer(geoJsonLayers.fellows_1998)
                    map.removeLayer(geoJsonLayers.fellows_1999)
                    map.removeLayer(geoJsonLayers.fellows_2000)
                    map.removeLayer(geoJsonLayers.fellows_2001)
                    map.removeLayer(geoJsonLayers.fellows_2002)
                    map.removeLayer(geoJsonLayers.fellows_2003)
                    map.removeLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)

                } else {
                    console.log("hi")
                }

                $(".Cities").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        
                        map.addLayer(geoJsonLayers.fellows_1978)
                        map.addLayer(geoJsonLayers.fellows_1982)
                        map.addLayer(geoJsonLayers.fellows_1983)
                        map.addLayer(geoJsonLayers.fellows_1985)
                        map.addLayer(geoJsonLayers.fellows_1986)
                        map.removeLayer(geoJsonLayers.fellows_1987)
                        map.removeLayer(geoJsonLayers.fellows_1988)
                        map.removeLayer(geoJsonLayers.fellows_1989)
                        map.removeLayer(geoJsonLayers.fellows_1990)
                        map.removeLayer(geoJsonLayers.fellows_1991)
                        map.removeLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1978)
                        map.removeLayer(geoJsonLayers.fellows_1982)
                        map.removeLayer(geoJsonLayers.fellows_1983)
                        map.removeLayer(geoJsonLayers.fellows_1985)
                        map.removeLayer(geoJsonLayers.fellows_1986)
                        map.removeLayer(geoJsonLayers.fellows_1987)
                        map.removeLayer(geoJsonLayers.fellows_1988)
                        map.removeLayer(geoJsonLayers.fellows_1989)
                        map.removeLayer(geoJsonLayers.fellows_1990)
                        map.removeLayer(geoJsonLayers.fellows_1991)
                        map.removeLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    }
                });

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    } else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    }
                });

                 if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                }
            }
            if (index == 1987) {
                console.log(index)
                map.removeLayer(geoJsonLayers.residents_1971)
                map.addLayer(geoJsonLayers.residents_1971)
                map.removeLayer(geoJsonLayers.residents_1973)
                map.addLayer(geoJsonLayers.residents_1973)
                map.removeLayer(geoJsonLayers.residents_1984)
                map.addLayer(geoJsonLayers.residents_1984)
                map.removeLayer(geoJsonLayers.residents_1989)
                map.removeLayer(geoJsonLayers.residents_1990)
                map.removeLayer(geoJsonLayers.residents_1991)
                map.removeLayer(geoJsonLayers.residents_1992)
                map.removeLayer(geoJsonLayers.residents_1993)
                map.removeLayer(geoJsonLayers.residents_1994)
                map.removeLayer(geoJsonLayers.residents_1995)
                map.removeLayer(geoJsonLayers.residents_1996)
                map.removeLayer(geoJsonLayers.residents_1997)
                map.removeLayer(geoJsonLayers.residents_1998)
                map.removeLayer(geoJsonLayers.residents_1999)
                map.removeLayer(geoJsonLayers.residents_2000)
                map.removeLayer(geoJsonLayers.residents_2002)
                map.removeLayer(geoJsonLayers.residents_2003)
                map.removeLayer(geoJsonLayers.residents_2004)
                map.removeLayer(geoJsonLayers.residents_2005)
                map.removeLayer(geoJsonLayers.residents_2006)
                map.removeLayer(geoJsonLayers.residents_2008)
                map.removeLayer(geoJsonLayers.residents_2009)
                map.removeLayer(geoJsonLayers.residents_2010)
                map.removeLayer(geoJsonLayers.residents_2011)
                map.removeLayer(geoJsonLayers.residents_2013)
                map.removeLayer(geoJsonLayers.residents_2014)

                map.removeLayer(geoJsonLayers.residentsFellows_1990)
                map.removeLayer(geoJsonLayers.residentsFellows_1991)
                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                map.removeLayer(geoJsonLayers.residentsFellows_2014)

                 if(document.getElementById('checkboxCity3').checked) {                  
                    map.addLayer(geoJsonLayers.residents_1971)
                    map.addLayer(geoJsonLayers.residents_1973)
                    map.addLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)  
                }
                $(".Cities3").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residents_1971)
                        map.addLayer(geoJsonLayers.residents_1973)
                        map.addLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                    else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                });

                if(document.getElementById('checkboxCity').checked) {
                    map.addLayer(geoJsonLayers.fellows_1978)
                    map.addLayer(geoJsonLayers.fellows_1982)
                    map.addLayer(geoJsonLayers.fellows_1983)
                    map.addLayer(geoJsonLayers.fellows_1985)
                    map.addLayer(geoJsonLayers.fellows_1986)
                    map.addLayer(geoJsonLayers.fellows_1987)
                    map.removeLayer(geoJsonLayers.fellows_1988)
                    map.removeLayer(geoJsonLayers.fellows_1989)
                    map.removeLayer(geoJsonLayers.fellows_1990)
                    map.removeLayer(geoJsonLayers.fellows_1991)
                    map.removeLayer(geoJsonLayers.fellows_1992)
                    map.removeLayer(geoJsonLayers.fellows_1993)
                    map.removeLayer(geoJsonLayers.fellows_1994)
                    map.removeLayer(geoJsonLayers.fellows_1995)
                    map.removeLayer(geoJsonLayers.fellows_1996)
                    map.removeLayer(geoJsonLayers.fellows_1997)
                    map.removeLayer(geoJsonLayers.fellows_1998)
                    map.removeLayer(geoJsonLayers.fellows_1999)
                    map.removeLayer(geoJsonLayers.fellows_2000)
                    map.removeLayer(geoJsonLayers.fellows_2001)
                    map.removeLayer(geoJsonLayers.fellows_2002)
                    map.removeLayer(geoJsonLayers.fellows_2003)
                    map.removeLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)

                } else {
                    console.log("hi")
                }

                $(".Cities").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        
                        map.addLayer(geoJsonLayers.fellows_1978)
                        map.addLayer(geoJsonLayers.fellows_1982)
                        map.addLayer(geoJsonLayers.fellows_1983)
                        map.addLayer(geoJsonLayers.fellows_1985)
                        map.addLayer(geoJsonLayers.fellows_1986)
                        map.addLayer(geoJsonLayers.fellows_1987)
                        map.removeLayer(geoJsonLayers.fellows_1988)
                        map.removeLayer(geoJsonLayers.fellows_1989)
                        map.removeLayer(geoJsonLayers.fellows_1990)
                        map.removeLayer(geoJsonLayers.fellows_1991)
                        map.removeLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1978)
                        map.removeLayer(geoJsonLayers.fellows_1982)
                        map.removeLayer(geoJsonLayers.fellows_1983)
                        map.removeLayer(geoJsonLayers.fellows_1985)
                        map.removeLayer(geoJsonLayers.fellows_1986)
                        map.removeLayer(geoJsonLayers.fellows_1987)
                        map.removeLayer(geoJsonLayers.fellows_1988)
                        map.removeLayer(geoJsonLayers.fellows_1989)
                        map.removeLayer(geoJsonLayers.fellows_1990)
                        map.removeLayer(geoJsonLayers.fellows_1991)
                        map.removeLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    }
                });

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    } else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    }
                });

                 if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                }
            }
            if (index == 1988) {
                console.log(index)
                map.removeLayer(geoJsonLayers.residents_1971)
                map.addLayer(geoJsonLayers.residents_1971)
                map.removeLayer(geoJsonLayers.residents_1973)
                map.addLayer(geoJsonLayers.residents_1973)
                map.removeLayer(geoJsonLayers.residents_1984)
                map.addLayer(geoJsonLayers.residents_1984)
                map.removeLayer(geoJsonLayers.residents_1989)
                map.removeLayer(geoJsonLayers.residents_1990)
                map.removeLayer(geoJsonLayers.residents_1991)
                map.removeLayer(geoJsonLayers.residents_1992)
                map.removeLayer(geoJsonLayers.residents_1993)
                map.removeLayer(geoJsonLayers.residents_1994)
                map.removeLayer(geoJsonLayers.residents_1995)
                map.removeLayer(geoJsonLayers.residents_1996)
                map.removeLayer(geoJsonLayers.residents_1997)
                map.removeLayer(geoJsonLayers.residents_1998)
                map.removeLayer(geoJsonLayers.residents_1999)
                map.removeLayer(geoJsonLayers.residents_2000)
                map.removeLayer(geoJsonLayers.residents_2002)
                map.removeLayer(geoJsonLayers.residents_2003)
                map.removeLayer(geoJsonLayers.residents_2004)
                map.removeLayer(geoJsonLayers.residents_2005)
                map.removeLayer(geoJsonLayers.residents_2006)
                map.removeLayer(geoJsonLayers.residents_2008)
                map.removeLayer(geoJsonLayers.residents_2009)
                map.removeLayer(geoJsonLayers.residents_2010)
                map.removeLayer(geoJsonLayers.residents_2011)
                map.removeLayer(geoJsonLayers.residents_2013)
                map.removeLayer(geoJsonLayers.residents_2014)

                map.removeLayer(geoJsonLayers.residentsFellows_1990)
                map.removeLayer(geoJsonLayers.residentsFellows_1991)
                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                map.removeLayer(geoJsonLayers.residentsFellows_2014)

                 if(document.getElementById('checkboxCity3').checked) {                  
                    map.addLayer(geoJsonLayers.residents_1971)
                    map.addLayer(geoJsonLayers.residents_1973)
                    map.addLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)  
                }
                $(".Cities3").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residents_1971)
                        map.addLayer(geoJsonLayers.residents_1973)
                        map.addLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                    else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                });

                if(document.getElementById('checkboxCity').checked) {
                    map.addLayer(geoJsonLayers.fellows_1978)
                    map.addLayer(geoJsonLayers.fellows_1982)
                    map.addLayer(geoJsonLayers.fellows_1983)
                    map.addLayer(geoJsonLayers.fellows_1985)
                    map.addLayer(geoJsonLayers.fellows_1986)
                    map.addLayer(geoJsonLayers.fellows_1987)
                    map.addLayer(geoJsonLayers.fellows_1988)
                    map.removeLayer(geoJsonLayers.fellows_1989)
                    map.removeLayer(geoJsonLayers.fellows_1990)
                    map.removeLayer(geoJsonLayers.fellows_1991)
                    map.removeLayer(geoJsonLayers.fellows_1992)
                    map.removeLayer(geoJsonLayers.fellows_1993)
                    map.removeLayer(geoJsonLayers.fellows_1994)
                    map.removeLayer(geoJsonLayers.fellows_1995)
                    map.removeLayer(geoJsonLayers.fellows_1996)
                    map.removeLayer(geoJsonLayers.fellows_1997)
                    map.removeLayer(geoJsonLayers.fellows_1998)
                    map.removeLayer(geoJsonLayers.fellows_1999)
                    map.removeLayer(geoJsonLayers.fellows_2000)
                    map.removeLayer(geoJsonLayers.fellows_2001)
                    map.removeLayer(geoJsonLayers.fellows_2002)
                    map.removeLayer(geoJsonLayers.fellows_2003)
                    map.removeLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)

                } else {
                    console.log("hi")
                }

                $(".Cities").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        
                        map.addLayer(geoJsonLayers.fellows_1978)
                        map.addLayer(geoJsonLayers.fellows_1982)
                        map.addLayer(geoJsonLayers.fellows_1983)
                        map.addLayer(geoJsonLayers.fellows_1985)
                        map.addLayer(geoJsonLayers.fellows_1986)
                        map.addLayer(geoJsonLayers.fellows_1987)
                        map.addLayer(geoJsonLayers.fellows_1988)
                        map.removeLayer(geoJsonLayers.fellows_1989)
                        map.removeLayer(geoJsonLayers.fellows_1990)
                        map.removeLayer(geoJsonLayers.fellows_1991)
                        map.removeLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1978)
                        map.removeLayer(geoJsonLayers.fellows_1982)
                        map.removeLayer(geoJsonLayers.fellows_1983)
                        map.removeLayer(geoJsonLayers.fellows_1985)
                        map.removeLayer(geoJsonLayers.fellows_1986)
                        map.removeLayer(geoJsonLayers.fellows_1987)
                        map.removeLayer(geoJsonLayers.fellows_1988)
                        map.removeLayer(geoJsonLayers.fellows_1989)
                        map.removeLayer(geoJsonLayers.fellows_1990)
                        map.removeLayer(geoJsonLayers.fellows_1991)
                        map.removeLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    }
                });

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    } else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    }
                });

                 if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                }
            }
            if (index == 1989) {
                console.log(index)
                map.removeLayer(geoJsonLayers.residents_1971)
                map.addLayer(geoJsonLayers.residents_1971)
                map.removeLayer(geoJsonLayers.residents_1973)
                map.addLayer(geoJsonLayers.residents_1973)
                map.removeLayer(geoJsonLayers.residents_1984)
                map.addLayer(geoJsonLayers.residents_1984)
                map.removeLayer(geoJsonLayers.residents_1989)
                map.addLayer(geoJsonLayers.residents_1989)
                map.removeLayer(geoJsonLayers.residents_1990)
                map.removeLayer(geoJsonLayers.residents_1991)
                map.removeLayer(geoJsonLayers.residents_1992)
                map.removeLayer(geoJsonLayers.residents_1993)
                map.removeLayer(geoJsonLayers.residents_1994)
                map.removeLayer(geoJsonLayers.residents_1995)
                map.removeLayer(geoJsonLayers.residents_1996)
                map.removeLayer(geoJsonLayers.residents_1997)
                map.removeLayer(geoJsonLayers.residents_1998)
                map.removeLayer(geoJsonLayers.residents_1999)
                map.removeLayer(geoJsonLayers.residents_2000)
                map.removeLayer(geoJsonLayers.residents_2002)
                map.removeLayer(geoJsonLayers.residents_2003)
                map.removeLayer(geoJsonLayers.residents_2004)
                map.removeLayer(geoJsonLayers.residents_2005)
                map.removeLayer(geoJsonLayers.residents_2006)
                map.removeLayer(geoJsonLayers.residents_2008)
                map.removeLayer(geoJsonLayers.residents_2009)
                map.removeLayer(geoJsonLayers.residents_2010)
                map.removeLayer(geoJsonLayers.residents_2011)
                map.removeLayer(geoJsonLayers.residents_2013)
                map.removeLayer(geoJsonLayers.residents_2014)

                map.removeLayer(geoJsonLayers.residentsFellows_1990)
                map.removeLayer(geoJsonLayers.residentsFellows_1991)
                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                map.removeLayer(geoJsonLayers.residentsFellows_2014)

                 if(document.getElementById('checkboxCity3').checked) {                  
                    map.addLayer(geoJsonLayers.residents_1971)
                    map.addLayer(geoJsonLayers.residents_1973)
                    map.addLayer(geoJsonLayers.residents_1984)
                    map.addLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)  
                }
                $(".Cities3").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residents_1971)
                        map.addLayer(geoJsonLayers.residents_1973)
                        map.addLayer(geoJsonLayers.residents_1984)
                        map.addLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                    else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                });

                if(document.getElementById('checkboxCity').checked) {
                    map.addLayer(geoJsonLayers.fellows_1978)
                    map.addLayer(geoJsonLayers.fellows_1982)
                    map.addLayer(geoJsonLayers.fellows_1983)
                    map.addLayer(geoJsonLayers.fellows_1985)
                    map.addLayer(geoJsonLayers.fellows_1986)
                    map.addLayer(geoJsonLayers.fellows_1987)
                    map.addLayer(geoJsonLayers.fellows_1988)
                    map.addLayer(geoJsonLayers.fellows_1989)
                    map.removeLayer(geoJsonLayers.fellows_1990)
                    map.removeLayer(geoJsonLayers.fellows_1991)
                    map.removeLayer(geoJsonLayers.fellows_1992)
                    map.removeLayer(geoJsonLayers.fellows_1993)
                    map.removeLayer(geoJsonLayers.fellows_1994)
                    map.removeLayer(geoJsonLayers.fellows_1995)
                    map.removeLayer(geoJsonLayers.fellows_1996)
                    map.removeLayer(geoJsonLayers.fellows_1997)
                    map.removeLayer(geoJsonLayers.fellows_1998)
                    map.removeLayer(geoJsonLayers.fellows_1999)
                    map.removeLayer(geoJsonLayers.fellows_2000)
                    map.removeLayer(geoJsonLayers.fellows_2001)
                    map.removeLayer(geoJsonLayers.fellows_2002)
                    map.removeLayer(geoJsonLayers.fellows_2003)
                    map.removeLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)

                } else {
                    console.log("hi")
                }

                $(".Cities").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        
                        map.addLayer(geoJsonLayers.fellows_1978)
                        map.addLayer(geoJsonLayers.fellows_1982)
                        map.addLayer(geoJsonLayers.fellows_1983)
                        map.addLayer(geoJsonLayers.fellows_1985)
                        map.addLayer(geoJsonLayers.fellows_1986)
                        map.addLayer(geoJsonLayers.fellows_1987)
                        map.addLayer(geoJsonLayers.fellows_1988)
                        map.addLayer(geoJsonLayers.fellows_1989)
                        map.removeLayer(geoJsonLayers.fellows_1990)
                        map.removeLayer(geoJsonLayers.fellows_1991)
                        map.removeLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1978)
                        map.removeLayer(geoJsonLayers.fellows_1982)
                        map.removeLayer(geoJsonLayers.fellows_1983)
                        map.removeLayer(geoJsonLayers.fellows_1985)
                        map.removeLayer(geoJsonLayers.fellows_1986)
                        map.removeLayer(geoJsonLayers.fellows_1987)
                        map.removeLayer(geoJsonLayers.fellows_1988)
                        map.removeLayer(geoJsonLayers.fellows_1989)
                        map.removeLayer(geoJsonLayers.fellows_1990)
                        map.removeLayer(geoJsonLayers.fellows_1991)
                        map.removeLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    }
                });

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    } else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    }
                });

                 if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                }
            }
            if (index == 1990) {
                console.log(index)
                map.removeLayer(geoJsonLayers.residents_1971)
                map.addLayer(geoJsonLayers.residents_1971)
                map.removeLayer(geoJsonLayers.residents_1973)
                map.addLayer(geoJsonLayers.residents_1973)
                map.removeLayer(geoJsonLayers.residents_1984)
                map.addLayer(geoJsonLayers.residents_1984)
                map.removeLayer(geoJsonLayers.residents_1989)
                map.addLayer(geoJsonLayers.residents_1989)
                map.removeLayer(geoJsonLayers.residents_1990)
                map.addLayer(geoJsonLayers.residents_1990)
                map.removeLayer(geoJsonLayers.residents_1991)
                map.removeLayer(geoJsonLayers.residents_1992)
                map.removeLayer(geoJsonLayers.residents_1993)
                map.removeLayer(geoJsonLayers.residents_1994)
                map.removeLayer(geoJsonLayers.residents_1995)
                map.removeLayer(geoJsonLayers.residents_1996)
                map.removeLayer(geoJsonLayers.residents_1997)
                map.removeLayer(geoJsonLayers.residents_1998)
                map.removeLayer(geoJsonLayers.residents_1999)
                map.removeLayer(geoJsonLayers.residents_2000)
                map.removeLayer(geoJsonLayers.residents_2002)
                map.removeLayer(geoJsonLayers.residents_2003)
                map.removeLayer(geoJsonLayers.residents_2004)
                map.removeLayer(geoJsonLayers.residents_2005)
                map.removeLayer(geoJsonLayers.residents_2006)
                map.removeLayer(geoJsonLayers.residents_2008)
                map.removeLayer(geoJsonLayers.residents_2009)
                map.removeLayer(geoJsonLayers.residents_2010)
                map.removeLayer(geoJsonLayers.residents_2011)
                map.removeLayer(geoJsonLayers.residents_2013)
                map.removeLayer(geoJsonLayers.residents_2014)


                map.removeLayer(geoJsonLayers.residentsFellows_1991)
                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                map.removeLayer(geoJsonLayers.residentsFellows_2014)

                 if(document.getElementById('checkboxCity3').checked) {                  
                    map.addLayer(geoJsonLayers.residents_1971)
                    map.addLayer(geoJsonLayers.residents_1973)
                    map.addLayer(geoJsonLayers.residents_1984)
                    map.addLayer(geoJsonLayers.residents_1989)
                    map.addLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)  
                }
                $(".Cities3").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residents_1971)
                        map.addLayer(geoJsonLayers.residents_1973)
                        map.addLayer(geoJsonLayers.residents_1984)
                        map.addLayer(geoJsonLayers.residents_1989)
                        map.addLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                    else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                });

                if(document.getElementById('checkboxCity').checked) {
                    map.addLayer(geoJsonLayers.fellows_1978)
                    map.addLayer(geoJsonLayers.fellows_1982)
                    map.addLayer(geoJsonLayers.fellows_1983)
                    map.addLayer(geoJsonLayers.fellows_1985)
                    map.addLayer(geoJsonLayers.fellows_1986)
                    map.addLayer(geoJsonLayers.fellows_1987)
                    map.addLayer(geoJsonLayers.fellows_1988)
                    map.addLayer(geoJsonLayers.fellows_1989)
                    map.addLayer(geoJsonLayers.fellows_1990)
                    map.removeLayer(geoJsonLayers.fellows_1991)
                    map.removeLayer(geoJsonLayers.fellows_1992)
                    map.removeLayer(geoJsonLayers.fellows_1993)
                    map.removeLayer(geoJsonLayers.fellows_1994)
                    map.removeLayer(geoJsonLayers.fellows_1995)
                    map.removeLayer(geoJsonLayers.fellows_1996)
                    map.removeLayer(geoJsonLayers.fellows_1997)
                    map.removeLayer(geoJsonLayers.fellows_1998)
                    map.removeLayer(geoJsonLayers.fellows_1999)
                    map.removeLayer(geoJsonLayers.fellows_2000)
                    map.removeLayer(geoJsonLayers.fellows_2001)
                    map.removeLayer(geoJsonLayers.fellows_2002)
                    map.removeLayer(geoJsonLayers.fellows_2003)
                    map.removeLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)

                } else {
                    console.log("hi")
                }


                $(".Cities").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        
                        map.addLayer(geoJsonLayers.fellows_1978)
                        map.addLayer(geoJsonLayers.fellows_1982)
                        map.addLayer(geoJsonLayers.fellows_1983)
                        map.addLayer(geoJsonLayers.fellows_1985)
                        map.addLayer(geoJsonLayers.fellows_1986)
                        map.addLayer(geoJsonLayers.fellows_1987)
                        map.addLayer(geoJsonLayers.fellows_1988)
                        map.addLayer(geoJsonLayers.fellows_1989)
                        map.addLayer(geoJsonLayers.fellows_1990)
                        map.removeLayer(geoJsonLayers.fellows_1991)
                        map.removeLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1978)
                        map.removeLayer(geoJsonLayers.fellows_1982)
                        map.removeLayer(geoJsonLayers.fellows_1983)
                        map.removeLayer(geoJsonLayers.fellows_1985)
                        map.removeLayer(geoJsonLayers.fellows_1986)
                        map.removeLayer(geoJsonLayers.fellows_1987)
                        map.removeLayer(geoJsonLayers.fellows_1988)
                        map.removeLayer(geoJsonLayers.fellows_1989)
                        map.removeLayer(geoJsonLayers.fellows_1990)
                        map.removeLayer(geoJsonLayers.fellows_1991)
                        map.removeLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    }
                });

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    } else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    }
                });

                 if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                }


            }
            if (index == 1991) {
                console.log(index)
                map.removeLayer(geoJsonLayers.residents_1971)
                map.addLayer(geoJsonLayers.residents_1971)
                map.removeLayer(geoJsonLayers.residents_1973)
                map.addLayer(geoJsonLayers.residents_1973)
                map.removeLayer(geoJsonLayers.residents_1984)
                map.addLayer(geoJsonLayers.residents_1984)
                map.removeLayer(geoJsonLayers.residents_1989)
                map.addLayer(geoJsonLayers.residents_1989)
                map.removeLayer(geoJsonLayers.residents_1990)
                map.addLayer(geoJsonLayers.residents_1990)
                map.removeLayer(geoJsonLayers.residents_1991)
                map.addLayer(geoJsonLayers.residents_1991)
                map.removeLayer(geoJsonLayers.residents_1992)
                map.removeLayer(geoJsonLayers.residents_1993)
                map.removeLayer(geoJsonLayers.residents_1994)
                map.removeLayer(geoJsonLayers.residents_1995)
                map.removeLayer(geoJsonLayers.residents_1996)
                map.removeLayer(geoJsonLayers.residents_1997)
                map.removeLayer(geoJsonLayers.residents_1998)
                map.removeLayer(geoJsonLayers.residents_1999)
                map.removeLayer(geoJsonLayers.residents_2000)
                map.removeLayer(geoJsonLayers.residents_2002)
                map.removeLayer(geoJsonLayers.residents_2003)
                map.removeLayer(geoJsonLayers.residents_2004)
                map.removeLayer(geoJsonLayers.residents_2005)
                map.removeLayer(geoJsonLayers.residents_2006)
                map.removeLayer(geoJsonLayers.residents_2008)
                map.removeLayer(geoJsonLayers.residents_2009)
                map.removeLayer(geoJsonLayers.residents_2010)
                map.removeLayer(geoJsonLayers.residents_2011)
                map.removeLayer(geoJsonLayers.residents_2013)
                map.removeLayer(geoJsonLayers.residents_2014)


                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                map.removeLayer(geoJsonLayers.residentsFellows_2014)

                 if(document.getElementById('checkboxCity3').checked) {                  
                    map.addLayer(geoJsonLayers.residents_1971)
                    map.addLayer(geoJsonLayers.residents_1973)
                    map.addLayer(geoJsonLayers.residents_1984)
                    map.addLayer(geoJsonLayers.residents_1989)
                    map.addLayer(geoJsonLayers.residents_1990)
                    map.addLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)  
                }
                $(".Cities3").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residents_1971)
                        map.addLayer(geoJsonLayers.residents_1973)
                        map.addLayer(geoJsonLayers.residents_1984)
                        map.addLayer(geoJsonLayers.residents_1989)
                        map.addLayer(geoJsonLayers.residents_1990)
                        map.addLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                    else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                });

                if(document.getElementById('checkboxCity').checked) {
                    map.addLayer(geoJsonLayers.fellows_1978)
                    map.addLayer(geoJsonLayers.fellows_1982)
                    map.addLayer(geoJsonLayers.fellows_1983)
                    map.addLayer(geoJsonLayers.fellows_1985)
                    map.addLayer(geoJsonLayers.fellows_1986)
                    map.addLayer(geoJsonLayers.fellows_1987)
                    map.addLayer(geoJsonLayers.fellows_1988)
                    map.addLayer(geoJsonLayers.fellows_1989)
                    map.addLayer(geoJsonLayers.fellows_1990)
                    map.addLayer(geoJsonLayers.fellows_1991)
                    map.removeLayer(geoJsonLayers.fellows_1992)
                    map.removeLayer(geoJsonLayers.fellows_1993)
                    map.removeLayer(geoJsonLayers.fellows_1994)
                    map.removeLayer(geoJsonLayers.fellows_1995)
                    map.removeLayer(geoJsonLayers.fellows_1996)
                    map.removeLayer(geoJsonLayers.fellows_1997)
                    map.removeLayer(geoJsonLayers.fellows_1998)
                    map.removeLayer(geoJsonLayers.fellows_1999)
                    map.removeLayer(geoJsonLayers.fellows_2000)
                    map.removeLayer(geoJsonLayers.fellows_2001)
                    map.removeLayer(geoJsonLayers.fellows_2002)
                    map.removeLayer(geoJsonLayers.fellows_2003)
                    map.removeLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)

                } else {
                    console.log("hi")
                }

                $(".Cities").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        
                        map.addLayer(geoJsonLayers.fellows_1978)
                        map.addLayer(geoJsonLayers.fellows_1982)
                        map.addLayer(geoJsonLayers.fellows_1983)
                        map.addLayer(geoJsonLayers.fellows_1985)
                        map.addLayer(geoJsonLayers.fellows_1986)
                        map.addLayer(geoJsonLayers.fellows_1987)
                        map.addLayer(geoJsonLayers.fellows_1988)
                        map.addLayer(geoJsonLayers.fellows_1989)
                        map.addLayer(geoJsonLayers.fellows_1990)
                        map.addLayer(geoJsonLayers.fellows_1991)
                        map.removeLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1978)
                        map.removeLayer(geoJsonLayers.fellows_1982)
                        map.removeLayer(geoJsonLayers.fellows_1983)
                        map.removeLayer(geoJsonLayers.fellows_1985)
                        map.removeLayer(geoJsonLayers.fellows_1986)
                        map.removeLayer(geoJsonLayers.fellows_1987)
                        map.removeLayer(geoJsonLayers.fellows_1988)
                        map.removeLayer(geoJsonLayers.fellows_1989)
                        map.removeLayer(geoJsonLayers.fellows_1990)
                        map.removeLayer(geoJsonLayers.fellows_1991)
                        map.removeLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    }
                });

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    } else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    }
                });

                 if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                }

            }
            if (index == 1992) {
                console.log(index)
                map.removeLayer(geoJsonLayers.residents_1971)
                map.addLayer(geoJsonLayers.residents_1971)
                map.removeLayer(geoJsonLayers.residents_1973)
                map.addLayer(geoJsonLayers.residents_1973)
                map.removeLayer(geoJsonLayers.residents_1984)
                map.addLayer(geoJsonLayers.residents_1984)
                map.removeLayer(geoJsonLayers.residents_1989)
                map.addLayer(geoJsonLayers.residents_1989)
                map.removeLayer(geoJsonLayers.residents_1990)
                map.addLayer(geoJsonLayers.residents_1990)
                map.removeLayer(geoJsonLayers.residents_1991)
                map.addLayer(geoJsonLayers.residents_1991)
                map.removeLayer(geoJsonLayers.residents_1992)
                map.addLayer(geoJsonLayers.residents_1992)
                map.removeLayer(geoJsonLayers.residents_1993)
                map.removeLayer(geoJsonLayers.residents_1994)
                map.removeLayer(geoJsonLayers.residents_1995)
                map.removeLayer(geoJsonLayers.residents_1996)
                map.removeLayer(geoJsonLayers.residents_1997)
                map.removeLayer(geoJsonLayers.residents_1998)
                map.removeLayer(geoJsonLayers.residents_1999)
                map.removeLayer(geoJsonLayers.residents_2000)
                map.removeLayer(geoJsonLayers.residents_2002)
                map.removeLayer(geoJsonLayers.residents_2003)
                map.removeLayer(geoJsonLayers.residents_2004)
                map.removeLayer(geoJsonLayers.residents_2005)
                map.removeLayer(geoJsonLayers.residents_2006)
                map.removeLayer(geoJsonLayers.residents_2008)
                map.removeLayer(geoJsonLayers.residents_2009)
                map.removeLayer(geoJsonLayers.residents_2010)
                map.removeLayer(geoJsonLayers.residents_2011)
                map.removeLayer(geoJsonLayers.residents_2013)
                map.removeLayer(geoJsonLayers.residents_2014)


                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                map.removeLayer(geoJsonLayers.residentsFellows_2014)

                 if(document.getElementById('checkboxCity3').checked) {                  
                    map.addLayer(geoJsonLayers.residents_1971)
                    map.addLayer(geoJsonLayers.residents_1973)
                    map.addLayer(geoJsonLayers.residents_1984)
                    map.addLayer(geoJsonLayers.residents_1989)
                    map.addLayer(geoJsonLayers.residents_1990)
                    map.addLayer(geoJsonLayers.residents_1991)
                    map.addLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)  
                }
                $(".Cities3").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residents_1971)
                        map.addLayer(geoJsonLayers.residents_1973)
                        map.addLayer(geoJsonLayers.residents_1984)
                        map.addLayer(geoJsonLayers.residents_1989)
                        map.addLayer(geoJsonLayers.residents_1990)
                        map.addLayer(geoJsonLayers.residents_1991)
                        map.addLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                    else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                });

                 if(document.getElementById('checkboxCity').checked) {
                    map.addLayer(geoJsonLayers.fellows_1978)
                    map.addLayer(geoJsonLayers.fellows_1982)
                    map.addLayer(geoJsonLayers.fellows_1983)
                    map.addLayer(geoJsonLayers.fellows_1985)
                    map.addLayer(geoJsonLayers.fellows_1986)
                    map.addLayer(geoJsonLayers.fellows_1987)
                    map.addLayer(geoJsonLayers.fellows_1988)
                    map.addLayer(geoJsonLayers.fellows_1989)
                    map.addLayer(geoJsonLayers.fellows_1990)
                    map.addLayer(geoJsonLayers.fellows_1991)
                    map.addLayer(geoJsonLayers.fellows_1992)
                    map.removeLayer(geoJsonLayers.fellows_1993)
                    map.removeLayer(geoJsonLayers.fellows_1994)
                    map.removeLayer(geoJsonLayers.fellows_1995)
                    map.removeLayer(geoJsonLayers.fellows_1996)
                    map.removeLayer(geoJsonLayers.fellows_1997)
                    map.removeLayer(geoJsonLayers.fellows_1998)
                    map.removeLayer(geoJsonLayers.fellows_1999)
                    map.removeLayer(geoJsonLayers.fellows_2000)
                    map.removeLayer(geoJsonLayers.fellows_2001)
                    map.removeLayer(geoJsonLayers.fellows_2002)
                    map.removeLayer(geoJsonLayers.fellows_2003)
                    map.removeLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)

                } else {
                    console.log("hi")
                }

                $(".Cities").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        
                        map.addLayer(geoJsonLayers.fellows_1978)
                        map.addLayer(geoJsonLayers.fellows_1982)
                        map.addLayer(geoJsonLayers.fellows_1983)
                        map.addLayer(geoJsonLayers.fellows_1985)
                        map.addLayer(geoJsonLayers.fellows_1986)
                        map.addLayer(geoJsonLayers.fellows_1987)
                        map.addLayer(geoJsonLayers.fellows_1988)
                        map.addLayer(geoJsonLayers.fellows_1989)
                        map.addLayer(geoJsonLayers.fellows_1990)
                        map.addLayer(geoJsonLayers.fellows_1991)
                        map.addLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1978)
                        map.removeLayer(geoJsonLayers.fellows_1982)
                        map.removeLayer(geoJsonLayers.fellows_1983)
                        map.removeLayer(geoJsonLayers.fellows_1985)
                        map.removeLayer(geoJsonLayers.fellows_1986)
                        map.removeLayer(geoJsonLayers.fellows_1987)
                        map.removeLayer(geoJsonLayers.fellows_1988)
                        map.removeLayer(geoJsonLayers.fellows_1989)
                        map.removeLayer(geoJsonLayers.fellows_1990)
                        map.removeLayer(geoJsonLayers.fellows_1991)
                        map.removeLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    }
                });

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    } else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    }
                });

                 if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                } 
                
            }
            if (index == 1993) {
                console.log(index)
                map.removeLayer(geoJsonLayers.residents_1971)
                map.addLayer(geoJsonLayers.residents_1971)
                map.removeLayer(geoJsonLayers.residents_1973)
                map.addLayer(geoJsonLayers.residents_1973)
                map.removeLayer(geoJsonLayers.residents_1984)
                map.addLayer(geoJsonLayers.residents_1984)
                map.removeLayer(geoJsonLayers.residents_1989)
                map.addLayer(geoJsonLayers.residents_1989)
                map.removeLayer(geoJsonLayers.residents_1990)
                map.addLayer(geoJsonLayers.residents_1990)
                map.removeLayer(geoJsonLayers.residents_1991)
                map.addLayer(geoJsonLayers.residents_1991)
                map.removeLayer(geoJsonLayers.residents_1992)
                map.addLayer(geoJsonLayers.residents_1992)
                map.removeLayer(geoJsonLayers.residents_1993)
                map.addLayer(geoJsonLayers.residents_1993)
                map.removeLayer(geoJsonLayers.residents_1994)
                map.removeLayer(geoJsonLayers.residents_1995)
                map.removeLayer(geoJsonLayers.residents_1996)
                map.removeLayer(geoJsonLayers.residents_1997)
                map.removeLayer(geoJsonLayers.residents_1998)
                map.removeLayer(geoJsonLayers.residents_1999)
                map.removeLayer(geoJsonLayers.residents_2000)
                map.removeLayer(geoJsonLayers.residents_2002)
                map.removeLayer(geoJsonLayers.residents_2003)
                map.removeLayer(geoJsonLayers.residents_2004)
                map.removeLayer(geoJsonLayers.residents_2005)
                map.removeLayer(geoJsonLayers.residents_2006)
                map.removeLayer(geoJsonLayers.residents_2008)
                map.removeLayer(geoJsonLayers.residents_2009)
                map.removeLayer(geoJsonLayers.residents_2010)
                map.removeLayer(geoJsonLayers.residents_2011)
                map.removeLayer(geoJsonLayers.residents_2013)
                map.removeLayer(geoJsonLayers.residents_2014)


                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                map.removeLayer(geoJsonLayers.residentsFellows_2014)

                  if(document.getElementById('checkboxCity3').checked) {                  
                    map.addLayer(geoJsonLayers.residents_1971)
                    map.addLayer(geoJsonLayers.residents_1973)
                    map.addLayer(geoJsonLayers.residents_1984)
                    map.addLayer(geoJsonLayers.residents_1989)
                    map.addLayer(geoJsonLayers.residents_1990)
                    map.addLayer(geoJsonLayers.residents_1991)
                    map.addLayer(geoJsonLayers.residents_1992)
                    map.addLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)  
                }
                $(".Cities3").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residents_1971)
                        map.addLayer(geoJsonLayers.residents_1973)
                        map.addLayer(geoJsonLayers.residents_1984)
                        map.addLayer(geoJsonLayers.residents_1989)
                        map.addLayer(geoJsonLayers.residents_1990)
                        map.addLayer(geoJsonLayers.residents_1991)
                        map.addLayer(geoJsonLayers.residents_1992)
                        map.addLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                    else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                });

                if(document.getElementById('checkboxCity').checked) {
                    map.addLayer(geoJsonLayers.fellows_1978)
                    map.addLayer(geoJsonLayers.fellows_1982)
                    map.addLayer(geoJsonLayers.fellows_1983)
                    map.addLayer(geoJsonLayers.fellows_1985)
                    map.addLayer(geoJsonLayers.fellows_1986)
                    map.addLayer(geoJsonLayers.fellows_1987)
                    map.addLayer(geoJsonLayers.fellows_1988)
                    map.addLayer(geoJsonLayers.fellows_1989)
                    map.addLayer(geoJsonLayers.fellows_1990)
                    map.addLayer(geoJsonLayers.fellows_1991)
                    map.addLayer(geoJsonLayers.fellows_1992)
                    map.addLayer(geoJsonLayers.fellows_1993)
                    map.removeLayer(geoJsonLayers.fellows_1994)
                    map.removeLayer(geoJsonLayers.fellows_1995)
                    map.removeLayer(geoJsonLayers.fellows_1996)
                    map.removeLayer(geoJsonLayers.fellows_1997)
                    map.removeLayer(geoJsonLayers.fellows_1998)
                    map.removeLayer(geoJsonLayers.fellows_1999)
                    map.removeLayer(geoJsonLayers.fellows_2000)
                    map.removeLayer(geoJsonLayers.fellows_2001)
                    map.removeLayer(geoJsonLayers.fellows_2002)
                    map.removeLayer(geoJsonLayers.fellows_2003)
                    map.removeLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)

                } else {
                    console.log("hi")
                }

                $(".Cities").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        
                        map.addLayer(geoJsonLayers.fellows_1978)
                        map.addLayer(geoJsonLayers.fellows_1982)
                        map.addLayer(geoJsonLayers.fellows_1983)
                        map.addLayer(geoJsonLayers.fellows_1985)
                        map.addLayer(geoJsonLayers.fellows_1986)
                        map.addLayer(geoJsonLayers.fellows_1987)
                        map.addLayer(geoJsonLayers.fellows_1988)
                        map.addLayer(geoJsonLayers.fellows_1989)
                        map.addLayer(geoJsonLayers.fellows_1990)
                        map.addLayer(geoJsonLayers.fellows_1991)
                        map.addLayer(geoJsonLayers.fellows_1992)
                        map.addLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1978)
                        map.removeLayer(geoJsonLayers.fellows_1982)
                        map.removeLayer(geoJsonLayers.fellows_1983)
                        map.removeLayer(geoJsonLayers.fellows_1985)
                        map.removeLayer(geoJsonLayers.fellows_1986)
                        map.removeLayer(geoJsonLayers.fellows_1987)
                        map.removeLayer(geoJsonLayers.fellows_1988)
                        map.removeLayer(geoJsonLayers.fellows_1989)
                        map.removeLayer(geoJsonLayers.fellows_1990)
                        map.removeLayer(geoJsonLayers.fellows_1991)
                        map.removeLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    }
                });

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    } else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    }
                });

                 if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                }
            }
            if (index == 1994) {
                console.log(index)
                map.removeLayer(geoJsonLayers.residents_1971)
                map.addLayer(geoJsonLayers.residents_1971)
                map.removeLayer(geoJsonLayers.residents_1973)
                map.addLayer(geoJsonLayers.residents_1973)
                map.removeLayer(geoJsonLayers.residents_1984)
                map.addLayer(geoJsonLayers.residents_1984)
                map.removeLayer(geoJsonLayers.residents_1989)
                map.addLayer(geoJsonLayers.residents_1989)
                map.removeLayer(geoJsonLayers.residents_1990)
                map.addLayer(geoJsonLayers.residents_1990)
                map.removeLayer(geoJsonLayers.residents_1991)
                map.addLayer(geoJsonLayers.residents_1991)
                map.removeLayer(geoJsonLayers.residents_1992)
                map.addLayer(geoJsonLayers.residents_1992)
                map.removeLayer(geoJsonLayers.residents_1993)
                map.addLayer(geoJsonLayers.residents_1993)
                map.removeLayer(geoJsonLayers.residents_1994)
                map.addLayer(geoJsonLayers.residents_1994)
                map.removeLayer(geoJsonLayers.residents_1995)
                map.removeLayer(geoJsonLayers.residents_1996)
                map.removeLayer(geoJsonLayers.residents_1997)
                map.removeLayer(geoJsonLayers.residents_1998)
                map.removeLayer(geoJsonLayers.residents_1999)
                map.removeLayer(geoJsonLayers.residents_2000)
                map.removeLayer(geoJsonLayers.residents_2002)
                map.removeLayer(geoJsonLayers.residents_2003)
                map.removeLayer(geoJsonLayers.residents_2004)
                map.removeLayer(geoJsonLayers.residents_2005)
                map.removeLayer(geoJsonLayers.residents_2006)
                map.removeLayer(geoJsonLayers.residents_2008)
                map.removeLayer(geoJsonLayers.residents_2009)
                map.removeLayer(geoJsonLayers.residents_2010)
                map.removeLayer(geoJsonLayers.residents_2011)
                map.removeLayer(geoJsonLayers.residents_2013)
                map.removeLayer(geoJsonLayers.residents_2014)

                map.removeLayer(geoJsonLayers.residentsFellows_1995)
                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                map.removeLayer(geoJsonLayers.residentsFellows_2014)

                  if(document.getElementById('checkboxCity3').checked) {                  
                    map.addLayer(geoJsonLayers.residents_1971)
                    map.addLayer(geoJsonLayers.residents_1973)
                    map.addLayer(geoJsonLayers.residents_1984)
                    map.addLayer(geoJsonLayers.residents_1989)
                    map.addLayer(geoJsonLayers.residents_1990)
                    map.addLayer(geoJsonLayers.residents_1991)
                    map.addLayer(geoJsonLayers.residents_1992)
                    map.addLayer(geoJsonLayers.residents_1993)
                    map.addLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)  
                }
                $(".Cities3").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residents_1971)
                        map.addLayer(geoJsonLayers.residents_1973)
                        map.addLayer(geoJsonLayers.residents_1984)
                        map.addLayer(geoJsonLayers.residents_1989)
                        map.addLayer(geoJsonLayers.residents_1990)
                        map.addLayer(geoJsonLayers.residents_1991)
                        map.addLayer(geoJsonLayers.residents_1992)
                        map.addLayer(geoJsonLayers.residents_1993)
                        map.addLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                    else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                });

                if(document.getElementById('checkboxCity').checked) {
                    map.addLayer(geoJsonLayers.fellows_1978)
                    map.addLayer(geoJsonLayers.fellows_1982)
                    map.addLayer(geoJsonLayers.fellows_1983)
                    map.addLayer(geoJsonLayers.fellows_1985)
                    map.addLayer(geoJsonLayers.fellows_1986)
                    map.addLayer(geoJsonLayers.fellows_1987)
                    map.addLayer(geoJsonLayers.fellows_1988)
                    map.addLayer(geoJsonLayers.fellows_1989)
                    map.addLayer(geoJsonLayers.fellows_1990)
                    map.addLayer(geoJsonLayers.fellows_1991)
                    map.addLayer(geoJsonLayers.fellows_1992)
                    map.addLayer(geoJsonLayers.fellows_1993)
                    map.addLayer(geoJsonLayers.fellows_1994)
                    map.removeLayer(geoJsonLayers.fellows_1995)
                    map.removeLayer(geoJsonLayers.fellows_1996)
                    map.removeLayer(geoJsonLayers.fellows_1997)
                    map.removeLayer(geoJsonLayers.fellows_1998)
                    map.removeLayer(geoJsonLayers.fellows_1999)
                    map.removeLayer(geoJsonLayers.fellows_2000)
                    map.removeLayer(geoJsonLayers.fellows_2001)
                    map.removeLayer(geoJsonLayers.fellows_2002)
                    map.removeLayer(geoJsonLayers.fellows_2003)
                    map.removeLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)

                } else {
                   
                }

                $(".Cities").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        
                        map.addLayer(geoJsonLayers.fellows_1978)
                        map.addLayer(geoJsonLayers.fellows_1982)
                        map.addLayer(geoJsonLayers.fellows_1983)
                        map.addLayer(geoJsonLayers.fellows_1985)
                        map.addLayer(geoJsonLayers.fellows_1986)
                        map.addLayer(geoJsonLayers.fellows_1987)
                        map.addLayer(geoJsonLayers.fellows_1988)
                        map.addLayer(geoJsonLayers.fellows_1989)
                        map.addLayer(geoJsonLayers.fellows_1990)
                        map.addLayer(geoJsonLayers.fellows_1991)
                        map.addLayer(geoJsonLayers.fellows_1992)
                        map.addLayer(geoJsonLayers.fellows_1993)
                        map.addLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1978)
                        map.removeLayer(geoJsonLayers.fellows_1982)
                        map.removeLayer(geoJsonLayers.fellows_1983)
                        map.removeLayer(geoJsonLayers.fellows_1985)
                        map.removeLayer(geoJsonLayers.fellows_1986)
                        map.removeLayer(geoJsonLayers.fellows_1987)
                        map.removeLayer(geoJsonLayers.fellows_1988)
                        map.removeLayer(geoJsonLayers.fellows_1989)
                        map.removeLayer(geoJsonLayers.fellows_1990)
                        map.removeLayer(geoJsonLayers.fellows_1991)
                        map.removeLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    }
                });

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    } else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    }
                });

                 if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                }
            }
            if (index == 1995) {
                console.log(index)
                map.removeLayer(geoJsonLayers.residents_1971)
                map.addLayer(geoJsonLayers.residents_1971)
                map.removeLayer(geoJsonLayers.residents_1973)
                map.addLayer(geoJsonLayers.residents_1973)
                map.removeLayer(geoJsonLayers.residents_1984)
                map.addLayer(geoJsonLayers.residents_1984)
                map.removeLayer(geoJsonLayers.residents_1989)
                map.addLayer(geoJsonLayers.residents_1989)
                map.removeLayer(geoJsonLayers.residents_1990)
                map.addLayer(geoJsonLayers.residents_1990)
                map.removeLayer(geoJsonLayers.residents_1991)
                map.addLayer(geoJsonLayers.residents_1991)
                map.removeLayer(geoJsonLayers.residents_1992)
                map.addLayer(geoJsonLayers.residents_1992)
                map.removeLayer(geoJsonLayers.residents_1993)
                map.addLayer(geoJsonLayers.residents_1993)
                map.removeLayer(geoJsonLayers.residents_1994)
                map.addLayer(geoJsonLayers.residents_1994)
                map.removeLayer(geoJsonLayers.residents_1995)
                map.addLayer(geoJsonLayers.residents_1995)
                map.removeLayer(geoJsonLayers.residents_1996)
                map.removeLayer(geoJsonLayers.residents_1997)
                map.removeLayer(geoJsonLayers.residents_1998)
                map.removeLayer(geoJsonLayers.residents_1999)
                map.removeLayer(geoJsonLayers.residents_2000)
                map.removeLayer(geoJsonLayers.residents_2002)
                map.removeLayer(geoJsonLayers.residents_2003)
                map.removeLayer(geoJsonLayers.residents_2004)
                map.removeLayer(geoJsonLayers.residents_2005)
                map.removeLayer(geoJsonLayers.residents_2006)
                map.removeLayer(geoJsonLayers.residents_2008)
                map.removeLayer(geoJsonLayers.residents_2009)
                map.removeLayer(geoJsonLayers.residents_2010)
                map.removeLayer(geoJsonLayers.residents_2011)
                map.removeLayer(geoJsonLayers.residents_2013)
                map.removeLayer(geoJsonLayers.residents_2014)


                map.removeLayer(geoJsonLayers.residentsFellows_1996)
                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                map.removeLayer(geoJsonLayers.residentsFellows_2014)

                  if(document.getElementById('checkboxCity3').checked) {                  
                    map.addLayer(geoJsonLayers.residents_1971)
                    map.addLayer(geoJsonLayers.residents_1973)
                    map.addLayer(geoJsonLayers.residents_1984)
                    map.addLayer(geoJsonLayers.residents_1989)
                    map.addLayer(geoJsonLayers.residents_1990)
                    map.addLayer(geoJsonLayers.residents_1991)
                    map.addLayer(geoJsonLayers.residents_1992)
                    map.addLayer(geoJsonLayers.residents_1993)
                    map.addLayer(geoJsonLayers.residents_1994)
                    map.addLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)  
                }
                $(".Cities3").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residents_1971)
                        map.addLayer(geoJsonLayers.residents_1973)
                        map.addLayer(geoJsonLayers.residents_1984)
                        map.addLayer(geoJsonLayers.residents_1989)
                        map.addLayer(geoJsonLayers.residents_1990)
                        map.addLayer(geoJsonLayers.residents_1991)
                        map.addLayer(geoJsonLayers.residents_1992)
                        map.addLayer(geoJsonLayers.residents_1993)
                        map.addLayer(geoJsonLayers.residents_1994)
                        map.addLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                    else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                });

                if(document.getElementById('checkboxCity').checked) {
                    map.addLayer(geoJsonLayers.fellows_1978)
                    map.addLayer(geoJsonLayers.fellows_1982)
                    map.addLayer(geoJsonLayers.fellows_1983)
                    map.addLayer(geoJsonLayers.fellows_1985)
                    map.addLayer(geoJsonLayers.fellows_1986)
                    map.addLayer(geoJsonLayers.fellows_1987)
                    map.addLayer(geoJsonLayers.fellows_1988)
                    map.addLayer(geoJsonLayers.fellows_1989)
                    map.addLayer(geoJsonLayers.fellows_1990)
                    map.addLayer(geoJsonLayers.fellows_1991)
                    map.addLayer(geoJsonLayers.fellows_1992)
                    map.addLayer(geoJsonLayers.fellows_1993)
                    map.addLayer(geoJsonLayers.fellows_1994)
                    map.addLayer(geoJsonLayers.fellows_1995)
                    map.removeLayer(geoJsonLayers.fellows_1996)
                    map.removeLayer(geoJsonLayers.fellows_1997)
                    map.removeLayer(geoJsonLayers.fellows_1998)
                    map.removeLayer(geoJsonLayers.fellows_1999)
                    map.removeLayer(geoJsonLayers.fellows_2000)
                    map.removeLayer(geoJsonLayers.fellows_2001)
                    map.removeLayer(geoJsonLayers.fellows_2002)
                    map.removeLayer(geoJsonLayers.fellows_2003)
                    map.removeLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)

                } else {
                    
                }

                $(".Cities").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        
                        map.addLayer(geoJsonLayers.fellows_1978)
                        map.addLayer(geoJsonLayers.fellows_1982)
                        map.addLayer(geoJsonLayers.fellows_1983)
                        map.addLayer(geoJsonLayers.fellows_1985)
                        map.addLayer(geoJsonLayers.fellows_1986)
                        map.addLayer(geoJsonLayers.fellows_1987)
                        map.addLayer(geoJsonLayers.fellows_1988)
                        map.addLayer(geoJsonLayers.fellows_1989)
                        map.addLayer(geoJsonLayers.fellows_1990)
                        map.addLayer(geoJsonLayers.fellows_1991)
                        map.addLayer(geoJsonLayers.fellows_1992)
                        map.addLayer(geoJsonLayers.fellows_1993)
                        map.addLayer(geoJsonLayers.fellows_1994)
                        map.addLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1978)
                        map.removeLayer(geoJsonLayers.fellows_1982)
                        map.removeLayer(geoJsonLayers.fellows_1983)
                        map.removeLayer(geoJsonLayers.fellows_1985)
                        map.removeLayer(geoJsonLayers.fellows_1986)
                        map.removeLayer(geoJsonLayers.fellows_1987)
                        map.removeLayer(geoJsonLayers.fellows_1988)
                        map.removeLayer(geoJsonLayers.fellows_1989)
                        map.removeLayer(geoJsonLayers.fellows_1990)
                        map.removeLayer(geoJsonLayers.fellows_1991)
                        map.removeLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    }
                });

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.addLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    } else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    }
                });

                 if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.addLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                }

            }
            if (index == 1996) {
                console.log(index)
                map.removeLayer(geoJsonLayers.residents_1971)
                map.addLayer(geoJsonLayers.residents_1971)
                map.removeLayer(geoJsonLayers.residents_1973)
                map.addLayer(geoJsonLayers.residents_1973)
                map.removeLayer(geoJsonLayers.residents_1984)
                map.addLayer(geoJsonLayers.residents_1984)
                map.removeLayer(geoJsonLayers.residents_1989)
                map.addLayer(geoJsonLayers.residents_1989)
                map.removeLayer(geoJsonLayers.residents_1990)
                map.addLayer(geoJsonLayers.residents_1990)
                map.removeLayer(geoJsonLayers.residents_1991)
                map.addLayer(geoJsonLayers.residents_1991)
                map.removeLayer(geoJsonLayers.residents_1992)
                map.addLayer(geoJsonLayers.residents_1992)
                map.removeLayer(geoJsonLayers.residents_1993)
                map.addLayer(geoJsonLayers.residents_1993)
                map.removeLayer(geoJsonLayers.residents_1994)
                map.addLayer(geoJsonLayers.residents_1994)
                map.removeLayer(geoJsonLayers.residents_1995)
                map.addLayer(geoJsonLayers.residents_1995)
                map.removeLayer(geoJsonLayers.residents_1996)
                map.addLayer(geoJsonLayers.residents_1996)
                map.removeLayer(geoJsonLayers.residents_1997)
                map.removeLayer(geoJsonLayers.residents_1998)
                map.removeLayer(geoJsonLayers.residents_1999)
                map.removeLayer(geoJsonLayers.residents_2000)
                map.removeLayer(geoJsonLayers.residents_2002)
                map.removeLayer(geoJsonLayers.residents_2003)
                map.removeLayer(geoJsonLayers.residents_2004)
                map.removeLayer(geoJsonLayers.residents_2005)
                map.removeLayer(geoJsonLayers.residents_2006)
                map.removeLayer(geoJsonLayers.residents_2008)
                map.removeLayer(geoJsonLayers.residents_2009)
                map.removeLayer(geoJsonLayers.residents_2010)
                map.removeLayer(geoJsonLayers.residents_2011)
                map.removeLayer(geoJsonLayers.residents_2013)
                map.removeLayer(geoJsonLayers.residents_2014)


                map.removeLayer(geoJsonLayers.residentsFellows_1997)
                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                map.removeLayer(geoJsonLayers.residentsFellows_2014)

                  if(document.getElementById('checkboxCity3').checked) {                  
                    map.addLayer(geoJsonLayers.residents_1971)
                    map.addLayer(geoJsonLayers.residents_1973)
                    map.addLayer(geoJsonLayers.residents_1984)
                    map.addLayer(geoJsonLayers.residents_1989)
                    map.addLayer(geoJsonLayers.residents_1990)
                    map.addLayer(geoJsonLayers.residents_1991)
                    map.addLayer(geoJsonLayers.residents_1992)
                    map.addLayer(geoJsonLayers.residents_1993)
                    map.addLayer(geoJsonLayers.residents_1994)
                    map.addLayer(geoJsonLayers.residents_1995)
                    map.addLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)  
                }
                $(".Cities3").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residents_1971)
                        map.addLayer(geoJsonLayers.residents_1973)
                        map.addLayer(geoJsonLayers.residents_1984)
                        map.addLayer(geoJsonLayers.residents_1989)
                        map.addLayer(geoJsonLayers.residents_1990)
                        map.addLayer(geoJsonLayers.residents_1991)
                        map.addLayer(geoJsonLayers.residents_1992)
                        map.addLayer(geoJsonLayers.residents_1993)
                        map.addLayer(geoJsonLayers.residents_1994)
                        map.addLayer(geoJsonLayers.residents_1995)
                        map.addLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                    else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                });

                if(document.getElementById('checkboxCity').checked) {
                    map.addLayer(geoJsonLayers.fellows_1978)
                    map.addLayer(geoJsonLayers.fellows_1982)
                    map.addLayer(geoJsonLayers.fellows_1983)
                    map.addLayer(geoJsonLayers.fellows_1985)
                    map.addLayer(geoJsonLayers.fellows_1986)
                    map.addLayer(geoJsonLayers.fellows_1987)
                    map.addLayer(geoJsonLayers.fellows_1988)
                    map.addLayer(geoJsonLayers.fellows_1989)
                    map.addLayer(geoJsonLayers.fellows_1990)
                    map.addLayer(geoJsonLayers.fellows_1991)
                    map.addLayer(geoJsonLayers.fellows_1992)
                    map.addLayer(geoJsonLayers.fellows_1993)
                    map.addLayer(geoJsonLayers.fellows_1994)
                    map.addLayer(geoJsonLayers.fellows_1995)
                    map.addLayer(geoJsonLayers.fellows_1996)
                    map.removeLayer(geoJsonLayers.fellows_1997)
                    map.removeLayer(geoJsonLayers.fellows_1998)
                    map.removeLayer(geoJsonLayers.fellows_1999)
                    map.removeLayer(geoJsonLayers.fellows_2000)
                    map.removeLayer(geoJsonLayers.fellows_2001)
                    map.removeLayer(geoJsonLayers.fellows_2002)
                    map.removeLayer(geoJsonLayers.fellows_2003)
                    map.removeLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)

                } else {
                    console.log("hi")
                }

                $(".Cities").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        
                        map.addLayer(geoJsonLayers.fellows_1978)
                        map.addLayer(geoJsonLayers.fellows_1982)
                        map.addLayer(geoJsonLayers.fellows_1983)
                        map.addLayer(geoJsonLayers.fellows_1985)
                        map.addLayer(geoJsonLayers.fellows_1986)
                        map.addLayer(geoJsonLayers.fellows_1987)
                        map.addLayer(geoJsonLayers.fellows_1988)
                        map.addLayer(geoJsonLayers.fellows_1989)
                        map.addLayer(geoJsonLayers.fellows_1990)
                        map.addLayer(geoJsonLayers.fellows_1991)
                        map.addLayer(geoJsonLayers.fellows_1992)
                        map.addLayer(geoJsonLayers.fellows_1993)
                        map.addLayer(geoJsonLayers.fellows_1994)
                        map.addLayer(geoJsonLayers.fellows_1995)
                        map.addLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1978)
                        map.removeLayer(geoJsonLayers.fellows_1982)
                        map.removeLayer(geoJsonLayers.fellows_1983)
                        map.removeLayer(geoJsonLayers.fellows_1985)
                        map.removeLayer(geoJsonLayers.fellows_1986)
                        map.removeLayer(geoJsonLayers.fellows_1987)
                        map.removeLayer(geoJsonLayers.fellows_1988)
                        map.removeLayer(geoJsonLayers.fellows_1989)
                        map.removeLayer(geoJsonLayers.fellows_1990)
                        map.removeLayer(geoJsonLayers.fellows_1991)
                        map.removeLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    }
                });

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.addLayer(geoJsonLayers.residentsFellows_1995)
                        map.addLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    } else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    }
                });

                 if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.addLayer(geoJsonLayers.residentsFellows_1995)
                    map.addLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                }

            }
            if (index == 1997) {
                map.removeLayer(geoJsonLayers.residents_1971)
                map.addLayer(geoJsonLayers.residents_1971)
                map.removeLayer(geoJsonLayers.residents_1973)
                map.addLayer(geoJsonLayers.residents_1973)
                map.removeLayer(geoJsonLayers.residents_1984)
                map.addLayer(geoJsonLayers.residents_1984)
                map.removeLayer(geoJsonLayers.residents_1989)
                map.addLayer(geoJsonLayers.residents_1989)
                map.removeLayer(geoJsonLayers.residents_1990)
                map.addLayer(geoJsonLayers.residents_1990)
                map.removeLayer(geoJsonLayers.residents_1991)
                map.addLayer(geoJsonLayers.residents_1991)
                map.removeLayer(geoJsonLayers.residents_1992)
                map.addLayer(geoJsonLayers.residents_1992)
                map.removeLayer(geoJsonLayers.residents_1993)
                map.addLayer(geoJsonLayers.residents_1993)
                map.removeLayer(geoJsonLayers.residents_1994)
                map.addLayer(geoJsonLayers.residents_1994)
                map.removeLayer(geoJsonLayers.residents_1995)
                map.addLayer(geoJsonLayers.residents_1995)
                map.removeLayer(geoJsonLayers.residents_1996)
                map.addLayer(geoJsonLayers.residents_1996)
                map.removeLayer(geoJsonLayers.residents_1997)
                map.addLayer(geoJsonLayers.residents_1997)
                map.removeLayer(geoJsonLayers.residents_1998)
                map.removeLayer(geoJsonLayers.residents_1999)
                map.removeLayer(geoJsonLayers.residents_2000)
                map.removeLayer(geoJsonLayers.residents_2002)
                map.removeLayer(geoJsonLayers.residents_2003)
                map.removeLayer(geoJsonLayers.residents_2004)
                map.removeLayer(geoJsonLayers.residents_2005)
                map.removeLayer(geoJsonLayers.residents_2006)
                map.removeLayer(geoJsonLayers.residents_2008)
                map.removeLayer(geoJsonLayers.residents_2009)
                map.removeLayer(geoJsonLayers.residents_2010)
                map.removeLayer(geoJsonLayers.residents_2011)
                map.removeLayer(geoJsonLayers.residents_2013)
                map.removeLayer(geoJsonLayers.residents_2014)


                map.removeLayer(geoJsonLayers.residentsFellows_1998)
                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                map.removeLayer(geoJsonLayers.residentsFellows_2014)

                  if(document.getElementById('checkboxCity3').checked) {                  
                    map.addLayer(geoJsonLayers.residents_1971)
                    map.addLayer(geoJsonLayers.residents_1973)
                    map.addLayer(geoJsonLayers.residents_1984)
                    map.addLayer(geoJsonLayers.residents_1989)
                    map.addLayer(geoJsonLayers.residents_1990)
                    map.addLayer(geoJsonLayers.residents_1991)
                    map.addLayer(geoJsonLayers.residents_1992)
                    map.addLayer(geoJsonLayers.residents_1993)
                    map.addLayer(geoJsonLayers.residents_1994)
                    map.addLayer(geoJsonLayers.residents_1995)
                    map.addLayer(geoJsonLayers.residents_1996)
                    map.addLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)  
                }
                $(".Cities3").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residents_1971)
                        map.addLayer(geoJsonLayers.residents_1973)
                        map.addLayer(geoJsonLayers.residents_1984)
                        map.addLayer(geoJsonLayers.residents_1989)
                        map.addLayer(geoJsonLayers.residents_1990)
                        map.addLayer(geoJsonLayers.residents_1991)
                        map.addLayer(geoJsonLayers.residents_1992)
                        map.addLayer(geoJsonLayers.residents_1993)
                        map.addLayer(geoJsonLayers.residents_1994)
                        map.addLayer(geoJsonLayers.residents_1995)
                        map.addLayer(geoJsonLayers.residents_1996)
                        map.addLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                    else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                });

                if(document.getElementById('checkboxCity').checked) {
                    map.addLayer(geoJsonLayers.fellows_1978)
                    map.addLayer(geoJsonLayers.fellows_1982)
                    map.addLayer(geoJsonLayers.fellows_1983)
                    map.addLayer(geoJsonLayers.fellows_1985)
                    map.addLayer(geoJsonLayers.fellows_1986)
                    map.addLayer(geoJsonLayers.fellows_1987)
                    map.addLayer(geoJsonLayers.fellows_1988)
                    map.addLayer(geoJsonLayers.fellows_1989)
                    map.addLayer(geoJsonLayers.fellows_1990)
                    map.addLayer(geoJsonLayers.fellows_1991)
                    map.addLayer(geoJsonLayers.fellows_1992)
                    map.addLayer(geoJsonLayers.fellows_1993)
                    map.addLayer(geoJsonLayers.fellows_1994)
                    map.addLayer(geoJsonLayers.fellows_1995)
                    map.addLayer(geoJsonLayers.fellows_1996)
                    map.addLayer(geoJsonLayers.fellows_1997)
                    map.removeLayer(geoJsonLayers.fellows_1998)
                    map.removeLayer(geoJsonLayers.fellows_1999)
                    map.removeLayer(geoJsonLayers.fellows_2000)
                    map.removeLayer(geoJsonLayers.fellows_2001)
                    map.removeLayer(geoJsonLayers.fellows_2002)
                    map.removeLayer(geoJsonLayers.fellows_2003)
                    map.removeLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)

                } else {
                    console.log("hi")
                }

                $(".Cities").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        
                        map.addLayer(geoJsonLayers.fellows_1978)
                        map.addLayer(geoJsonLayers.fellows_1982)
                        map.addLayer(geoJsonLayers.fellows_1983)
                        map.addLayer(geoJsonLayers.fellows_1985)
                        map.addLayer(geoJsonLayers.fellows_1986)
                        map.addLayer(geoJsonLayers.fellows_1987)
                        map.addLayer(geoJsonLayers.fellows_1988)
                        map.addLayer(geoJsonLayers.fellows_1989)
                        map.addLayer(geoJsonLayers.fellows_1990)
                        map.addLayer(geoJsonLayers.fellows_1991)
                        map.addLayer(geoJsonLayers.fellows_1992)
                        map.addLayer(geoJsonLayers.fellows_1993)
                        map.addLayer(geoJsonLayers.fellows_1994)
                        map.addLayer(geoJsonLayers.fellows_1995)
                        map.addLayer(geoJsonLayers.fellows_1996)
                        map.addLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1978)
                        map.removeLayer(geoJsonLayers.fellows_1982)
                        map.removeLayer(geoJsonLayers.fellows_1983)
                        map.removeLayer(geoJsonLayers.fellows_1985)
                        map.removeLayer(geoJsonLayers.fellows_1986)
                        map.removeLayer(geoJsonLayers.fellows_1987)
                        map.removeLayer(geoJsonLayers.fellows_1988)
                        map.removeLayer(geoJsonLayers.fellows_1989)
                        map.removeLayer(geoJsonLayers.fellows_1990)
                        map.removeLayer(geoJsonLayers.fellows_1991)
                        map.removeLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    }
                });

                 $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.addLayer(geoJsonLayers.residentsFellows_1995)
                        map.addLayer(geoJsonLayers.residentsFellows_1996)
                        map.addLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    } else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    }
                });

                 if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.addLayer(geoJsonLayers.residentsFellows_1995)
                    map.addLayer(geoJsonLayers.residentsFellows_1996)
                    map.addLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                }
            }
            if (index == 1998) {
                map.removeLayer(geoJsonLayers.residents_1971)
                map.addLayer(geoJsonLayers.residents_1971)
                map.removeLayer(geoJsonLayers.residents_1973)
                map.addLayer(geoJsonLayers.residents_1973)
                map.removeLayer(geoJsonLayers.residents_1984)
                map.addLayer(geoJsonLayers.residents_1984)
                map.removeLayer(geoJsonLayers.residents_1989)
                map.addLayer(geoJsonLayers.residents_1989)
                map.removeLayer(geoJsonLayers.residents_1990)
                map.addLayer(geoJsonLayers.residents_1990)
                map.removeLayer(geoJsonLayers.residents_1991)
                map.addLayer(geoJsonLayers.residents_1991)
                map.removeLayer(geoJsonLayers.residents_1992)
                map.addLayer(geoJsonLayers.residents_1992)
                map.removeLayer(geoJsonLayers.residents_1993)
                map.addLayer(geoJsonLayers.residents_1993)
                map.removeLayer(geoJsonLayers.residents_1994)
                map.addLayer(geoJsonLayers.residents_1994)
                map.removeLayer(geoJsonLayers.residents_1995)
                map.addLayer(geoJsonLayers.residents_1995)
                map.removeLayer(geoJsonLayers.residents_1996)
                map.addLayer(geoJsonLayers.residents_1996)
                map.removeLayer(geoJsonLayers.residents_1997)
                map.addLayer(geoJsonLayers.residents_1997)
                map.removeLayer(geoJsonLayers.residents_1998)
                map.addLayer(geoJsonLayers.residents_1998)
                map.removeLayer(geoJsonLayers.residents_1999)
                map.removeLayer(geoJsonLayers.residents_2000)
                map.removeLayer(geoJsonLayers.residents_2002)
                map.removeLayer(geoJsonLayers.residents_2003)
                map.removeLayer(geoJsonLayers.residents_2004)
                map.removeLayer(geoJsonLayers.residents_2005)
                map.removeLayer(geoJsonLayers.residents_2006)
                map.removeLayer(geoJsonLayers.residents_2008)
                map.removeLayer(geoJsonLayers.residents_2009)
                map.removeLayer(geoJsonLayers.residents_2010)
                map.removeLayer(geoJsonLayers.residents_2011)
                map.removeLayer(geoJsonLayers.residents_2013)
                map.removeLayer(geoJsonLayers.residents_2014)


                map.removeLayer(geoJsonLayers.residentsFellows_1999)
                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                map.removeLayer(geoJsonLayers.residentsFellows_2014)

                if(document.getElementById('checkboxCity3').checked) {                  
                    map.addLayer(geoJsonLayers.residents_1971)
                    map.addLayer(geoJsonLayers.residents_1973)
                    map.addLayer(geoJsonLayers.residents_1984)
                    map.addLayer(geoJsonLayers.residents_1989)
                    map.addLayer(geoJsonLayers.residents_1990)
                    map.addLayer(geoJsonLayers.residents_1991)
                    map.addLayer(geoJsonLayers.residents_1992)
                    map.addLayer(geoJsonLayers.residents_1993)
                    map.addLayer(geoJsonLayers.residents_1994)
                    map.addLayer(geoJsonLayers.residents_1995)
                    map.addLayer(geoJsonLayers.residents_1996)
                    map.addLayer(geoJsonLayers.residents_1997)
                    map.addLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)  
                }
                $(".Cities3").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residents_1971)
                        map.addLayer(geoJsonLayers.residents_1973)
                        map.addLayer(geoJsonLayers.residents_1984)
                        map.addLayer(geoJsonLayers.residents_1989)
                        map.addLayer(geoJsonLayers.residents_1990)
                        map.addLayer(geoJsonLayers.residents_1991)
                        map.addLayer(geoJsonLayers.residents_1992)
                        map.addLayer(geoJsonLayers.residents_1993)
                        map.addLayer(geoJsonLayers.residents_1994)
                        map.addLayer(geoJsonLayers.residents_1995)
                        map.addLayer(geoJsonLayers.residents_1996)
                        map.addLayer(geoJsonLayers.residents_1997)
                        map.addLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                    else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                });

                if(document.getElementById('checkboxCity').checked) {
                    map.addLayer(geoJsonLayers.fellows_1978)
                    map.addLayer(geoJsonLayers.fellows_1982)
                    map.addLayer(geoJsonLayers.fellows_1983)
                    map.addLayer(geoJsonLayers.fellows_1985)
                    map.addLayer(geoJsonLayers.fellows_1986)
                    map.addLayer(geoJsonLayers.fellows_1987)
                    map.addLayer(geoJsonLayers.fellows_1988)
                    map.addLayer(geoJsonLayers.fellows_1989)
                    map.addLayer(geoJsonLayers.fellows_1990)
                    map.addLayer(geoJsonLayers.fellows_1991)
                    map.addLayer(geoJsonLayers.fellows_1992)
                    map.addLayer(geoJsonLayers.fellows_1993)
                    map.addLayer(geoJsonLayers.fellows_1994)
                    map.addLayer(geoJsonLayers.fellows_1995)
                    map.addLayer(geoJsonLayers.fellows_1996)
                    map.addLayer(geoJsonLayers.fellows_1997)
                    map.addLayer(geoJsonLayers.fellows_1998)
                    map.removeLayer(geoJsonLayers.fellows_1999)
                    map.removeLayer(geoJsonLayers.fellows_2000)
                    map.removeLayer(geoJsonLayers.fellows_2001)
                    map.removeLayer(geoJsonLayers.fellows_2002)
                    map.removeLayer(geoJsonLayers.fellows_2003)
                    map.removeLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)

                } else {
                    console.log("hi")
                }

                $(".Cities").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        
                        map.addLayer(geoJsonLayers.fellows_1978)
                        map.addLayer(geoJsonLayers.fellows_1982)
                        map.addLayer(geoJsonLayers.fellows_1983)
                        map.addLayer(geoJsonLayers.fellows_1985)
                        map.addLayer(geoJsonLayers.fellows_1986)
                        map.addLayer(geoJsonLayers.fellows_1987)
                        map.addLayer(geoJsonLayers.fellows_1988)
                        map.addLayer(geoJsonLayers.fellows_1989)
                        map.addLayer(geoJsonLayers.fellows_1990)
                        map.addLayer(geoJsonLayers.fellows_1991)
                        map.addLayer(geoJsonLayers.fellows_1992)
                        map.addLayer(geoJsonLayers.fellows_1993)
                        map.addLayer(geoJsonLayers.fellows_1994)
                        map.addLayer(geoJsonLayers.fellows_1995)
                        map.addLayer(geoJsonLayers.fellows_1996)
                        map.addLayer(geoJsonLayers.fellows_1997)
                        map.addLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1978)
                        map.removeLayer(geoJsonLayers.fellows_1982)
                        map.removeLayer(geoJsonLayers.fellows_1983)
                        map.removeLayer(geoJsonLayers.fellows_1985)
                        map.removeLayer(geoJsonLayers.fellows_1986)
                        map.removeLayer(geoJsonLayers.fellows_1987)
                        map.removeLayer(geoJsonLayers.fellows_1988)
                        map.removeLayer(geoJsonLayers.fellows_1989)
                        map.removeLayer(geoJsonLayers.fellows_1990)
                        map.removeLayer(geoJsonLayers.fellows_1991)
                        map.removeLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    }
                });

                 $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.addLayer(geoJsonLayers.residentsFellows_1995)
                        map.addLayer(geoJsonLayers.residentsFellows_1996)
                        map.addLayer(geoJsonLayers.residentsFellows_1997)
                        map.addLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    } else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    }
                });

                 if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.addLayer(geoJsonLayers.residentsFellows_1995)
                    map.addLayer(geoJsonLayers.residentsFellows_1996)
                    map.addLayer(geoJsonLayers.residentsFellows_1997)
                    map.addLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                }
            }
            if (index == 1999) {
                map.removeLayer(geoJsonLayers.residents_1971)
                map.addLayer(geoJsonLayers.residents_1971)
                map.removeLayer(geoJsonLayers.residents_1973)
                map.addLayer(geoJsonLayers.residents_1973)
                map.removeLayer(geoJsonLayers.residents_1984)
                map.addLayer(geoJsonLayers.residents_1984)
                map.removeLayer(geoJsonLayers.residents_1989)
                map.addLayer(geoJsonLayers.residents_1989)
                map.removeLayer(geoJsonLayers.residents_1990)
                map.addLayer(geoJsonLayers.residents_1990)
                map.removeLayer(geoJsonLayers.residents_1991)
                map.addLayer(geoJsonLayers.residents_1991)
                map.removeLayer(geoJsonLayers.residents_1992)
                map.addLayer(geoJsonLayers.residents_1992)
                map.removeLayer(geoJsonLayers.residents_1993)
                map.addLayer(geoJsonLayers.residents_1993)
                map.removeLayer(geoJsonLayers.residents_1994)
                map.addLayer(geoJsonLayers.residents_1994)
                map.removeLayer(geoJsonLayers.residents_1995)
                map.addLayer(geoJsonLayers.residents_1995)
                map.removeLayer(geoJsonLayers.residents_1996)
                map.addLayer(geoJsonLayers.residents_1996)
                map.removeLayer(geoJsonLayers.residents_1997)
                map.addLayer(geoJsonLayers.residents_1997)
                map.removeLayer(geoJsonLayers.residents_1998)
                map.addLayer(geoJsonLayers.residents_1998)
                map.removeLayer(geoJsonLayers.residents_1999)
                map.addLayer(geoJsonLayers.residents_1999)
                map.removeLayer(geoJsonLayers.residents_2000)
                map.removeLayer(geoJsonLayers.residents_2002)
                map.removeLayer(geoJsonLayers.residents_2003)
                map.removeLayer(geoJsonLayers.residents_2004)
                map.removeLayer(geoJsonLayers.residents_2005)
                map.removeLayer(geoJsonLayers.residents_2006)
                map.removeLayer(geoJsonLayers.residents_2008)
                map.removeLayer(geoJsonLayers.residents_2009)
                map.removeLayer(geoJsonLayers.residents_2010)
                map.removeLayer(geoJsonLayers.residents_2011)
                map.removeLayer(geoJsonLayers.residents_2013)
                map.removeLayer(geoJsonLayers.residents_2014)


                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                map.removeLayer(geoJsonLayers.residentsFellows_2014)

                if(document.getElementById('checkboxCity3').checked) {                  
                    map.addLayer(geoJsonLayers.residents_1971)
                    map.addLayer(geoJsonLayers.residents_1973)
                    map.addLayer(geoJsonLayers.residents_1984)
                    map.addLayer(geoJsonLayers.residents_1989)
                    map.addLayer(geoJsonLayers.residents_1990)
                    map.addLayer(geoJsonLayers.residents_1991)
                    map.addLayer(geoJsonLayers.residents_1992)
                    map.addLayer(geoJsonLayers.residents_1993)
                    map.addLayer(geoJsonLayers.residents_1994)
                    map.addLayer(geoJsonLayers.residents_1995)
                    map.addLayer(geoJsonLayers.residents_1996)
                    map.addLayer(geoJsonLayers.residents_1997)
                    map.addLayer(geoJsonLayers.residents_1998)
                    map.addLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)  
                }
                $(".Cities3").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residents_1971)
                        map.addLayer(geoJsonLayers.residents_1973)
                        map.addLayer(geoJsonLayers.residents_1984)
                        map.addLayer(geoJsonLayers.residents_1989)
                        map.addLayer(geoJsonLayers.residents_1990)
                        map.addLayer(geoJsonLayers.residents_1991)
                        map.addLayer(geoJsonLayers.residents_1992)
                        map.addLayer(geoJsonLayers.residents_1993)
                        map.addLayer(geoJsonLayers.residents_1994)
                        map.addLayer(geoJsonLayers.residents_1995)
                        map.addLayer(geoJsonLayers.residents_1996)
                        map.addLayer(geoJsonLayers.residents_1997)
                        map.addLayer(geoJsonLayers.residents_1998)
                        map.addLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                    else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                });

                if(document.getElementById('checkboxCity').checked) {
                    map.addLayer(geoJsonLayers.fellows_1978)
                    map.addLayer(geoJsonLayers.fellows_1982)
                    map.addLayer(geoJsonLayers.fellows_1983)
                    map.addLayer(geoJsonLayers.fellows_1985)
                    map.addLayer(geoJsonLayers.fellows_1986)
                    map.addLayer(geoJsonLayers.fellows_1987)
                    map.addLayer(geoJsonLayers.fellows_1988)
                    map.addLayer(geoJsonLayers.fellows_1989)
                    map.addLayer(geoJsonLayers.fellows_1990)
                    map.addLayer(geoJsonLayers.fellows_1991)
                    map.addLayer(geoJsonLayers.fellows_1992)
                    map.addLayer(geoJsonLayers.fellows_1993)
                    map.addLayer(geoJsonLayers.fellows_1994)
                    map.addLayer(geoJsonLayers.fellows_1995)
                    map.addLayer(geoJsonLayers.fellows_1996)
                    map.addLayer(geoJsonLayers.fellows_1997)
                    map.addLayer(geoJsonLayers.fellows_1998)
                    map.addLayer(geoJsonLayers.fellows_1999)
                    map.removeLayer(geoJsonLayers.fellows_2000)
                    map.removeLayer(geoJsonLayers.fellows_2001)
                    map.removeLayer(geoJsonLayers.fellows_2002)
                    map.removeLayer(geoJsonLayers.fellows_2003)
                    map.removeLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)

                } else {
                    console.log("hi")
                }

                $(".Cities").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        
                        map.addLayer(geoJsonLayers.fellows_1978)
                        map.addLayer(geoJsonLayers.fellows_1982)
                        map.addLayer(geoJsonLayers.fellows_1983)
                        map.addLayer(geoJsonLayers.fellows_1985)
                        map.addLayer(geoJsonLayers.fellows_1986)
                        map.addLayer(geoJsonLayers.fellows_1987)
                        map.addLayer(geoJsonLayers.fellows_1988)
                        map.addLayer(geoJsonLayers.fellows_1989)
                        map.addLayer(geoJsonLayers.fellows_1990)
                        map.addLayer(geoJsonLayers.fellows_1991)
                        map.addLayer(geoJsonLayers.fellows_1992)
                        map.addLayer(geoJsonLayers.fellows_1993)
                        map.addLayer(geoJsonLayers.fellows_1994)
                        map.addLayer(geoJsonLayers.fellows_1995)
                        map.addLayer(geoJsonLayers.fellows_1996)
                        map.addLayer(geoJsonLayers.fellows_1997)
                        map.addLayer(geoJsonLayers.fellows_1998)
                        map.addLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1978)
                        map.removeLayer(geoJsonLayers.fellows_1982)
                        map.removeLayer(geoJsonLayers.fellows_1983)
                        map.removeLayer(geoJsonLayers.fellows_1985)
                        map.removeLayer(geoJsonLayers.fellows_1986)
                        map.removeLayer(geoJsonLayers.fellows_1987)
                        map.removeLayer(geoJsonLayers.fellows_1988)
                        map.removeLayer(geoJsonLayers.fellows_1989)
                        map.removeLayer(geoJsonLayers.fellows_1990)
                        map.removeLayer(geoJsonLayers.fellows_1991)
                        map.removeLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    }
                });

                 $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.addLayer(geoJsonLayers.residentsFellows_1995)
                        map.addLayer(geoJsonLayers.residentsFellows_1996)
                        map.addLayer(geoJsonLayers.residentsFellows_1997)
                        map.addLayer(geoJsonLayers.residentsFellows_1998)
                        map.addLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    } else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    }
                });

                 if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.addLayer(geoJsonLayers.residentsFellows_1995)
                    map.addLayer(geoJsonLayers.residentsFellows_1996)
                    map.addLayer(geoJsonLayers.residentsFellows_1997)
                    map.addLayer(geoJsonLayers.residentsFellows_1998)
                    map.addLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                }
            }
            if (index == 2000) {
                map.removeLayer(geoJsonLayers.residents_1971)
                map.addLayer(geoJsonLayers.residents_1971)
                map.removeLayer(geoJsonLayers.residents_1973)
                map.addLayer(geoJsonLayers.residents_1973)
                map.removeLayer(geoJsonLayers.residents_1984)
                map.addLayer(geoJsonLayers.residents_1984)
                map.removeLayer(geoJsonLayers.residents_1989)
                map.addLayer(geoJsonLayers.residents_1989)
                map.removeLayer(geoJsonLayers.residents_1990)
                map.addLayer(geoJsonLayers.residents_1990)
                map.removeLayer(geoJsonLayers.residents_1991)
                map.addLayer(geoJsonLayers.residents_1991)
                map.removeLayer(geoJsonLayers.residents_1992)
                map.addLayer(geoJsonLayers.residents_1992)
                map.removeLayer(geoJsonLayers.residents_1993)
                map.addLayer(geoJsonLayers.residents_1993)
                map.removeLayer(geoJsonLayers.residents_1994)
                map.addLayer(geoJsonLayers.residents_1994)
                map.removeLayer(geoJsonLayers.residents_1995)
                map.addLayer(geoJsonLayers.residents_1995)
                map.removeLayer(geoJsonLayers.residents_1996)
                map.addLayer(geoJsonLayers.residents_1996)
                map.removeLayer(geoJsonLayers.residents_1997)
                map.addLayer(geoJsonLayers.residents_1997)
                map.removeLayer(geoJsonLayers.residents_1998)
                map.addLayer(geoJsonLayers.residents_1998)
                map.removeLayer(geoJsonLayers.residents_1999)
                map.addLayer(geoJsonLayers.residents_1999)
                map.removeLayer(geoJsonLayers.residents_2000)
                map.addLayer(geoJsonLayers.residents_2000)
                map.removeLayer(geoJsonLayers.residents_2002)
                map.removeLayer(geoJsonLayers.residents_2003)
                map.removeLayer(geoJsonLayers.residents_2004)
                map.removeLayer(geoJsonLayers.residents_2005)
                map.removeLayer(geoJsonLayers.residents_2006)
                map.removeLayer(geoJsonLayers.residents_2008)
                map.removeLayer(geoJsonLayers.residents_2009)
                map.removeLayer(geoJsonLayers.residents_2010)
                map.removeLayer(geoJsonLayers.residents_2011)
                map.removeLayer(geoJsonLayers.residents_2013)
                map.removeLayer(geoJsonLayers.residents_2014)


                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                map.removeLayer(geoJsonLayers.residentsFellows_2014)

                if(document.getElementById('checkboxCity3').checked) {                  
                    map.addLayer(geoJsonLayers.residents_1971)
                    map.addLayer(geoJsonLayers.residents_1973)
                    map.addLayer(geoJsonLayers.residents_1984)
                    map.addLayer(geoJsonLayers.residents_1989)
                    map.addLayer(geoJsonLayers.residents_1990)
                    map.addLayer(geoJsonLayers.residents_1991)
                    map.addLayer(geoJsonLayers.residents_1992)
                    map.addLayer(geoJsonLayers.residents_1993)
                    map.addLayer(geoJsonLayers.residents_1994)
                    map.addLayer(geoJsonLayers.residents_1995)
                    map.addLayer(geoJsonLayers.residents_1996)
                    map.addLayer(geoJsonLayers.residents_1997)
                    map.addLayer(geoJsonLayers.residents_1998)
                    map.addLayer(geoJsonLayers.residents_1999)
                    map.addLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)  
                }
                $(".Cities3").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residents_1971)
                        map.addLayer(geoJsonLayers.residents_1973)
                        map.addLayer(geoJsonLayers.residents_1984)
                        map.addLayer(geoJsonLayers.residents_1989)
                        map.addLayer(geoJsonLayers.residents_1990)
                        map.addLayer(geoJsonLayers.residents_1991)
                        map.addLayer(geoJsonLayers.residents_1992)
                        map.addLayer(geoJsonLayers.residents_1993)
                        map.addLayer(geoJsonLayers.residents_1994)
                        map.addLayer(geoJsonLayers.residents_1995)
                        map.addLayer(geoJsonLayers.residents_1996)
                        map.addLayer(geoJsonLayers.residents_1997)
                        map.addLayer(geoJsonLayers.residents_1998)
                        map.addLayer(geoJsonLayers.residents_1999)
                        map.addLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                    else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                });

                if(document.getElementById('checkboxCity').checked) {
                    map.addLayer(geoJsonLayers.fellows_1978)
                    map.addLayer(geoJsonLayers.fellows_1982)
                    map.addLayer(geoJsonLayers.fellows_1983)
                    map.addLayer(geoJsonLayers.fellows_1985)
                    map.addLayer(geoJsonLayers.fellows_1986)
                    map.addLayer(geoJsonLayers.fellows_1987)
                    map.addLayer(geoJsonLayers.fellows_1988)
                    map.addLayer(geoJsonLayers.fellows_1989)
                    map.addLayer(geoJsonLayers.fellows_1990)
                    map.addLayer(geoJsonLayers.fellows_1991)
                    map.addLayer(geoJsonLayers.fellows_1992)
                    map.addLayer(geoJsonLayers.fellows_1993)
                    map.addLayer(geoJsonLayers.fellows_1994)
                    map.addLayer(geoJsonLayers.fellows_1995)
                    map.addLayer(geoJsonLayers.fellows_1996)
                    map.addLayer(geoJsonLayers.fellows_1997)
                    map.addLayer(geoJsonLayers.fellows_1998)
                    map.addLayer(geoJsonLayers.fellows_1999)
                    map.addLayer(geoJsonLayers.fellows_2000)
                    map.removeLayer(geoJsonLayers.fellows_2001)
                    map.removeLayer(geoJsonLayers.fellows_2002)
                    map.removeLayer(geoJsonLayers.fellows_2003)
                    map.removeLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)

                } else {
                    console.log("hi")
                }

                $(".Cities").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        
                        map.addLayer(geoJsonLayers.fellows_1978)
                        map.addLayer(geoJsonLayers.fellows_1982)
                        map.addLayer(geoJsonLayers.fellows_1983)
                        map.addLayer(geoJsonLayers.fellows_1985)
                        map.addLayer(geoJsonLayers.fellows_1986)
                        map.addLayer(geoJsonLayers.fellows_1987)
                        map.addLayer(geoJsonLayers.fellows_1988)
                        map.addLayer(geoJsonLayers.fellows_1989)
                        map.addLayer(geoJsonLayers.fellows_1990)
                        map.addLayer(geoJsonLayers.fellows_1991)
                        map.addLayer(geoJsonLayers.fellows_1992)
                        map.addLayer(geoJsonLayers.fellows_1993)
                        map.addLayer(geoJsonLayers.fellows_1994)
                        map.addLayer(geoJsonLayers.fellows_1995)
                        map.addLayer(geoJsonLayers.fellows_1996)
                        map.addLayer(geoJsonLayers.fellows_1997)
                        map.addLayer(geoJsonLayers.fellows_1998)
                        map.addLayer(geoJsonLayers.fellows_1999)
                        map.addLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1978)
                        map.removeLayer(geoJsonLayers.fellows_1982)
                        map.removeLayer(geoJsonLayers.fellows_1983)
                        map.removeLayer(geoJsonLayers.fellows_1985)
                        map.removeLayer(geoJsonLayers.fellows_1986)
                        map.removeLayer(geoJsonLayers.fellows_1987)
                        map.removeLayer(geoJsonLayers.fellows_1988)
                        map.removeLayer(geoJsonLayers.fellows_1989)
                        map.removeLayer(geoJsonLayers.fellows_1990)
                        map.removeLayer(geoJsonLayers.fellows_1991)
                        map.removeLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    }
                });

                 $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.addLayer(geoJsonLayers.residentsFellows_1995)
                        map.addLayer(geoJsonLayers.residentsFellows_1996)
                        map.addLayer(geoJsonLayers.residentsFellows_1997)
                        map.addLayer(geoJsonLayers.residentsFellows_1998)
                        map.addLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    } else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    }
                });

                 if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.addLayer(geoJsonLayers.residentsFellows_1995)
                    map.addLayer(geoJsonLayers.residentsFellows_1996)
                    map.addLayer(geoJsonLayers.residentsFellows_1997)
                    map.addLayer(geoJsonLayers.residentsFellows_1998)
                    map.addLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                }
            }
            if (index == 2001) {
                map.removeLayer(geoJsonLayers.residents_1971)
                map.addLayer(geoJsonLayers.residents_1971)
                map.removeLayer(geoJsonLayers.residents_1973)
                map.addLayer(geoJsonLayers.residents_1973)
                map.removeLayer(geoJsonLayers.residents_1984)
                map.addLayer(geoJsonLayers.residents_1984)
                map.removeLayer(geoJsonLayers.residents_1989)
                map.addLayer(geoJsonLayers.residents_1989)
                map.removeLayer(geoJsonLayers.residents_1990)
                map.addLayer(geoJsonLayers.residents_1990)
                map.removeLayer(geoJsonLayers.residents_1991)
                map.addLayer(geoJsonLayers.residents_1991)
                map.removeLayer(geoJsonLayers.residents_1992)
                map.addLayer(geoJsonLayers.residents_1992)
                map.removeLayer(geoJsonLayers.residents_1993)
                map.addLayer(geoJsonLayers.residents_1993)
                map.removeLayer(geoJsonLayers.residents_1994)
                map.addLayer(geoJsonLayers.residents_1994)
                map.removeLayer(geoJsonLayers.residents_1995)
                map.addLayer(geoJsonLayers.residents_1995)
                map.removeLayer(geoJsonLayers.residents_1996)
                map.addLayer(geoJsonLayers.residents_1996)
                map.removeLayer(geoJsonLayers.residents_1997)
                map.addLayer(geoJsonLayers.residents_1997)
                map.removeLayer(geoJsonLayers.residents_1998)
                map.addLayer(geoJsonLayers.residents_1998)
                map.removeLayer(geoJsonLayers.residents_1999)
                map.addLayer(geoJsonLayers.residents_1999)
                map.removeLayer(geoJsonLayers.residents_2000)
                map.addLayer(geoJsonLayers.residents_2000)
                map.removeLayer(geoJsonLayers.residents_2002)
                map.removeLayer(geoJsonLayers.residents_2003)
                map.removeLayer(geoJsonLayers.residents_2004)
                map.removeLayer(geoJsonLayers.residents_2005)
                map.removeLayer(geoJsonLayers.residents_2006)
                map.removeLayer(geoJsonLayers.residents_2008)
                map.removeLayer(geoJsonLayers.residents_2009)
                map.removeLayer(geoJsonLayers.residents_2010)
                map.removeLayer(geoJsonLayers.residents_2011)
                map.removeLayer(geoJsonLayers.residents_2013)
                map.removeLayer(geoJsonLayers.residents_2014)


                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                map.removeLayer(geoJsonLayers.residentsFellows_2014)

                if(document.getElementById('checkboxCity3').checked) {                  
                    map.addLayer(geoJsonLayers.residents_1971)
                    map.addLayer(geoJsonLayers.residents_1973)
                    map.addLayer(geoJsonLayers.residents_1984)
                    map.addLayer(geoJsonLayers.residents_1989)
                    map.addLayer(geoJsonLayers.residents_1990)
                    map.addLayer(geoJsonLayers.residents_1991)
                    map.addLayer(geoJsonLayers.residents_1992)
                    map.addLayer(geoJsonLayers.residents_1993)
                    map.addLayer(geoJsonLayers.residents_1994)
                    map.addLayer(geoJsonLayers.residents_1995)
                    map.addLayer(geoJsonLayers.residents_1996)
                    map.addLayer(geoJsonLayers.residents_1997)
                    map.addLayer(geoJsonLayers.residents_1998)
                    map.addLayer(geoJsonLayers.residents_1999)
                    map.addLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)  
                }
                $(".Cities3").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residents_1971)
                        map.addLayer(geoJsonLayers.residents_1973)
                        map.addLayer(geoJsonLayers.residents_1984)
                        map.addLayer(geoJsonLayers.residents_1989)
                        map.addLayer(geoJsonLayers.residents_1990)
                        map.addLayer(geoJsonLayers.residents_1991)
                        map.addLayer(geoJsonLayers.residents_1992)
                        map.addLayer(geoJsonLayers.residents_1993)
                        map.addLayer(geoJsonLayers.residents_1994)
                        map.addLayer(geoJsonLayers.residents_1995)
                        map.addLayer(geoJsonLayers.residents_1996)
                        map.addLayer(geoJsonLayers.residents_1997)
                        map.addLayer(geoJsonLayers.residents_1998)
                        map.addLayer(geoJsonLayers.residents_1999)
                        map.addLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                    else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                });

                if(document.getElementById('checkboxCity').checked) {
                    map.addLayer(geoJsonLayers.fellows_1978)
                    map.addLayer(geoJsonLayers.fellows_1982)
                    map.addLayer(geoJsonLayers.fellows_1983)
                    map.addLayer(geoJsonLayers.fellows_1985)
                    map.addLayer(geoJsonLayers.fellows_1986)
                    map.addLayer(geoJsonLayers.fellows_1987)
                    map.addLayer(geoJsonLayers.fellows_1988)
                    map.addLayer(geoJsonLayers.fellows_1989)
                    map.addLayer(geoJsonLayers.fellows_1990)
                    map.addLayer(geoJsonLayers.fellows_1991)
                    map.addLayer(geoJsonLayers.fellows_1992)
                    map.addLayer(geoJsonLayers.fellows_1993)
                    map.addLayer(geoJsonLayers.fellows_1994)
                    map.addLayer(geoJsonLayers.fellows_1995)
                    map.addLayer(geoJsonLayers.fellows_1996)
                    map.addLayer(geoJsonLayers.fellows_1997)
                    map.addLayer(geoJsonLayers.fellows_1998)
                    map.addLayer(geoJsonLayers.fellows_1999)
                    map.addLayer(geoJsonLayers.fellows_2000)
                    map.addLayer(geoJsonLayers.fellows_2001)
                    map.removeLayer(geoJsonLayers.fellows_2002)
                    map.removeLayer(geoJsonLayers.fellows_2003)
                    map.removeLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)

                } else {
                    console.log("hi")
                }

                $(".Cities").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        
                        map.addLayer(geoJsonLayers.fellows_1978)
                        map.addLayer(geoJsonLayers.fellows_1982)
                        map.addLayer(geoJsonLayers.fellows_1983)
                        map.addLayer(geoJsonLayers.fellows_1985)
                        map.addLayer(geoJsonLayers.fellows_1986)
                        map.addLayer(geoJsonLayers.fellows_1987)
                        map.addLayer(geoJsonLayers.fellows_1988)
                        map.addLayer(geoJsonLayers.fellows_1989)
                        map.addLayer(geoJsonLayers.fellows_1990)
                        map.addLayer(geoJsonLayers.fellows_1991)
                        map.addLayer(geoJsonLayers.fellows_1992)
                        map.addLayer(geoJsonLayers.fellows_1993)
                        map.addLayer(geoJsonLayers.fellows_1994)
                        map.addLayer(geoJsonLayers.fellows_1995)
                        map.addLayer(geoJsonLayers.fellows_1996)
                        map.addLayer(geoJsonLayers.fellows_1997)
                        map.addLayer(geoJsonLayers.fellows_1998)
                        map.addLayer(geoJsonLayers.fellows_1999)
                        map.addLayer(geoJsonLayers.fellows_2000)
                        map.addLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1978)
                        map.removeLayer(geoJsonLayers.fellows_1982)
                        map.removeLayer(geoJsonLayers.fellows_1983)
                        map.removeLayer(geoJsonLayers.fellows_1985)
                        map.removeLayer(geoJsonLayers.fellows_1986)
                        map.removeLayer(geoJsonLayers.fellows_1987)
                        map.removeLayer(geoJsonLayers.fellows_1988)
                        map.removeLayer(geoJsonLayers.fellows_1989)
                        map.removeLayer(geoJsonLayers.fellows_1990)
                        map.removeLayer(geoJsonLayers.fellows_1991)
                        map.removeLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    }
                });


                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.addLayer(geoJsonLayers.residentsFellows_1995)
                        map.addLayer(geoJsonLayers.residentsFellows_1996)
                        map.addLayer(geoJsonLayers.residentsFellows_1997)
                        map.addLayer(geoJsonLayers.residentsFellows_1998)
                        map.addLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    } else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    }
                });

                 if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.addLayer(geoJsonLayers.residentsFellows_1995)
                    map.addLayer(geoJsonLayers.residentsFellows_1996)
                    map.addLayer(geoJsonLayers.residentsFellows_1997)
                    map.addLayer(geoJsonLayers.residentsFellows_1998)
                    map.addLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                }
            }
            if (index == 2002) {
                map.removeLayer(geoJsonLayers.residents_1971)
                map.addLayer(geoJsonLayers.residents_1971)
                map.removeLayer(geoJsonLayers.residents_1973)
                map.addLayer(geoJsonLayers.residents_1973)
                map.removeLayer(geoJsonLayers.residents_1984)
                map.addLayer(geoJsonLayers.residents_1984)
                map.removeLayer(geoJsonLayers.residents_1989)
                map.addLayer(geoJsonLayers.residents_1989)
                map.removeLayer(geoJsonLayers.residents_1990)
                map.addLayer(geoJsonLayers.residents_1990)
                map.removeLayer(geoJsonLayers.residents_1991)
                map.addLayer(geoJsonLayers.residents_1991)
                map.removeLayer(geoJsonLayers.residents_1992)
                map.addLayer(geoJsonLayers.residents_1992)
                map.removeLayer(geoJsonLayers.residents_1993)
                map.addLayer(geoJsonLayers.residents_1993)
                map.removeLayer(geoJsonLayers.residents_1994)
                map.addLayer(geoJsonLayers.residents_1994)
                map.removeLayer(geoJsonLayers.residents_1995)
                map.addLayer(geoJsonLayers.residents_1995)
                map.removeLayer(geoJsonLayers.residents_1996)
                map.addLayer(geoJsonLayers.residents_1996)
                map.removeLayer(geoJsonLayers.residents_1997)
                map.addLayer(geoJsonLayers.residents_1997)
                map.removeLayer(geoJsonLayers.residents_1998)
                map.addLayer(geoJsonLayers.residents_1998)
                map.removeLayer(geoJsonLayers.residents_1999)
                map.addLayer(geoJsonLayers.residents_1999)
                map.removeLayer(geoJsonLayers.residents_2000)
                map.addLayer(geoJsonLayers.residents_2000)
                map.removeLayer(geoJsonLayers.residents_2002)
                map.addLayer(geoJsonLayers.residents_2002)
                map.removeLayer(geoJsonLayers.residents_2003)
                map.removeLayer(geoJsonLayers.residents_2004)
                map.removeLayer(geoJsonLayers.residents_2005)
                map.removeLayer(geoJsonLayers.residents_2006)
                map.removeLayer(geoJsonLayers.residents_2008)
                map.removeLayer(geoJsonLayers.residents_2009)
                map.removeLayer(geoJsonLayers.residents_2010)
                map.removeLayer(geoJsonLayers.residents_2011)
                map.removeLayer(geoJsonLayers.residents_2013)
                map.removeLayer(geoJsonLayers.residents_2014)


                map.removeLayer(geoJsonLayers.residentsFellows_2003)
                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                map.removeLayer(geoJsonLayers.residentsFellows_2014)

                if(document.getElementById('checkboxCity3').checked) {                  
                    map.addLayer(geoJsonLayers.residents_1971)
                    map.addLayer(geoJsonLayers.residents_1973)
                    map.addLayer(geoJsonLayers.residents_1984)
                    map.addLayer(geoJsonLayers.residents_1989)
                    map.addLayer(geoJsonLayers.residents_1990)
                    map.addLayer(geoJsonLayers.residents_1991)
                    map.addLayer(geoJsonLayers.residents_1992)
                    map.addLayer(geoJsonLayers.residents_1993)
                    map.addLayer(geoJsonLayers.residents_1994)
                    map.addLayer(geoJsonLayers.residents_1995)
                    map.addLayer(geoJsonLayers.residents_1996)
                    map.addLayer(geoJsonLayers.residents_1997)
                    map.addLayer(geoJsonLayers.residents_1998)
                    map.addLayer(geoJsonLayers.residents_1999)
                    map.addLayer(geoJsonLayers.residents_2000)
                    map.addLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)  
                }
                $(".Cities3").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residents_1971)
                        map.addLayer(geoJsonLayers.residents_1973)
                        map.addLayer(geoJsonLayers.residents_1984)
                        map.addLayer(geoJsonLayers.residents_1989)
                        map.addLayer(geoJsonLayers.residents_1990)
                        map.addLayer(geoJsonLayers.residents_1991)
                        map.addLayer(geoJsonLayers.residents_1992)
                        map.addLayer(geoJsonLayers.residents_1993)
                        map.addLayer(geoJsonLayers.residents_1994)
                        map.addLayer(geoJsonLayers.residents_1995)
                        map.addLayer(geoJsonLayers.residents_1996)
                        map.addLayer(geoJsonLayers.residents_1997)
                        map.addLayer(geoJsonLayers.residents_1998)
                        map.addLayer(geoJsonLayers.residents_1999)
                        map.addLayer(geoJsonLayers.residents_2000)
                        map.addLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                    else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                });

                 if(document.getElementById('checkboxCity').checked) {
                    map.addLayer(geoJsonLayers.fellows_1978)
                    map.addLayer(geoJsonLayers.fellows_1982)
                    map.addLayer(geoJsonLayers.fellows_1983)
                    map.addLayer(geoJsonLayers.fellows_1985)
                    map.addLayer(geoJsonLayers.fellows_1986)
                    map.addLayer(geoJsonLayers.fellows_1987)
                    map.addLayer(geoJsonLayers.fellows_1988)
                    map.addLayer(geoJsonLayers.fellows_1989)
                    map.addLayer(geoJsonLayers.fellows_1990)
                    map.addLayer(geoJsonLayers.fellows_1991)
                    map.addLayer(geoJsonLayers.fellows_1992)
                    map.addLayer(geoJsonLayers.fellows_1993)
                    map.addLayer(geoJsonLayers.fellows_1994)
                    map.addLayer(geoJsonLayers.fellows_1995)
                    map.addLayer(geoJsonLayers.fellows_1996)
                    map.addLayer(geoJsonLayers.fellows_1997)
                    map.addLayer(geoJsonLayers.fellows_1998)
                    map.addLayer(geoJsonLayers.fellows_1999)
                    map.addLayer(geoJsonLayers.fellows_2000)
                    map.addLayer(geoJsonLayers.fellows_2001)
                    map.addLayer(geoJsonLayers.fellows_2002)
                    map.removeLayer(geoJsonLayers.fellows_2003)
                    map.removeLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)

                } else {
                    console.log("hi")
                }

                $(".Cities").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        
                        map.addLayer(geoJsonLayers.fellows_1978)
                        map.addLayer(geoJsonLayers.fellows_1982)
                        map.addLayer(geoJsonLayers.fellows_1983)
                        map.addLayer(geoJsonLayers.fellows_1985)
                        map.addLayer(geoJsonLayers.fellows_1986)
                        map.addLayer(geoJsonLayers.fellows_1987)
                        map.addLayer(geoJsonLayers.fellows_1988)
                        map.addLayer(geoJsonLayers.fellows_1989)
                        map.addLayer(geoJsonLayers.fellows_1990)
                        map.addLayer(geoJsonLayers.fellows_1991)
                        map.addLayer(geoJsonLayers.fellows_1992)
                        map.addLayer(geoJsonLayers.fellows_1993)
                        map.addLayer(geoJsonLayers.fellows_1994)
                        map.addLayer(geoJsonLayers.fellows_1995)
                        map.addLayer(geoJsonLayers.fellows_1996)
                        map.addLayer(geoJsonLayers.fellows_1997)
                        map.addLayer(geoJsonLayers.fellows_1998)
                        map.addLayer(geoJsonLayers.fellows_1999)
                        map.addLayer(geoJsonLayers.fellows_2000)
                        map.addLayer(geoJsonLayers.fellows_2001)
                        map.addLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1978)
                        map.removeLayer(geoJsonLayers.fellows_1982)
                        map.removeLayer(geoJsonLayers.fellows_1983)
                        map.removeLayer(geoJsonLayers.fellows_1985)
                        map.removeLayer(geoJsonLayers.fellows_1986)
                        map.removeLayer(geoJsonLayers.fellows_1987)
                        map.removeLayer(geoJsonLayers.fellows_1988)
                        map.removeLayer(geoJsonLayers.fellows_1989)
                        map.removeLayer(geoJsonLayers.fellows_1990)
                        map.removeLayer(geoJsonLayers.fellows_1991)
                        map.removeLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    }
                });

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.addLayer(geoJsonLayers.residentsFellows_1995)
                        map.addLayer(geoJsonLayers.residentsFellows_1996)
                        map.addLayer(geoJsonLayers.residentsFellows_1997)
                        map.addLayer(geoJsonLayers.residentsFellows_1998)
                        map.addLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    } else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    }
                });

                 if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.addLayer(geoJsonLayers.residentsFellows_1995)
                    map.addLayer(geoJsonLayers.residentsFellows_1996)
                    map.addLayer(geoJsonLayers.residentsFellows_1997)
                    map.addLayer(geoJsonLayers.residentsFellows_1998)
                    map.addLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                }
            }
            if (index == 2003) {
                map.removeLayer(geoJsonLayers.residents_1971)
                map.addLayer(geoJsonLayers.residents_1971)
                map.removeLayer(geoJsonLayers.residents_1973)
                map.addLayer(geoJsonLayers.residents_1973)
                map.removeLayer(geoJsonLayers.residents_1984)
                map.addLayer(geoJsonLayers.residents_1984)
                map.removeLayer(geoJsonLayers.residents_1989)
                map.addLayer(geoJsonLayers.residents_1989)
                map.removeLayer(geoJsonLayers.residents_1990)
                map.addLayer(geoJsonLayers.residents_1990)
                map.removeLayer(geoJsonLayers.residents_1991)
                map.addLayer(geoJsonLayers.residents_1991)
                map.removeLayer(geoJsonLayers.residents_1992)
                map.addLayer(geoJsonLayers.residents_1992)
                map.removeLayer(geoJsonLayers.residents_1993)
                map.addLayer(geoJsonLayers.residents_1993)
                map.removeLayer(geoJsonLayers.residents_1994)
                map.addLayer(geoJsonLayers.residents_1994)
                map.removeLayer(geoJsonLayers.residents_1995)
                map.addLayer(geoJsonLayers.residents_1995)
                map.removeLayer(geoJsonLayers.residents_1996)
                map.addLayer(geoJsonLayers.residents_1996)
                map.removeLayer(geoJsonLayers.residents_1997)
                map.addLayer(geoJsonLayers.residents_1997)
                map.removeLayer(geoJsonLayers.residents_1998)
                map.addLayer(geoJsonLayers.residents_1998)
                map.removeLayer(geoJsonLayers.residents_1999)
                map.addLayer(geoJsonLayers.residents_1999)
                map.removeLayer(geoJsonLayers.residents_2000)
                map.addLayer(geoJsonLayers.residents_2000)
                map.removeLayer(geoJsonLayers.residents_2002)
                map.addLayer(geoJsonLayers.residents_2002)
                map.removeLayer(geoJsonLayers.residents_2003)
                map.addLayer(geoJsonLayers.residents_2003)
                map.removeLayer(geoJsonLayers.residents_2004)
                map.removeLayer(geoJsonLayers.residents_2005)
                map.removeLayer(geoJsonLayers.residents_2006)
                map.removeLayer(geoJsonLayers.residents_2008)
                map.removeLayer(geoJsonLayers.residents_2009)
                map.removeLayer(geoJsonLayers.residents_2010)
                map.removeLayer(geoJsonLayers.residents_2011)
                map.removeLayer(geoJsonLayers.residents_2013)
                map.removeLayer(geoJsonLayers.residents_2014)


                
                map.removeLayer(geoJsonLayers.residentsFellows_2004)
                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                map.removeLayer(geoJsonLayers.residentsFellows_2014)

                if(document.getElementById('checkboxCity3').checked) {                  
                    map.addLayer(geoJsonLayers.residents_1971)
                    map.addLayer(geoJsonLayers.residents_1973)
                    map.addLayer(geoJsonLayers.residents_1984)
                    map.addLayer(geoJsonLayers.residents_1989)
                    map.addLayer(geoJsonLayers.residents_1990)
                    map.addLayer(geoJsonLayers.residents_1991)
                    map.addLayer(geoJsonLayers.residents_1992)
                    map.addLayer(geoJsonLayers.residents_1993)
                    map.addLayer(geoJsonLayers.residents_1994)
                    map.addLayer(geoJsonLayers.residents_1995)
                    map.addLayer(geoJsonLayers.residents_1996)
                    map.addLayer(geoJsonLayers.residents_1997)
                    map.addLayer(geoJsonLayers.residents_1998)
                    map.addLayer(geoJsonLayers.residents_1999)
                    map.addLayer(geoJsonLayers.residents_2000)
                    map.addLayer(geoJsonLayers.residents_2002)
                    map.addLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)  
                }
                $(".Cities3").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residents_1971)
                        map.addLayer(geoJsonLayers.residents_1973)
                        map.addLayer(geoJsonLayers.residents_1984)
                        map.addLayer(geoJsonLayers.residents_1989)
                        map.addLayer(geoJsonLayers.residents_1990)
                        map.addLayer(geoJsonLayers.residents_1991)
                        map.addLayer(geoJsonLayers.residents_1992)
                        map.addLayer(geoJsonLayers.residents_1993)
                        map.addLayer(geoJsonLayers.residents_1994)
                        map.addLayer(geoJsonLayers.residents_1995)
                        map.addLayer(geoJsonLayers.residents_1996)
                        map.addLayer(geoJsonLayers.residents_1997)
                        map.addLayer(geoJsonLayers.residents_1998)
                        map.addLayer(geoJsonLayers.residents_1999)
                        map.addLayer(geoJsonLayers.residents_2000)
                        map.addLayer(geoJsonLayers.residents_2002)
                        map.addLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                    else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                });

                if(document.getElementById('checkboxCity').checked) {
                    map.addLayer(geoJsonLayers.fellows_1978)
                    map.addLayer(geoJsonLayers.fellows_1982)
                    map.addLayer(geoJsonLayers.fellows_1983)
                    map.addLayer(geoJsonLayers.fellows_1985)
                    map.addLayer(geoJsonLayers.fellows_1986)
                    map.addLayer(geoJsonLayers.fellows_1987)
                    map.addLayer(geoJsonLayers.fellows_1988)
                    map.addLayer(geoJsonLayers.fellows_1989)
                    map.addLayer(geoJsonLayers.fellows_1990)
                    map.addLayer(geoJsonLayers.fellows_1991)
                    map.addLayer(geoJsonLayers.fellows_1992)
                    map.addLayer(geoJsonLayers.fellows_1993)
                    map.addLayer(geoJsonLayers.fellows_1994)
                    map.addLayer(geoJsonLayers.fellows_1995)
                    map.addLayer(geoJsonLayers.fellows_1996)
                    map.addLayer(geoJsonLayers.fellows_1997)
                    map.addLayer(geoJsonLayers.fellows_1998)
                    map.addLayer(geoJsonLayers.fellows_1999)
                    map.addLayer(geoJsonLayers.fellows_2000)
                    map.addLayer(geoJsonLayers.fellows_2001)
                    map.addLayer(geoJsonLayers.fellows_2002)
                    map.addLayer(geoJsonLayers.fellows_2003)
                    map.removeLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)

                } else {
                    console.log("hi")
                }

                $(".Cities").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        
                        map.addLayer(geoJsonLayers.fellows_1978)
                        map.addLayer(geoJsonLayers.fellows_1982)
                        map.addLayer(geoJsonLayers.fellows_1983)
                        map.addLayer(geoJsonLayers.fellows_1985)
                        map.addLayer(geoJsonLayers.fellows_1986)
                        map.addLayer(geoJsonLayers.fellows_1987)
                        map.addLayer(geoJsonLayers.fellows_1988)
                        map.addLayer(geoJsonLayers.fellows_1989)
                        map.addLayer(geoJsonLayers.fellows_1990)
                        map.addLayer(geoJsonLayers.fellows_1991)
                        map.addLayer(geoJsonLayers.fellows_1992)
                        map.addLayer(geoJsonLayers.fellows_1993)
                        map.addLayer(geoJsonLayers.fellows_1994)
                        map.addLayer(geoJsonLayers.fellows_1995)
                        map.addLayer(geoJsonLayers.fellows_1996)
                        map.addLayer(geoJsonLayers.fellows_1997)
                        map.addLayer(geoJsonLayers.fellows_1998)
                        map.addLayer(geoJsonLayers.fellows_1999)
                        map.addLayer(geoJsonLayers.fellows_2000)
                        map.addLayer(geoJsonLayers.fellows_2001)
                        map.addLayer(geoJsonLayers.fellows_2002)
                        map.addLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1978)
                        map.removeLayer(geoJsonLayers.fellows_1982)
                        map.removeLayer(geoJsonLayers.fellows_1983)
                        map.removeLayer(geoJsonLayers.fellows_1985)
                        map.removeLayer(geoJsonLayers.fellows_1986)
                        map.removeLayer(geoJsonLayers.fellows_1987)
                        map.removeLayer(geoJsonLayers.fellows_1988)
                        map.removeLayer(geoJsonLayers.fellows_1989)
                        map.removeLayer(geoJsonLayers.fellows_1990)
                        map.removeLayer(geoJsonLayers.fellows_1991)
                        map.removeLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    }
                });

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.addLayer(geoJsonLayers.residentsFellows_1995)
                        map.addLayer(geoJsonLayers.residentsFellows_1996)
                        map.addLayer(geoJsonLayers.residentsFellows_1997)
                        map.addLayer(geoJsonLayers.residentsFellows_1998)
                        map.addLayer(geoJsonLayers.residentsFellows_1999)
                        map.addLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    } else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    }
                });

                 if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.addLayer(geoJsonLayers.residentsFellows_1995)
                    map.addLayer(geoJsonLayers.residentsFellows_1996)
                    map.addLayer(geoJsonLayers.residentsFellows_1997)
                    map.addLayer(geoJsonLayers.residentsFellows_1998)
                    map.addLayer(geoJsonLayers.residentsFellows_1999)
                    map.addLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                }
            }
            if (index == 2004) {
                map.removeLayer(geoJsonLayers.residents_1971)
                map.addLayer(geoJsonLayers.residents_1971)
                map.removeLayer(geoJsonLayers.residents_1973)
                map.addLayer(geoJsonLayers.residents_1973)
                map.removeLayer(geoJsonLayers.residents_1984)
                map.addLayer(geoJsonLayers.residents_1984)
                map.removeLayer(geoJsonLayers.residents_1989)
                map.addLayer(geoJsonLayers.residents_1989)
                map.removeLayer(geoJsonLayers.residents_1990)
                map.addLayer(geoJsonLayers.residents_1990)
                map.removeLayer(geoJsonLayers.residents_1991)
                map.addLayer(geoJsonLayers.residents_1991)
                map.removeLayer(geoJsonLayers.residents_1992)
                map.addLayer(geoJsonLayers.residents_1992)
                map.removeLayer(geoJsonLayers.residents_1993)
                map.addLayer(geoJsonLayers.residents_1993)
                map.removeLayer(geoJsonLayers.residents_1994)
                map.addLayer(geoJsonLayers.residents_1994)
                map.removeLayer(geoJsonLayers.residents_1995)
                map.addLayer(geoJsonLayers.residents_1995)
                map.removeLayer(geoJsonLayers.residents_1996)
                map.addLayer(geoJsonLayers.residents_1996)
                map.removeLayer(geoJsonLayers.residents_1997)
                map.addLayer(geoJsonLayers.residents_1997)
                map.removeLayer(geoJsonLayers.residents_1998)
                map.addLayer(geoJsonLayers.residents_1998)
                map.removeLayer(geoJsonLayers.residents_1999)
                map.addLayer(geoJsonLayers.residents_1999)
                map.removeLayer(geoJsonLayers.residents_2000)
                map.addLayer(geoJsonLayers.residents_2000)
                map.removeLayer(geoJsonLayers.residents_2002)
                map.addLayer(geoJsonLayers.residents_2002)
                map.removeLayer(geoJsonLayers.residents_2003)
                map.addLayer(geoJsonLayers.residents_2003)
                map.removeLayer(geoJsonLayers.residents_2004)
                map.addLayer(geoJsonLayers.residents_2004)
                map.removeLayer(geoJsonLayers.residents_2005)
                map.removeLayer(geoJsonLayers.residents_2006)
                map.removeLayer(geoJsonLayers.residents_2008)
                map.removeLayer(geoJsonLayers.residents_2009)
                map.removeLayer(geoJsonLayers.residents_2010)
                map.removeLayer(geoJsonLayers.residents_2011)
                map.removeLayer(geoJsonLayers.residents_2013)
                map.removeLayer(geoJsonLayers.residents_2014)


                map.removeLayer(geoJsonLayers.residentsFellows_2005)
                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                map.removeLayer(geoJsonLayers.residentsFellows_2014)

                if(document.getElementById('checkboxCity3').checked) {                  
                    map.addLayer(geoJsonLayers.residents_1971)
                    map.addLayer(geoJsonLayers.residents_1973)
                    map.addLayer(geoJsonLayers.residents_1984)
                    map.addLayer(geoJsonLayers.residents_1989)
                    map.addLayer(geoJsonLayers.residents_1990)
                    map.addLayer(geoJsonLayers.residents_1991)
                    map.addLayer(geoJsonLayers.residents_1992)
                    map.addLayer(geoJsonLayers.residents_1993)
                    map.addLayer(geoJsonLayers.residents_1994)
                    map.addLayer(geoJsonLayers.residents_1995)
                    map.addLayer(geoJsonLayers.residents_1996)
                    map.addLayer(geoJsonLayers.residents_1997)
                    map.addLayer(geoJsonLayers.residents_1998)
                    map.addLayer(geoJsonLayers.residents_1999)
                    map.addLayer(geoJsonLayers.residents_2000)
                    map.addLayer(geoJsonLayers.residents_2002)
                    map.addLayer(geoJsonLayers.residents_2003)
                    map.addLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)  
                }
                $(".Cities3").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residents_1971)
                        map.addLayer(geoJsonLayers.residents_1973)
                        map.addLayer(geoJsonLayers.residents_1984)
                        map.addLayer(geoJsonLayers.residents_1989)
                        map.addLayer(geoJsonLayers.residents_1990)
                        map.addLayer(geoJsonLayers.residents_1991)
                        map.addLayer(geoJsonLayers.residents_1992)
                        map.addLayer(geoJsonLayers.residents_1993)
                        map.addLayer(geoJsonLayers.residents_1994)
                        map.addLayer(geoJsonLayers.residents_1995)
                        map.addLayer(geoJsonLayers.residents_1996)
                        map.addLayer(geoJsonLayers.residents_1997)
                        map.addLayer(geoJsonLayers.residents_1998)
                        map.addLayer(geoJsonLayers.residents_1999)
                        map.addLayer(geoJsonLayers.residents_2000)
                        map.addLayer(geoJsonLayers.residents_2002)
                        map.addLayer(geoJsonLayers.residents_2003)
                        map.addLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                    else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                });

                if(document.getElementById('checkboxCity').checked) {
                    map.addLayer(geoJsonLayers.fellows_1978)
                    map.addLayer(geoJsonLayers.fellows_1982)
                    map.addLayer(geoJsonLayers.fellows_1983)
                    map.addLayer(geoJsonLayers.fellows_1985)
                    map.addLayer(geoJsonLayers.fellows_1986)
                    map.addLayer(geoJsonLayers.fellows_1987)
                    map.addLayer(geoJsonLayers.fellows_1988)
                    map.addLayer(geoJsonLayers.fellows_1989)
                    map.addLayer(geoJsonLayers.fellows_1990)
                    map.addLayer(geoJsonLayers.fellows_1991)
                    map.addLayer(geoJsonLayers.fellows_1992)
                    map.addLayer(geoJsonLayers.fellows_1993)
                    map.addLayer(geoJsonLayers.fellows_1994)
                    map.addLayer(geoJsonLayers.fellows_1995)
                    map.addLayer(geoJsonLayers.fellows_1996)
                    map.addLayer(geoJsonLayers.fellows_1997)
                    map.addLayer(geoJsonLayers.fellows_1998)
                    map.addLayer(geoJsonLayers.fellows_1999)
                    map.addLayer(geoJsonLayers.fellows_2000)
                    map.addLayer(geoJsonLayers.fellows_2001)
                    map.addLayer(geoJsonLayers.fellows_2002)
                    map.addLayer(geoJsonLayers.fellows_2003)
                    map.addLayer(geoJsonLayers.fellows_2004)
                    map.removeLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)

                } else {
                    console.log("hi")
                }

                $(".Cities").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        
                        map.addLayer(geoJsonLayers.fellows_1978)
                        map.addLayer(geoJsonLayers.fellows_1982)
                        map.addLayer(geoJsonLayers.fellows_1983)
                        map.addLayer(geoJsonLayers.fellows_1985)
                        map.addLayer(geoJsonLayers.fellows_1986)
                        map.addLayer(geoJsonLayers.fellows_1987)
                        map.addLayer(geoJsonLayers.fellows_1988)
                        map.addLayer(geoJsonLayers.fellows_1989)
                        map.addLayer(geoJsonLayers.fellows_1990)
                        map.addLayer(geoJsonLayers.fellows_1991)
                        map.addLayer(geoJsonLayers.fellows_1992)
                        map.addLayer(geoJsonLayers.fellows_1993)
                        map.addLayer(geoJsonLayers.fellows_1994)
                        map.addLayer(geoJsonLayers.fellows_1995)
                        map.addLayer(geoJsonLayers.fellows_1996)
                        map.addLayer(geoJsonLayers.fellows_1997)
                        map.addLayer(geoJsonLayers.fellows_1998)
                        map.addLayer(geoJsonLayers.fellows_1999)
                        map.addLayer(geoJsonLayers.fellows_2000)
                        map.addLayer(geoJsonLayers.fellows_2001)
                        map.addLayer(geoJsonLayers.fellows_2002)
                        map.addLayer(geoJsonLayers.fellows_2003)
                        map.addLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1978)
                        map.removeLayer(geoJsonLayers.fellows_1982)
                        map.removeLayer(geoJsonLayers.fellows_1983)
                        map.removeLayer(geoJsonLayers.fellows_1985)
                        map.removeLayer(geoJsonLayers.fellows_1986)
                        map.removeLayer(geoJsonLayers.fellows_1987)
                        map.removeLayer(geoJsonLayers.fellows_1988)
                        map.removeLayer(geoJsonLayers.fellows_1989)
                        map.removeLayer(geoJsonLayers.fellows_1990)
                        map.removeLayer(geoJsonLayers.fellows_1991)
                        map.removeLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    }
                });

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.addLayer(geoJsonLayers.residentsFellows_1995)
                        map.addLayer(geoJsonLayers.residentsFellows_1996)
                        map.addLayer(geoJsonLayers.residentsFellows_1997)
                        map.addLayer(geoJsonLayers.residentsFellows_1998)
                        map.addLayer(geoJsonLayers.residentsFellows_1999)
                        map.addLayer(geoJsonLayers.residentsFellows_2003)
                        map.addLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    } else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    }
                });

                 if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.addLayer(geoJsonLayers.residentsFellows_1995)
                    map.addLayer(geoJsonLayers.residentsFellows_1996)
                    map.addLayer(geoJsonLayers.residentsFellows_1997)
                    map.addLayer(geoJsonLayers.residentsFellows_1998)
                    map.addLayer(geoJsonLayers.residentsFellows_1999)
                    map.addLayer(geoJsonLayers.residentsFellows_2003)
                    map.addLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                }
            }
            if (index == 2005) {
                map.removeLayer(geoJsonLayers.residents_1971)
                map.addLayer(geoJsonLayers.residents_1971)
                map.removeLayer(geoJsonLayers.residents_1973)
                map.addLayer(geoJsonLayers.residents_1973)
                map.removeLayer(geoJsonLayers.residents_1984)
                map.addLayer(geoJsonLayers.residents_1984)
                map.removeLayer(geoJsonLayers.residents_1989)
                map.addLayer(geoJsonLayers.residents_1989)
                map.removeLayer(geoJsonLayers.residents_1990)
                map.addLayer(geoJsonLayers.residents_1990)
                map.removeLayer(geoJsonLayers.residents_1991)
                map.addLayer(geoJsonLayers.residents_1991)
                map.removeLayer(geoJsonLayers.residents_1992)
                map.addLayer(geoJsonLayers.residents_1992)
                map.removeLayer(geoJsonLayers.residents_1993)
                map.addLayer(geoJsonLayers.residents_1993)
                map.removeLayer(geoJsonLayers.residents_1994)
                map.addLayer(geoJsonLayers.residents_1994)
                map.removeLayer(geoJsonLayers.residents_1995)
                map.addLayer(geoJsonLayers.residents_1995)
                map.removeLayer(geoJsonLayers.residents_1996)
                map.addLayer(geoJsonLayers.residents_1996)
                map.removeLayer(geoJsonLayers.residents_1997)
                map.addLayer(geoJsonLayers.residents_1997)
                map.removeLayer(geoJsonLayers.residents_1998)
                map.addLayer(geoJsonLayers.residents_1998)
                map.removeLayer(geoJsonLayers.residents_1999)
                map.addLayer(geoJsonLayers.residents_1999)
                map.removeLayer(geoJsonLayers.residents_2000)
                map.addLayer(geoJsonLayers.residents_2000)
                map.removeLayer(geoJsonLayers.residents_2002)
                map.addLayer(geoJsonLayers.residents_2002)
                map.removeLayer(geoJsonLayers.residents_2003)
                map.addLayer(geoJsonLayers.residents_2003)
                map.removeLayer(geoJsonLayers.residents_2004)
                map.addLayer(geoJsonLayers.residents_2004)
                map.removeLayer(geoJsonLayers.residents_2005)
                map.addLayer(geoJsonLayers.residents_2005)
                map.removeLayer(geoJsonLayers.residents_2006)
                map.removeLayer(geoJsonLayers.residents_2008)
                map.removeLayer(geoJsonLayers.residents_2009)
                map.removeLayer(geoJsonLayers.residents_2010)
                map.removeLayer(geoJsonLayers.residents_2011)
                map.removeLayer(geoJsonLayers.residents_2013)
                map.removeLayer(geoJsonLayers.residents_2014)

                map.removeLayer(geoJsonLayers.residentsFellows_2006)
                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                map.removeLayer(geoJsonLayers.residentsFellows_2014)

                if(document.getElementById('checkboxCity3').checked) {                  
                    map.addLayer(geoJsonLayers.residents_1971)
                    map.addLayer(geoJsonLayers.residents_1973)
                    map.addLayer(geoJsonLayers.residents_1984)
                    map.addLayer(geoJsonLayers.residents_1989)
                    map.addLayer(geoJsonLayers.residents_1990)
                    map.addLayer(geoJsonLayers.residents_1991)
                    map.addLayer(geoJsonLayers.residents_1992)
                    map.addLayer(geoJsonLayers.residents_1993)
                    map.addLayer(geoJsonLayers.residents_1994)
                    map.addLayer(geoJsonLayers.residents_1995)
                    map.addLayer(geoJsonLayers.residents_1996)
                    map.addLayer(geoJsonLayers.residents_1997)
                    map.addLayer(geoJsonLayers.residents_1998)
                    map.addLayer(geoJsonLayers.residents_1999)
                    map.addLayer(geoJsonLayers.residents_2000)
                    map.addLayer(geoJsonLayers.residents_2002)
                    map.addLayer(geoJsonLayers.residents_2003)
                    map.addLayer(geoJsonLayers.residents_2004)
                    map.addLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)  
                }
                $(".Cities3").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residents_1971)
                        map.addLayer(geoJsonLayers.residents_1973)
                        map.addLayer(geoJsonLayers.residents_1984)
                        map.addLayer(geoJsonLayers.residents_1989)
                        map.addLayer(geoJsonLayers.residents_1990)
                        map.addLayer(geoJsonLayers.residents_1991)
                        map.addLayer(geoJsonLayers.residents_1992)
                        map.addLayer(geoJsonLayers.residents_1993)
                        map.addLayer(geoJsonLayers.residents_1994)
                        map.addLayer(geoJsonLayers.residents_1995)
                        map.addLayer(geoJsonLayers.residents_1996)
                        map.addLayer(geoJsonLayers.residents_1997)
                        map.addLayer(geoJsonLayers.residents_1998)
                        map.addLayer(geoJsonLayers.residents_1999)
                        map.addLayer(geoJsonLayers.residents_2000)
                        map.addLayer(geoJsonLayers.residents_2002)
                        map.addLayer(geoJsonLayers.residents_2003)
                        map.addLayer(geoJsonLayers.residents_2004)
                        map.addLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                    else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                });

                if(document.getElementById('checkboxCity').checked) {
                    map.addLayer(geoJsonLayers.fellows_1978)
                    map.addLayer(geoJsonLayers.fellows_1982)
                    map.addLayer(geoJsonLayers.fellows_1983)
                    map.addLayer(geoJsonLayers.fellows_1985)
                    map.addLayer(geoJsonLayers.fellows_1986)
                    map.addLayer(geoJsonLayers.fellows_1987)
                    map.addLayer(geoJsonLayers.fellows_1988)
                    map.addLayer(geoJsonLayers.fellows_1989)
                    map.addLayer(geoJsonLayers.fellows_1990)
                    map.addLayer(geoJsonLayers.fellows_1991)
                    map.addLayer(geoJsonLayers.fellows_1992)
                    map.addLayer(geoJsonLayers.fellows_1993)
                    map.addLayer(geoJsonLayers.fellows_1994)
                    map.addLayer(geoJsonLayers.fellows_1995)
                    map.addLayer(geoJsonLayers.fellows_1996)
                    map.addLayer(geoJsonLayers.fellows_1997)
                    map.addLayer(geoJsonLayers.fellows_1998)
                    map.addLayer(geoJsonLayers.fellows_1999)
                    map.addLayer(geoJsonLayers.fellows_2000)
                    map.addLayer(geoJsonLayers.fellows_2001)
                    map.addLayer(geoJsonLayers.fellows_2002)
                    map.addLayer(geoJsonLayers.fellows_2003)
                    map.addLayer(geoJsonLayers.fellows_2004)
                    map.addLayer(geoJsonLayers.fellows_2005)
                    map.removeLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)

                } else {
                    console.log("hi")
                }

                $(".Cities").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        
                        map.addLayer(geoJsonLayers.fellows_1978)
                        map.addLayer(geoJsonLayers.fellows_1982)
                        map.addLayer(geoJsonLayers.fellows_1983)
                        map.addLayer(geoJsonLayers.fellows_1985)
                        map.addLayer(geoJsonLayers.fellows_1986)
                        map.addLayer(geoJsonLayers.fellows_1987)
                        map.addLayer(geoJsonLayers.fellows_1988)
                        map.addLayer(geoJsonLayers.fellows_1989)
                        map.addLayer(geoJsonLayers.fellows_1990)
                        map.addLayer(geoJsonLayers.fellows_1991)
                        map.addLayer(geoJsonLayers.fellows_1992)
                        map.addLayer(geoJsonLayers.fellows_1993)
                        map.addLayer(geoJsonLayers.fellows_1994)
                        map.addLayer(geoJsonLayers.fellows_1995)
                        map.addLayer(geoJsonLayers.fellows_1996)
                        map.addLayer(geoJsonLayers.fellows_1997)
                        map.addLayer(geoJsonLayers.fellows_1998)
                        map.addLayer(geoJsonLayers.fellows_1999)
                        map.addLayer(geoJsonLayers.fellows_2000)
                        map.addLayer(geoJsonLayers.fellows_2001)
                        map.addLayer(geoJsonLayers.fellows_2002)
                        map.addLayer(geoJsonLayers.fellows_2003)
                        map.addLayer(geoJsonLayers.fellows_2004)
                        map.addLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1978)
                        map.removeLayer(geoJsonLayers.fellows_1982)
                        map.removeLayer(geoJsonLayers.fellows_1983)
                        map.removeLayer(geoJsonLayers.fellows_1985)
                        map.removeLayer(geoJsonLayers.fellows_1986)
                        map.removeLayer(geoJsonLayers.fellows_1987)
                        map.removeLayer(geoJsonLayers.fellows_1988)
                        map.removeLayer(geoJsonLayers.fellows_1989)
                        map.removeLayer(geoJsonLayers.fellows_1990)
                        map.removeLayer(geoJsonLayers.fellows_1991)
                        map.removeLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    }
                });

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.addLayer(geoJsonLayers.residentsFellows_1995)
                        map.addLayer(geoJsonLayers.residentsFellows_1996)
                        map.addLayer(geoJsonLayers.residentsFellows_1997)
                        map.addLayer(geoJsonLayers.residentsFellows_1998)
                        map.addLayer(geoJsonLayers.residentsFellows_1999)
                        map.addLayer(geoJsonLayers.residentsFellows_2003)
                        map.addLayer(geoJsonLayers.residentsFellows_2004)
                        map.addLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    } else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    }
                });

                 if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.addLayer(geoJsonLayers.residentsFellows_1995)
                    map.addLayer(geoJsonLayers.residentsFellows_1996)
                    map.addLayer(geoJsonLayers.residentsFellows_1997)
                    map.addLayer(geoJsonLayers.residentsFellows_1998)
                    map.addLayer(geoJsonLayers.residentsFellows_1999)
                    map.addLayer(geoJsonLayers.residentsFellows_2003)
                    map.addLayer(geoJsonLayers.residentsFellows_2004)
                    map.addLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                }
            }
            if (index == 2006) {
                map.removeLayer(geoJsonLayers.residents_1971)
                map.addLayer(geoJsonLayers.residents_1971)
                map.removeLayer(geoJsonLayers.residents_1973)
                map.addLayer(geoJsonLayers.residents_1973)
                map.removeLayer(geoJsonLayers.residents_1984)
                map.addLayer(geoJsonLayers.residents_1984)
                map.removeLayer(geoJsonLayers.residents_1989)
                map.addLayer(geoJsonLayers.residents_1989)
                map.removeLayer(geoJsonLayers.residents_1990)
                map.addLayer(geoJsonLayers.residents_1990)
                map.removeLayer(geoJsonLayers.residents_1991)
                map.addLayer(geoJsonLayers.residents_1991)
                map.removeLayer(geoJsonLayers.residents_1992)
                map.addLayer(geoJsonLayers.residents_1992)
                map.removeLayer(geoJsonLayers.residents_1993)
                map.addLayer(geoJsonLayers.residents_1993)
                map.removeLayer(geoJsonLayers.residents_1994)
                map.addLayer(geoJsonLayers.residents_1994)
                map.removeLayer(geoJsonLayers.residents_1995)
                map.addLayer(geoJsonLayers.residents_1995)
                map.removeLayer(geoJsonLayers.residents_1996)
                map.addLayer(geoJsonLayers.residents_1996)
                map.removeLayer(geoJsonLayers.residents_1997)
                map.addLayer(geoJsonLayers.residents_1997)
                map.removeLayer(geoJsonLayers.residents_1998)
                map.addLayer(geoJsonLayers.residents_1998)
                map.removeLayer(geoJsonLayers.residents_1999)
                map.addLayer(geoJsonLayers.residents_1999)
                map.removeLayer(geoJsonLayers.residents_2000)
                map.addLayer(geoJsonLayers.residents_2000)
                map.removeLayer(geoJsonLayers.residents_2002)
                map.addLayer(geoJsonLayers.residents_2002)
                map.removeLayer(geoJsonLayers.residents_2003)
                map.addLayer(geoJsonLayers.residents_2003)
                map.removeLayer(geoJsonLayers.residents_2004)
                map.addLayer(geoJsonLayers.residents_2004)
                map.removeLayer(geoJsonLayers.residents_2005)
                map.addLayer(geoJsonLayers.residents_2005)
                map.removeLayer(geoJsonLayers.residents_2006)
                map.addLayer(geoJsonLayers.residents_2006)
                map.removeLayer(geoJsonLayers.residents_2008)
                map.removeLayer(geoJsonLayers.residents_2009)
                map.removeLayer(geoJsonLayers.residents_2010)
                map.removeLayer(geoJsonLayers.residents_2011)
                map.removeLayer(geoJsonLayers.residents_2013)
                map.removeLayer(geoJsonLayers.residents_2014)


                map.removeLayer(geoJsonLayers.residentsFellows_2007)
                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                map.removeLayer(geoJsonLayers.residentsFellows_2014)

                if(document.getElementById('checkboxCity3').checked) {                  
                    map.addLayer(geoJsonLayers.residents_1971)
                    map.addLayer(geoJsonLayers.residents_1973)
                    map.addLayer(geoJsonLayers.residents_1984)
                    map.addLayer(geoJsonLayers.residents_1989)
                    map.addLayer(geoJsonLayers.residents_1990)
                    map.addLayer(geoJsonLayers.residents_1991)
                    map.addLayer(geoJsonLayers.residents_1992)
                    map.addLayer(geoJsonLayers.residents_1993)
                    map.addLayer(geoJsonLayers.residents_1994)
                    map.addLayer(geoJsonLayers.residents_1995)
                    map.addLayer(geoJsonLayers.residents_1996)
                    map.addLayer(geoJsonLayers.residents_1997)
                    map.addLayer(geoJsonLayers.residents_1998)
                    map.addLayer(geoJsonLayers.residents_1999)
                    map.addLayer(geoJsonLayers.residents_2000)
                    map.addLayer(geoJsonLayers.residents_2002)
                    map.addLayer(geoJsonLayers.residents_2003)
                    map.addLayer(geoJsonLayers.residents_2004)
                    map.addLayer(geoJsonLayers.residents_2005)
                    map.addLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)  
                }
                $(".Cities3").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residents_1971)
                        map.addLayer(geoJsonLayers.residents_1973)
                        map.addLayer(geoJsonLayers.residents_1984)
                        map.addLayer(geoJsonLayers.residents_1989)
                        map.addLayer(geoJsonLayers.residents_1990)
                        map.addLayer(geoJsonLayers.residents_1991)
                        map.addLayer(geoJsonLayers.residents_1992)
                        map.addLayer(geoJsonLayers.residents_1993)
                        map.addLayer(geoJsonLayers.residents_1994)
                        map.addLayer(geoJsonLayers.residents_1995)
                        map.addLayer(geoJsonLayers.residents_1996)
                        map.addLayer(geoJsonLayers.residents_1997)
                        map.addLayer(geoJsonLayers.residents_1998)
                        map.addLayer(geoJsonLayers.residents_1999)
                        map.addLayer(geoJsonLayers.residents_2000)
                        map.addLayer(geoJsonLayers.residents_2002)
                        map.addLayer(geoJsonLayers.residents_2003)
                        map.addLayer(geoJsonLayers.residents_2004)
                        map.addLayer(geoJsonLayers.residents_2005)
                        map.addLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                    else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                });

                if(document.getElementById('checkboxCity').checked) {
                    map.addLayer(geoJsonLayers.fellows_1978)
                    map.addLayer(geoJsonLayers.fellows_1982)
                    map.addLayer(geoJsonLayers.fellows_1983)
                    map.addLayer(geoJsonLayers.fellows_1985)
                    map.addLayer(geoJsonLayers.fellows_1986)
                    map.addLayer(geoJsonLayers.fellows_1987)
                    map.addLayer(geoJsonLayers.fellows_1988)
                    map.addLayer(geoJsonLayers.fellows_1989)
                    map.addLayer(geoJsonLayers.fellows_1990)
                    map.addLayer(geoJsonLayers.fellows_1991)
                    map.addLayer(geoJsonLayers.fellows_1992)
                    map.addLayer(geoJsonLayers.fellows_1993)
                    map.addLayer(geoJsonLayers.fellows_1994)
                    map.addLayer(geoJsonLayers.fellows_1995)
                    map.addLayer(geoJsonLayers.fellows_1996)
                    map.addLayer(geoJsonLayers.fellows_1997)
                    map.addLayer(geoJsonLayers.fellows_1998)
                    map.addLayer(geoJsonLayers.fellows_1999)
                    map.addLayer(geoJsonLayers.fellows_2000)
                    map.addLayer(geoJsonLayers.fellows_2001)
                    map.addLayer(geoJsonLayers.fellows_2002)
                    map.addLayer(geoJsonLayers.fellows_2003)
                    map.addLayer(geoJsonLayers.fellows_2004)
                    map.addLayer(geoJsonLayers.fellows_2005)
                    map.addLayer(geoJsonLayers.fellows_2006)
                    map.removeLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)

                } else {
                    console.log("hi")
                }

                $(".Cities").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        
                        map.addLayer(geoJsonLayers.fellows_1978)
                        map.addLayer(geoJsonLayers.fellows_1982)
                        map.addLayer(geoJsonLayers.fellows_1983)
                        map.addLayer(geoJsonLayers.fellows_1985)
                        map.addLayer(geoJsonLayers.fellows_1986)
                        map.addLayer(geoJsonLayers.fellows_1987)
                        map.addLayer(geoJsonLayers.fellows_1988)
                        map.addLayer(geoJsonLayers.fellows_1989)
                        map.addLayer(geoJsonLayers.fellows_1990)
                        map.addLayer(geoJsonLayers.fellows_1991)
                        map.addLayer(geoJsonLayers.fellows_1992)
                        map.addLayer(geoJsonLayers.fellows_1993)
                        map.addLayer(geoJsonLayers.fellows_1994)
                        map.addLayer(geoJsonLayers.fellows_1995)
                        map.addLayer(geoJsonLayers.fellows_1996)
                        map.addLayer(geoJsonLayers.fellows_1997)
                        map.addLayer(geoJsonLayers.fellows_1998)
                        map.addLayer(geoJsonLayers.fellows_1999)
                        map.addLayer(geoJsonLayers.fellows_2000)
                        map.addLayer(geoJsonLayers.fellows_2001)
                        map.addLayer(geoJsonLayers.fellows_2002)
                        map.addLayer(geoJsonLayers.fellows_2003)
                        map.addLayer(geoJsonLayers.fellows_2004)
                        map.addLayer(geoJsonLayers.fellows_2005)
                        map.addLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1978)
                        map.removeLayer(geoJsonLayers.fellows_1982)
                        map.removeLayer(geoJsonLayers.fellows_1983)
                        map.removeLayer(geoJsonLayers.fellows_1985)
                        map.removeLayer(geoJsonLayers.fellows_1986)
                        map.removeLayer(geoJsonLayers.fellows_1987)
                        map.removeLayer(geoJsonLayers.fellows_1988)
                        map.removeLayer(geoJsonLayers.fellows_1989)
                        map.removeLayer(geoJsonLayers.fellows_1990)
                        map.removeLayer(geoJsonLayers.fellows_1991)
                        map.removeLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    }
                });

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.addLayer(geoJsonLayers.residentsFellows_1995)
                        map.addLayer(geoJsonLayers.residentsFellows_1996)
                        map.addLayer(geoJsonLayers.residentsFellows_1997)
                        map.addLayer(geoJsonLayers.residentsFellows_1998)
                        map.addLayer(geoJsonLayers.residentsFellows_1999)
                        map.addLayer(geoJsonLayers.residentsFellows_2003)
                        map.addLayer(geoJsonLayers.residentsFellows_2004)
                        map.addLayer(geoJsonLayers.residentsFellows_2005)
                        map.addLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    } else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    }
                });

                 if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.addLayer(geoJsonLayers.residentsFellows_1995)
                    map.addLayer(geoJsonLayers.residentsFellows_1996)
                    map.addLayer(geoJsonLayers.residentsFellows_1997)
                    map.addLayer(geoJsonLayers.residentsFellows_1998)
                    map.addLayer(geoJsonLayers.residentsFellows_1999)
                    map.addLayer(geoJsonLayers.residentsFellows_2003)
                    map.addLayer(geoJsonLayers.residentsFellows_2004)
                    map.addLayer(geoJsonLayers.residentsFellows_2005)
                    map.addLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                }
            }
            if (index == 2007) {
                map.removeLayer(geoJsonLayers.residents_1971)
                map.addLayer(geoJsonLayers.residents_1971)
                map.removeLayer(geoJsonLayers.residents_1973)
                map.addLayer(geoJsonLayers.residents_1973)
                map.removeLayer(geoJsonLayers.residents_1984)
                map.addLayer(geoJsonLayers.residents_1984)
                map.removeLayer(geoJsonLayers.residents_1989)
                map.addLayer(geoJsonLayers.residents_1989)
                map.removeLayer(geoJsonLayers.residents_1990)
                map.addLayer(geoJsonLayers.residents_1990)
                map.removeLayer(geoJsonLayers.residents_1991)
                map.addLayer(geoJsonLayers.residents_1991)
                map.removeLayer(geoJsonLayers.residents_1992)
                map.addLayer(geoJsonLayers.residents_1992)
                map.removeLayer(geoJsonLayers.residents_1993)
                map.addLayer(geoJsonLayers.residents_1993)
                map.removeLayer(geoJsonLayers.residents_1994)
                map.addLayer(geoJsonLayers.residents_1994)
                map.removeLayer(geoJsonLayers.residents_1995)
                map.addLayer(geoJsonLayers.residents_1995)
                map.removeLayer(geoJsonLayers.residents_1996)
                map.addLayer(geoJsonLayers.residents_1996)
                map.removeLayer(geoJsonLayers.residents_1997)
                map.addLayer(geoJsonLayers.residents_1997)
                map.removeLayer(geoJsonLayers.residents_1998)
                map.addLayer(geoJsonLayers.residents_1998)
                map.removeLayer(geoJsonLayers.residents_1999)
                map.addLayer(geoJsonLayers.residents_1999)
                map.removeLayer(geoJsonLayers.residents_2000)
                map.addLayer(geoJsonLayers.residents_2000)
                map.removeLayer(geoJsonLayers.residents_2002)
                map.addLayer(geoJsonLayers.residents_2002)
                map.removeLayer(geoJsonLayers.residents_2003)
                map.addLayer(geoJsonLayers.residents_2003)
                map.removeLayer(geoJsonLayers.residents_2004)
                map.addLayer(geoJsonLayers.residents_2004)
                map.removeLayer(geoJsonLayers.residents_2005)
                map.addLayer(geoJsonLayers.residents_2005)
                map.removeLayer(geoJsonLayers.residents_2006)
                map.addLayer(geoJsonLayers.residents_2006)
                map.removeLayer(geoJsonLayers.residents_2008)
                map.removeLayer(geoJsonLayers.residents_2009)
                map.removeLayer(geoJsonLayers.residents_2010)
                map.removeLayer(geoJsonLayers.residents_2011)
                map.removeLayer(geoJsonLayers.residents_2013)
                map.removeLayer(geoJsonLayers.residents_2014)


                map.removeLayer(geoJsonLayers.residentsFellows_2008)
                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                map.removeLayer(geoJsonLayers.residentsFellows_2014)

                if(document.getElementById('checkboxCity3').checked) {                  
                    map.addLayer(geoJsonLayers.residents_1971)
                    map.addLayer(geoJsonLayers.residents_1973)
                    map.addLayer(geoJsonLayers.residents_1984)
                    map.addLayer(geoJsonLayers.residents_1989)
                    map.addLayer(geoJsonLayers.residents_1990)
                    map.addLayer(geoJsonLayers.residents_1991)
                    map.addLayer(geoJsonLayers.residents_1992)
                    map.addLayer(geoJsonLayers.residents_1993)
                    map.addLayer(geoJsonLayers.residents_1994)
                    map.addLayer(geoJsonLayers.residents_1995)
                    map.addLayer(geoJsonLayers.residents_1996)
                    map.addLayer(geoJsonLayers.residents_1997)
                    map.addLayer(geoJsonLayers.residents_1998)
                    map.addLayer(geoJsonLayers.residents_1999)
                    map.addLayer(geoJsonLayers.residents_2000)
                    map.addLayer(geoJsonLayers.residents_2002)
                    map.addLayer(geoJsonLayers.residents_2003)
                    map.addLayer(geoJsonLayers.residents_2004)
                    map.addLayer(geoJsonLayers.residents_2005)
                    map.addLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)  
                }
                $(".Cities3").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residents_1971)
                        map.addLayer(geoJsonLayers.residents_1973)
                        map.addLayer(geoJsonLayers.residents_1984)
                        map.addLayer(geoJsonLayers.residents_1989)
                        map.addLayer(geoJsonLayers.residents_1990)
                        map.addLayer(geoJsonLayers.residents_1991)
                        map.addLayer(geoJsonLayers.residents_1992)
                        map.addLayer(geoJsonLayers.residents_1993)
                        map.addLayer(geoJsonLayers.residents_1994)
                        map.addLayer(geoJsonLayers.residents_1995)
                        map.addLayer(geoJsonLayers.residents_1996)
                        map.addLayer(geoJsonLayers.residents_1997)
                        map.addLayer(geoJsonLayers.residents_1998)
                        map.addLayer(geoJsonLayers.residents_1999)
                        map.addLayer(geoJsonLayers.residents_2000)
                        map.addLayer(geoJsonLayers.residents_2002)
                        map.addLayer(geoJsonLayers.residents_2003)
                        map.addLayer(geoJsonLayers.residents_2004)
                        map.addLayer(geoJsonLayers.residents_2005)
                        map.addLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                    else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                });

                if(document.getElementById('checkboxCity').checked) {
                    map.addLayer(geoJsonLayers.fellows_1978)
                    map.addLayer(geoJsonLayers.fellows_1982)
                    map.addLayer(geoJsonLayers.fellows_1983)
                    map.addLayer(geoJsonLayers.fellows_1985)
                    map.addLayer(geoJsonLayers.fellows_1986)
                    map.addLayer(geoJsonLayers.fellows_1987)
                    map.addLayer(geoJsonLayers.fellows_1988)
                    map.addLayer(geoJsonLayers.fellows_1989)
                    map.addLayer(geoJsonLayers.fellows_1990)
                    map.addLayer(geoJsonLayers.fellows_1991)
                    map.addLayer(geoJsonLayers.fellows_1992)
                    map.addLayer(geoJsonLayers.fellows_1993)
                    map.addLayer(geoJsonLayers.fellows_1994)
                    map.addLayer(geoJsonLayers.fellows_1995)
                    map.addLayer(geoJsonLayers.fellows_1996)
                    map.addLayer(geoJsonLayers.fellows_1997)
                    map.addLayer(geoJsonLayers.fellows_1998)
                    map.addLayer(geoJsonLayers.fellows_1999)
                    map.addLayer(geoJsonLayers.fellows_2000)
                    map.addLayer(geoJsonLayers.fellows_2001)
                    map.addLayer(geoJsonLayers.fellows_2002)
                    map.addLayer(geoJsonLayers.fellows_2003)
                    map.addLayer(geoJsonLayers.fellows_2004)
                    map.addLayer(geoJsonLayers.fellows_2005)
                    map.addLayer(geoJsonLayers.fellows_2006)
                    map.addLayer(geoJsonLayers.fellows_2007)
                    map.removeLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)

                } else {
                    console.log("hi")
                }

                $(".Cities").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        
                        map.addLayer(geoJsonLayers.fellows_1978)
                        map.addLayer(geoJsonLayers.fellows_1982)
                        map.addLayer(geoJsonLayers.fellows_1983)
                        map.addLayer(geoJsonLayers.fellows_1985)
                        map.addLayer(geoJsonLayers.fellows_1986)
                        map.addLayer(geoJsonLayers.fellows_1987)
                        map.addLayer(geoJsonLayers.fellows_1988)
                        map.addLayer(geoJsonLayers.fellows_1989)
                        map.addLayer(geoJsonLayers.fellows_1990)
                        map.addLayer(geoJsonLayers.fellows_1991)
                        map.addLayer(geoJsonLayers.fellows_1992)
                        map.addLayer(geoJsonLayers.fellows_1993)
                        map.addLayer(geoJsonLayers.fellows_1994)
                        map.addLayer(geoJsonLayers.fellows_1995)
                        map.addLayer(geoJsonLayers.fellows_1996)
                        map.addLayer(geoJsonLayers.fellows_1997)
                        map.addLayer(geoJsonLayers.fellows_1998)
                        map.addLayer(geoJsonLayers.fellows_1999)
                        map.addLayer(geoJsonLayers.fellows_2000)
                        map.addLayer(geoJsonLayers.fellows_2001)
                        map.addLayer(geoJsonLayers.fellows_2002)
                        map.addLayer(geoJsonLayers.fellows_2003)
                        map.addLayer(geoJsonLayers.fellows_2004)
                        map.addLayer(geoJsonLayers.fellows_2005)
                        map.addLayer(geoJsonLayers.fellows_2006)
                        map.addLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1978)
                        map.removeLayer(geoJsonLayers.fellows_1982)
                        map.removeLayer(geoJsonLayers.fellows_1983)
                        map.removeLayer(geoJsonLayers.fellows_1985)
                        map.removeLayer(geoJsonLayers.fellows_1986)
                        map.removeLayer(geoJsonLayers.fellows_1987)
                        map.removeLayer(geoJsonLayers.fellows_1988)
                        map.removeLayer(geoJsonLayers.fellows_1989)
                        map.removeLayer(geoJsonLayers.fellows_1990)
                        map.removeLayer(geoJsonLayers.fellows_1991)
                        map.removeLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    }
                });

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.addLayer(geoJsonLayers.residentsFellows_1995)
                        map.addLayer(geoJsonLayers.residentsFellows_1996)
                        map.addLayer(geoJsonLayers.residentsFellows_1997)
                        map.addLayer(geoJsonLayers.residentsFellows_1998)
                        map.addLayer(geoJsonLayers.residentsFellows_1999)
                        map.addLayer(geoJsonLayers.residentsFellows_2003)
                        map.addLayer(geoJsonLayers.residentsFellows_2004)
                        map.addLayer(geoJsonLayers.residentsFellows_2005)
                        map.addLayer(geoJsonLayers.residentsFellows_2006)
                        map.addLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    } else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    }
                });

                 if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.addLayer(geoJsonLayers.residentsFellows_1995)
                    map.addLayer(geoJsonLayers.residentsFellows_1996)
                    map.addLayer(geoJsonLayers.residentsFellows_1997)
                    map.addLayer(geoJsonLayers.residentsFellows_1998)
                    map.addLayer(geoJsonLayers.residentsFellows_1999)
                    map.addLayer(geoJsonLayers.residentsFellows_2003)
                    map.addLayer(geoJsonLayers.residentsFellows_2004)
                    map.addLayer(geoJsonLayers.residentsFellows_2005)
                    map.addLayer(geoJsonLayers.residentsFellows_2006)
                    map.addLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                }
            }
            if (index == 2008) {
                map.removeLayer(geoJsonLayers.residents_1971)
                map.addLayer(geoJsonLayers.residents_1971)
                map.removeLayer(geoJsonLayers.residents_1973)
                map.addLayer(geoJsonLayers.residents_1973)
                map.removeLayer(geoJsonLayers.residents_1984)
                map.addLayer(geoJsonLayers.residents_1984)
                map.removeLayer(geoJsonLayers.residents_1989)
                map.addLayer(geoJsonLayers.residents_1989)
                map.removeLayer(geoJsonLayers.residents_1990)
                map.addLayer(geoJsonLayers.residents_1990)
                map.removeLayer(geoJsonLayers.residents_1991)
                map.addLayer(geoJsonLayers.residents_1991)
                map.removeLayer(geoJsonLayers.residents_1992)
                map.addLayer(geoJsonLayers.residents_1992)
                map.removeLayer(geoJsonLayers.residents_1993)
                map.addLayer(geoJsonLayers.residents_1993)
                map.removeLayer(geoJsonLayers.residents_1994)
                map.addLayer(geoJsonLayers.residents_1994)
                map.removeLayer(geoJsonLayers.residents_1995)
                map.addLayer(geoJsonLayers.residents_1995)
                map.removeLayer(geoJsonLayers.residents_1996)
                map.addLayer(geoJsonLayers.residents_1996)
                map.removeLayer(geoJsonLayers.residents_1997)
                map.addLayer(geoJsonLayers.residents_1997)
                map.removeLayer(geoJsonLayers.residents_1998)
                map.addLayer(geoJsonLayers.residents_1998)
                map.removeLayer(geoJsonLayers.residents_1999)
                map.addLayer(geoJsonLayers.residents_1999)
                map.removeLayer(geoJsonLayers.residents_2000)
                map.addLayer(geoJsonLayers.residents_2000)
                map.removeLayer(geoJsonLayers.residents_2002)
                map.addLayer(geoJsonLayers.residents_2002)
                map.removeLayer(geoJsonLayers.residents_2003)
                map.addLayer(geoJsonLayers.residents_2003)
                map.removeLayer(geoJsonLayers.residents_2004)
                map.addLayer(geoJsonLayers.residents_2004)
                map.removeLayer(geoJsonLayers.residents_2005)
                map.addLayer(geoJsonLayers.residents_2005)
                map.removeLayer(geoJsonLayers.residents_2006)
                map.addLayer(geoJsonLayers.residents_2006)
                map.removeLayer(geoJsonLayers.residents_2008)
                map.addLayer(geoJsonLayers.residents_2008)
                map.removeLayer(geoJsonLayers.residents_2009)
                map.removeLayer(geoJsonLayers.residents_2010)
                map.removeLayer(geoJsonLayers.residents_2011)
                map.removeLayer(geoJsonLayers.residents_2013)
                map.removeLayer(geoJsonLayers.residents_2014)


                map.removeLayer(geoJsonLayers.residentsFellows_2009)
                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                map.removeLayer(geoJsonLayers.residentsFellows_2014)

                if(document.getElementById('checkboxCity3').checked) {                  
                    map.addLayer(geoJsonLayers.residents_1971)
                    map.addLayer(geoJsonLayers.residents_1973)
                    map.addLayer(geoJsonLayers.residents_1984)
                    map.addLayer(geoJsonLayers.residents_1989)
                    map.addLayer(geoJsonLayers.residents_1990)
                    map.addLayer(geoJsonLayers.residents_1991)
                    map.addLayer(geoJsonLayers.residents_1992)
                    map.addLayer(geoJsonLayers.residents_1993)
                    map.addLayer(geoJsonLayers.residents_1994)
                    map.addLayer(geoJsonLayers.residents_1995)
                    map.addLayer(geoJsonLayers.residents_1996)
                    map.addLayer(geoJsonLayers.residents_1997)
                    map.addLayer(geoJsonLayers.residents_1998)
                    map.addLayer(geoJsonLayers.residents_1999)
                    map.addLayer(geoJsonLayers.residents_2000)
                    map.addLayer(geoJsonLayers.residents_2002)
                    map.addLayer(geoJsonLayers.residents_2003)
                    map.addLayer(geoJsonLayers.residents_2004)
                    map.addLayer(geoJsonLayers.residents_2005)
                    map.addLayer(geoJsonLayers.residents_2006)
                    map.addLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)  
                }
                $(".Cities3").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residents_1971)
                        map.addLayer(geoJsonLayers.residents_1973)
                        map.addLayer(geoJsonLayers.residents_1984)
                        map.addLayer(geoJsonLayers.residents_1989)
                        map.addLayer(geoJsonLayers.residents_1990)
                        map.addLayer(geoJsonLayers.residents_1991)
                        map.addLayer(geoJsonLayers.residents_1992)
                        map.addLayer(geoJsonLayers.residents_1993)
                        map.addLayer(geoJsonLayers.residents_1994)
                        map.addLayer(geoJsonLayers.residents_1995)
                        map.addLayer(geoJsonLayers.residents_1996)
                        map.addLayer(geoJsonLayers.residents_1997)
                        map.addLayer(geoJsonLayers.residents_1998)
                        map.addLayer(geoJsonLayers.residents_1999)
                        map.addLayer(geoJsonLayers.residents_2000)
                        map.addLayer(geoJsonLayers.residents_2002)
                        map.addLayer(geoJsonLayers.residents_2003)
                        map.addLayer(geoJsonLayers.residents_2004)
                        map.addLayer(geoJsonLayers.residents_2005)
                        map.addLayer(geoJsonLayers.residents_2006)
                        map.addLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                    else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                });

                 if(document.getElementById('checkboxCity').checked) {
                    map.addLayer(geoJsonLayers.fellows_1978)
                    map.addLayer(geoJsonLayers.fellows_1982)
                    map.addLayer(geoJsonLayers.fellows_1983)
                    map.addLayer(geoJsonLayers.fellows_1985)
                    map.addLayer(geoJsonLayers.fellows_1986)
                    map.addLayer(geoJsonLayers.fellows_1987)
                    map.addLayer(geoJsonLayers.fellows_1988)
                    map.addLayer(geoJsonLayers.fellows_1989)
                    map.addLayer(geoJsonLayers.fellows_1990)
                    map.addLayer(geoJsonLayers.fellows_1991)
                    map.addLayer(geoJsonLayers.fellows_1992)
                    map.addLayer(geoJsonLayers.fellows_1993)
                    map.addLayer(geoJsonLayers.fellows_1994)
                    map.addLayer(geoJsonLayers.fellows_1995)
                    map.addLayer(geoJsonLayers.fellows_1996)
                    map.addLayer(geoJsonLayers.fellows_1997)
                    map.addLayer(geoJsonLayers.fellows_1998)
                    map.addLayer(geoJsonLayers.fellows_1999)
                    map.addLayer(geoJsonLayers.fellows_2000)
                    map.addLayer(geoJsonLayers.fellows_2001)
                    map.addLayer(geoJsonLayers.fellows_2002)
                    map.addLayer(geoJsonLayers.fellows_2003)
                    map.addLayer(geoJsonLayers.fellows_2004)
                    map.addLayer(geoJsonLayers.fellows_2005)
                    map.addLayer(geoJsonLayers.fellows_2006)
                    map.addLayer(geoJsonLayers.fellows_2007)
                    map.addLayer(geoJsonLayers.fellows_2008)
                    map.removeLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)

                } else {
                    console.log("hi")
                }

                $(".Cities").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        
                        map.addLayer(geoJsonLayers.fellows_1978)
                        map.addLayer(geoJsonLayers.fellows_1982)
                        map.addLayer(geoJsonLayers.fellows_1983)
                        map.addLayer(geoJsonLayers.fellows_1985)
                        map.addLayer(geoJsonLayers.fellows_1986)
                        map.addLayer(geoJsonLayers.fellows_1987)
                        map.addLayer(geoJsonLayers.fellows_1988)
                        map.addLayer(geoJsonLayers.fellows_1989)
                        map.addLayer(geoJsonLayers.fellows_1990)
                        map.addLayer(geoJsonLayers.fellows_1991)
                        map.addLayer(geoJsonLayers.fellows_1992)
                        map.addLayer(geoJsonLayers.fellows_1993)
                        map.addLayer(geoJsonLayers.fellows_1994)
                        map.addLayer(geoJsonLayers.fellows_1995)
                        map.addLayer(geoJsonLayers.fellows_1996)
                        map.addLayer(geoJsonLayers.fellows_1997)
                        map.addLayer(geoJsonLayers.fellows_1998)
                        map.addLayer(geoJsonLayers.fellows_1999)
                        map.addLayer(geoJsonLayers.fellows_2000)
                        map.addLayer(geoJsonLayers.fellows_2001)
                        map.addLayer(geoJsonLayers.fellows_2002)
                        map.addLayer(geoJsonLayers.fellows_2003)
                        map.addLayer(geoJsonLayers.fellows_2004)
                        map.addLayer(geoJsonLayers.fellows_2005)
                        map.addLayer(geoJsonLayers.fellows_2006)
                        map.addLayer(geoJsonLayers.fellows_2007)
                        map.addLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1978)
                        map.removeLayer(geoJsonLayers.fellows_1982)
                        map.removeLayer(geoJsonLayers.fellows_1983)
                        map.removeLayer(geoJsonLayers.fellows_1985)
                        map.removeLayer(geoJsonLayers.fellows_1986)
                        map.removeLayer(geoJsonLayers.fellows_1987)
                        map.removeLayer(geoJsonLayers.fellows_1988)
                        map.removeLayer(geoJsonLayers.fellows_1989)
                        map.removeLayer(geoJsonLayers.fellows_1990)
                        map.removeLayer(geoJsonLayers.fellows_1991)
                        map.removeLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    }
                });

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.addLayer(geoJsonLayers.residentsFellows_1995)
                        map.addLayer(geoJsonLayers.residentsFellows_1996)
                        map.addLayer(geoJsonLayers.residentsFellows_1997)
                        map.addLayer(geoJsonLayers.residentsFellows_1998)
                        map.addLayer(geoJsonLayers.residentsFellows_1999)
                        map.addLayer(geoJsonLayers.residentsFellows_2003)
                        map.addLayer(geoJsonLayers.residentsFellows_2004)
                        map.addLayer(geoJsonLayers.residentsFellows_2005)
                        map.addLayer(geoJsonLayers.residentsFellows_2006)
                        map.addLayer(geoJsonLayers.residentsFellows_2007)
                        map.addLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    } else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    }
                });

                 if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.addLayer(geoJsonLayers.residentsFellows_1995)
                    map.addLayer(geoJsonLayers.residentsFellows_1996)
                    map.addLayer(geoJsonLayers.residentsFellows_1997)
                    map.addLayer(geoJsonLayers.residentsFellows_1998)
                    map.addLayer(geoJsonLayers.residentsFellows_1999)
                    map.addLayer(geoJsonLayers.residentsFellows_2003)
                    map.addLayer(geoJsonLayers.residentsFellows_2004)
                    map.addLayer(geoJsonLayers.residentsFellows_2005)
                    map.addLayer(geoJsonLayers.residentsFellows_2006)
                    map.addLayer(geoJsonLayers.residentsFellows_2007)
                    map.addLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                }
            }
            if (index == 2009) {
                map.removeLayer(geoJsonLayers.residents_1971)
                map.addLayer(geoJsonLayers.residents_1971)
                map.removeLayer(geoJsonLayers.residents_1973)
                map.addLayer(geoJsonLayers.residents_1973)
                map.removeLayer(geoJsonLayers.residents_1984)
                map.addLayer(geoJsonLayers.residents_1984)
                map.removeLayer(geoJsonLayers.residents_1989)
                map.addLayer(geoJsonLayers.residents_1989)
                map.removeLayer(geoJsonLayers.residents_1990)
                map.addLayer(geoJsonLayers.residents_1990)
                map.removeLayer(geoJsonLayers.residents_1991)
                map.addLayer(geoJsonLayers.residents_1991)
                map.removeLayer(geoJsonLayers.residents_1992)
                map.addLayer(geoJsonLayers.residents_1992)
                map.removeLayer(geoJsonLayers.residents_1993)
                map.addLayer(geoJsonLayers.residents_1993)
                map.removeLayer(geoJsonLayers.residents_1994)
                map.addLayer(geoJsonLayers.residents_1994)
                map.removeLayer(geoJsonLayers.residents_1995)
                map.addLayer(geoJsonLayers.residents_1995)
                map.removeLayer(geoJsonLayers.residents_1996)
                map.addLayer(geoJsonLayers.residents_1996)
                map.removeLayer(geoJsonLayers.residents_1997)
                map.addLayer(geoJsonLayers.residents_1997)
                map.removeLayer(geoJsonLayers.residents_1998)
                map.addLayer(geoJsonLayers.residents_1998)
                map.removeLayer(geoJsonLayers.residents_1999)
                map.addLayer(geoJsonLayers.residents_1999)
                map.removeLayer(geoJsonLayers.residents_2000)
                map.addLayer(geoJsonLayers.residents_2000)
                map.removeLayer(geoJsonLayers.residents_2002)
                map.addLayer(geoJsonLayers.residents_2002)
                map.removeLayer(geoJsonLayers.residents_2003)
                map.addLayer(geoJsonLayers.residents_2003)
                map.removeLayer(geoJsonLayers.residents_2004)
                map.addLayer(geoJsonLayers.residents_2004)
                map.removeLayer(geoJsonLayers.residents_2005)
                map.addLayer(geoJsonLayers.residents_2005)
                map.removeLayer(geoJsonLayers.residents_2006)
                map.addLayer(geoJsonLayers.residents_2006)
                map.removeLayer(geoJsonLayers.residents_2008)
                map.addLayer(geoJsonLayers.residents_2008)
                map.removeLayer(geoJsonLayers.residents_2009)
                map.addLayer(geoJsonLayers.residents_2009)
                map.removeLayer(geoJsonLayers.residents_2010)
                map.removeLayer(geoJsonLayers.residents_2011)
                map.removeLayer(geoJsonLayers.residents_2013)
                map.removeLayer(geoJsonLayers.residents_2014)


                map.removeLayer(geoJsonLayers.residentsFellows_2010)
                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                map.removeLayer(geoJsonLayers.residentsFellows_2014)

                if(document.getElementById('checkboxCity3').checked) {                  
                    map.addLayer(geoJsonLayers.residents_1971)
                    map.addLayer(geoJsonLayers.residents_1973)
                    map.addLayer(geoJsonLayers.residents_1984)
                    map.addLayer(geoJsonLayers.residents_1989)
                    map.addLayer(geoJsonLayers.residents_1990)
                    map.addLayer(geoJsonLayers.residents_1991)
                    map.addLayer(geoJsonLayers.residents_1992)
                    map.addLayer(geoJsonLayers.residents_1993)
                    map.addLayer(geoJsonLayers.residents_1994)
                    map.addLayer(geoJsonLayers.residents_1995)
                    map.addLayer(geoJsonLayers.residents_1996)
                    map.addLayer(geoJsonLayers.residents_1997)
                    map.addLayer(geoJsonLayers.residents_1998)
                    map.addLayer(geoJsonLayers.residents_1999)
                    map.addLayer(geoJsonLayers.residents_2000)
                    map.addLayer(geoJsonLayers.residents_2002)
                    map.addLayer(geoJsonLayers.residents_2003)
                    map.addLayer(geoJsonLayers.residents_2004)
                    map.addLayer(geoJsonLayers.residents_2005)
                    map.addLayer(geoJsonLayers.residents_2006)
                    map.addLayer(geoJsonLayers.residents_2008)
                    map.addLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)  
                }
                $(".Cities3").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residents_1971)
                        map.addLayer(geoJsonLayers.residents_1973)
                        map.addLayer(geoJsonLayers.residents_1984)
                        map.addLayer(geoJsonLayers.residents_1989)
                        map.addLayer(geoJsonLayers.residents_1990)
                        map.addLayer(geoJsonLayers.residents_1991)
                        map.addLayer(geoJsonLayers.residents_1992)
                        map.addLayer(geoJsonLayers.residents_1993)
                        map.addLayer(geoJsonLayers.residents_1994)
                        map.addLayer(geoJsonLayers.residents_1995)
                        map.addLayer(geoJsonLayers.residents_1996)
                        map.addLayer(geoJsonLayers.residents_1997)
                        map.addLayer(geoJsonLayers.residents_1998)
                        map.addLayer(geoJsonLayers.residents_1999)
                        map.addLayer(geoJsonLayers.residents_2000)
                        map.addLayer(geoJsonLayers.residents_2002)
                        map.addLayer(geoJsonLayers.residents_2003)
                        map.addLayer(geoJsonLayers.residents_2004)
                        map.addLayer(geoJsonLayers.residents_2005)
                        map.addLayer(geoJsonLayers.residents_2006)
                        map.addLayer(geoJsonLayers.residents_2008)
                        map.addLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                    else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                });

                if(document.getElementById('checkboxCity').checked) {
                    map.addLayer(geoJsonLayers.fellows_1978)
                    map.addLayer(geoJsonLayers.fellows_1982)
                    map.addLayer(geoJsonLayers.fellows_1983)
                    map.addLayer(geoJsonLayers.fellows_1985)
                    map.addLayer(geoJsonLayers.fellows_1986)
                    map.addLayer(geoJsonLayers.fellows_1987)
                    map.addLayer(geoJsonLayers.fellows_1988)
                    map.addLayer(geoJsonLayers.fellows_1989)
                    map.addLayer(geoJsonLayers.fellows_1990)
                    map.addLayer(geoJsonLayers.fellows_1991)
                    map.addLayer(geoJsonLayers.fellows_1992)
                    map.addLayer(geoJsonLayers.fellows_1993)
                    map.addLayer(geoJsonLayers.fellows_1994)
                    map.addLayer(geoJsonLayers.fellows_1995)
                    map.addLayer(geoJsonLayers.fellows_1996)
                    map.addLayer(geoJsonLayers.fellows_1997)
                    map.addLayer(geoJsonLayers.fellows_1998)
                    map.addLayer(geoJsonLayers.fellows_1999)
                    map.addLayer(geoJsonLayers.fellows_2000)
                    map.addLayer(geoJsonLayers.fellows_2001)
                    map.addLayer(geoJsonLayers.fellows_2002)
                    map.addLayer(geoJsonLayers.fellows_2003)
                    map.addLayer(geoJsonLayers.fellows_2004)
                    map.addLayer(geoJsonLayers.fellows_2005)
                    map.addLayer(geoJsonLayers.fellows_2006)
                    map.addLayer(geoJsonLayers.fellows_2007)
                    map.addLayer(geoJsonLayers.fellows_2008)
                    map.addLayer(geoJsonLayers.fellows_2009)
                    map.removeLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)

                } else {
                    console.log("hi")
                }

                $(".Cities").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        
                        map.addLayer(geoJsonLayers.fellows_1978)
                        map.addLayer(geoJsonLayers.fellows_1982)
                        map.addLayer(geoJsonLayers.fellows_1983)
                        map.addLayer(geoJsonLayers.fellows_1985)
                        map.addLayer(geoJsonLayers.fellows_1986)
                        map.addLayer(geoJsonLayers.fellows_1987)
                        map.addLayer(geoJsonLayers.fellows_1988)
                        map.addLayer(geoJsonLayers.fellows_1989)
                        map.addLayer(geoJsonLayers.fellows_1990)
                        map.addLayer(geoJsonLayers.fellows_1991)
                        map.addLayer(geoJsonLayers.fellows_1992)
                        map.addLayer(geoJsonLayers.fellows_1993)
                        map.addLayer(geoJsonLayers.fellows_1994)
                        map.addLayer(geoJsonLayers.fellows_1995)
                        map.addLayer(geoJsonLayers.fellows_1996)
                        map.addLayer(geoJsonLayers.fellows_1997)
                        map.addLayer(geoJsonLayers.fellows_1998)
                        map.addLayer(geoJsonLayers.fellows_1999)
                        map.addLayer(geoJsonLayers.fellows_2000)
                        map.addLayer(geoJsonLayers.fellows_2001)
                        map.addLayer(geoJsonLayers.fellows_2002)
                        map.addLayer(geoJsonLayers.fellows_2003)
                        map.addLayer(geoJsonLayers.fellows_2004)
                        map.addLayer(geoJsonLayers.fellows_2005)
                        map.addLayer(geoJsonLayers.fellows_2006)
                        map.addLayer(geoJsonLayers.fellows_2007)
                        map.addLayer(geoJsonLayers.fellows_2008)
                        map.addLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1978)
                        map.removeLayer(geoJsonLayers.fellows_1982)
                        map.removeLayer(geoJsonLayers.fellows_1983)
                        map.removeLayer(geoJsonLayers.fellows_1985)
                        map.removeLayer(geoJsonLayers.fellows_1986)
                        map.removeLayer(geoJsonLayers.fellows_1987)
                        map.removeLayer(geoJsonLayers.fellows_1988)
                        map.removeLayer(geoJsonLayers.fellows_1989)
                        map.removeLayer(geoJsonLayers.fellows_1990)
                        map.removeLayer(geoJsonLayers.fellows_1991)
                        map.removeLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    }
                });

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.addLayer(geoJsonLayers.residentsFellows_1995)
                        map.addLayer(geoJsonLayers.residentsFellows_1996)
                        map.addLayer(geoJsonLayers.residentsFellows_1997)
                        map.addLayer(geoJsonLayers.residentsFellows_1998)
                        map.addLayer(geoJsonLayers.residentsFellows_1999)
                        map.addLayer(geoJsonLayers.residentsFellows_2003)
                        map.addLayer(geoJsonLayers.residentsFellows_2004)
                        map.addLayer(geoJsonLayers.residentsFellows_2005)
                        map.addLayer(geoJsonLayers.residentsFellows_2006)
                        map.addLayer(geoJsonLayers.residentsFellows_2007)
                        map.addLayer(geoJsonLayers.residentsFellows_2008)
                        map.addLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    } else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    }
                });

                 if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.addLayer(geoJsonLayers.residentsFellows_1995)
                    map.addLayer(geoJsonLayers.residentsFellows_1996)
                    map.addLayer(geoJsonLayers.residentsFellows_1997)
                    map.addLayer(geoJsonLayers.residentsFellows_1998)
                    map.addLayer(geoJsonLayers.residentsFellows_1999)
                    map.addLayer(geoJsonLayers.residentsFellows_2003)
                    map.addLayer(geoJsonLayers.residentsFellows_2004)
                    map.addLayer(geoJsonLayers.residentsFellows_2005)
                    map.addLayer(geoJsonLayers.residentsFellows_2006)
                    map.addLayer(geoJsonLayers.residentsFellows_2007)
                    map.addLayer(geoJsonLayers.residentsFellows_2008)
                    map.addLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                }
            }
            if (index == 2010) {
                map.removeLayer(geoJsonLayers.residents_1971)
                map.addLayer(geoJsonLayers.residents_1971)
                map.removeLayer(geoJsonLayers.residents_1973)
                map.addLayer(geoJsonLayers.residents_1973)
                map.removeLayer(geoJsonLayers.residents_1984)
                map.addLayer(geoJsonLayers.residents_1984)
                map.removeLayer(geoJsonLayers.residents_1989)
                map.addLayer(geoJsonLayers.residents_1989)
                map.removeLayer(geoJsonLayers.residents_1990)
                map.addLayer(geoJsonLayers.residents_1990)
                map.removeLayer(geoJsonLayers.residents_1991)
                map.addLayer(geoJsonLayers.residents_1991)
                map.removeLayer(geoJsonLayers.residents_1992)
                map.addLayer(geoJsonLayers.residents_1992)
                map.removeLayer(geoJsonLayers.residents_1993)
                map.addLayer(geoJsonLayers.residents_1993)
                map.removeLayer(geoJsonLayers.residents_1994)
                map.addLayer(geoJsonLayers.residents_1994)
                map.removeLayer(geoJsonLayers.residents_1995)
                map.addLayer(geoJsonLayers.residents_1995)
                map.removeLayer(geoJsonLayers.residents_1996)
                map.addLayer(geoJsonLayers.residents_1996)
                map.removeLayer(geoJsonLayers.residents_1997)
                map.addLayer(geoJsonLayers.residents_1997)
                map.removeLayer(geoJsonLayers.residents_1998)
                map.addLayer(geoJsonLayers.residents_1998)
                map.removeLayer(geoJsonLayers.residents_1999)
                map.addLayer(geoJsonLayers.residents_1999)
                map.removeLayer(geoJsonLayers.residents_2000)
                map.addLayer(geoJsonLayers.residents_2000)
                map.removeLayer(geoJsonLayers.residents_2002)
                map.addLayer(geoJsonLayers.residents_2002)
                map.removeLayer(geoJsonLayers.residents_2003)
                map.addLayer(geoJsonLayers.residents_2003)
                map.removeLayer(geoJsonLayers.residents_2004)
                map.addLayer(geoJsonLayers.residents_2004)
                map.removeLayer(geoJsonLayers.residents_2005)
                map.addLayer(geoJsonLayers.residents_2005)
                map.removeLayer(geoJsonLayers.residents_2006)
                map.addLayer(geoJsonLayers.residents_2006)
                map.removeLayer(geoJsonLayers.residents_2008)
                map.addLayer(geoJsonLayers.residents_2008)
                map.removeLayer(geoJsonLayers.residents_2009)
                map.addLayer(geoJsonLayers.residents_2009)
                map.removeLayer(geoJsonLayers.residents_2010)
                map.addLayer(geoJsonLayers.residents_2010)
                map.removeLayer(geoJsonLayers.residents_2011)
                map.removeLayer(geoJsonLayers.residents_2013)
                map.removeLayer(geoJsonLayers.residents_2014)


                map.removeLayer(geoJsonLayers.residentsFellows_2011)
                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                map.removeLayer(geoJsonLayers.residentsFellows_2014)

                if(document.getElementById('checkboxCity3').checked) {                  
                    map.addLayer(geoJsonLayers.residents_1971)
                    map.addLayer(geoJsonLayers.residents_1973)
                    map.addLayer(geoJsonLayers.residents_1984)
                    map.addLayer(geoJsonLayers.residents_1989)
                    map.addLayer(geoJsonLayers.residents_1990)
                    map.addLayer(geoJsonLayers.residents_1991)
                    map.addLayer(geoJsonLayers.residents_1992)
                    map.addLayer(geoJsonLayers.residents_1993)
                    map.addLayer(geoJsonLayers.residents_1994)
                    map.addLayer(geoJsonLayers.residents_1995)
                    map.addLayer(geoJsonLayers.residents_1996)
                    map.addLayer(geoJsonLayers.residents_1997)
                    map.addLayer(geoJsonLayers.residents_1998)
                    map.addLayer(geoJsonLayers.residents_1999)
                    map.addLayer(geoJsonLayers.residents_2000)
                    map.addLayer(geoJsonLayers.residents_2002)
                    map.addLayer(geoJsonLayers.residents_2003)
                    map.addLayer(geoJsonLayers.residents_2004)
                    map.addLayer(geoJsonLayers.residents_2005)
                    map.addLayer(geoJsonLayers.residents_2006)
                    map.addLayer(geoJsonLayers.residents_2008)
                    map.addLayer(geoJsonLayers.residents_2009)
                    map.addLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)  
                }
                $(".Cities3").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residents_1971)
                        map.addLayer(geoJsonLayers.residents_1973)
                        map.addLayer(geoJsonLayers.residents_1984)
                        map.addLayer(geoJsonLayers.residents_1989)
                        map.addLayer(geoJsonLayers.residents_1990)
                        map.addLayer(geoJsonLayers.residents_1991)
                        map.addLayer(geoJsonLayers.residents_1992)
                        map.addLayer(geoJsonLayers.residents_1993)
                        map.addLayer(geoJsonLayers.residents_1994)
                        map.addLayer(geoJsonLayers.residents_1995)
                        map.addLayer(geoJsonLayers.residents_1996)
                        map.addLayer(geoJsonLayers.residents_1997)
                        map.addLayer(geoJsonLayers.residents_1998)
                        map.addLayer(geoJsonLayers.residents_1999)
                        map.addLayer(geoJsonLayers.residents_2000)
                        map.addLayer(geoJsonLayers.residents_2002)
                        map.addLayer(geoJsonLayers.residents_2003)
                        map.addLayer(geoJsonLayers.residents_2004)
                        map.addLayer(geoJsonLayers.residents_2005)
                        map.addLayer(geoJsonLayers.residents_2006)
                        map.addLayer(geoJsonLayers.residents_2008)
                        map.addLayer(geoJsonLayers.residents_2009)
                        map.addLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                    else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                });

                if(document.getElementById('checkboxCity').checked) {
                    map.addLayer(geoJsonLayers.fellows_1978)
                    map.addLayer(geoJsonLayers.fellows_1982)
                    map.addLayer(geoJsonLayers.fellows_1983)
                    map.addLayer(geoJsonLayers.fellows_1985)
                    map.addLayer(geoJsonLayers.fellows_1986)
                    map.addLayer(geoJsonLayers.fellows_1987)
                    map.addLayer(geoJsonLayers.fellows_1988)
                    map.addLayer(geoJsonLayers.fellows_1989)
                    map.addLayer(geoJsonLayers.fellows_1990)
                    map.addLayer(geoJsonLayers.fellows_1991)
                    map.addLayer(geoJsonLayers.fellows_1992)
                    map.addLayer(geoJsonLayers.fellows_1993)
                    map.addLayer(geoJsonLayers.fellows_1994)
                    map.addLayer(geoJsonLayers.fellows_1995)
                    map.addLayer(geoJsonLayers.fellows_1996)
                    map.addLayer(geoJsonLayers.fellows_1997)
                    map.addLayer(geoJsonLayers.fellows_1998)
                    map.addLayer(geoJsonLayers.fellows_1999)
                    map.addLayer(geoJsonLayers.fellows_2000)
                    map.addLayer(geoJsonLayers.fellows_2001)
                    map.addLayer(geoJsonLayers.fellows_2002)
                    map.addLayer(geoJsonLayers.fellows_2003)
                    map.addLayer(geoJsonLayers.fellows_2004)
                    map.addLayer(geoJsonLayers.fellows_2005)
                    map.addLayer(geoJsonLayers.fellows_2006)
                    map.addLayer(geoJsonLayers.fellows_2007)
                    map.addLayer(geoJsonLayers.fellows_2008)
                    map.addLayer(geoJsonLayers.fellows_2009)
                    map.addLayer(geoJsonLayers.fellows_2010)
                    map.removeLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)

                } else {
                    console.log("hi")
                }

                $(".Cities").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        
                        map.addLayer(geoJsonLayers.fellows_1978)
                        map.addLayer(geoJsonLayers.fellows_1982)
                        map.addLayer(geoJsonLayers.fellows_1983)
                        map.addLayer(geoJsonLayers.fellows_1985)
                        map.addLayer(geoJsonLayers.fellows_1986)
                        map.addLayer(geoJsonLayers.fellows_1987)
                        map.addLayer(geoJsonLayers.fellows_1988)
                        map.addLayer(geoJsonLayers.fellows_1989)
                        map.addLayer(geoJsonLayers.fellows_1990)
                        map.addLayer(geoJsonLayers.fellows_1991)
                        map.addLayer(geoJsonLayers.fellows_1992)
                        map.addLayer(geoJsonLayers.fellows_1993)
                        map.addLayer(geoJsonLayers.fellows_1994)
                        map.addLayer(geoJsonLayers.fellows_1995)
                        map.addLayer(geoJsonLayers.fellows_1996)
                        map.addLayer(geoJsonLayers.fellows_1997)
                        map.addLayer(geoJsonLayers.fellows_1998)
                        map.addLayer(geoJsonLayers.fellows_1999)
                        map.addLayer(geoJsonLayers.fellows_2000)
                        map.addLayer(geoJsonLayers.fellows_2001)
                        map.addLayer(geoJsonLayers.fellows_2002)
                        map.addLayer(geoJsonLayers.fellows_2003)
                        map.addLayer(geoJsonLayers.fellows_2004)
                        map.addLayer(geoJsonLayers.fellows_2005)
                        map.addLayer(geoJsonLayers.fellows_2006)
                        map.addLayer(geoJsonLayers.fellows_2007)
                        map.addLayer(geoJsonLayers.fellows_2008)
                        map.addLayer(geoJsonLayers.fellows_2009)
                        map.addLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1978)
                        map.removeLayer(geoJsonLayers.fellows_1982)
                        map.removeLayer(geoJsonLayers.fellows_1983)
                        map.removeLayer(geoJsonLayers.fellows_1985)
                        map.removeLayer(geoJsonLayers.fellows_1986)
                        map.removeLayer(geoJsonLayers.fellows_1987)
                        map.removeLayer(geoJsonLayers.fellows_1988)
                        map.removeLayer(geoJsonLayers.fellows_1989)
                        map.removeLayer(geoJsonLayers.fellows_1990)
                        map.removeLayer(geoJsonLayers.fellows_1991)
                        map.removeLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    }
                });

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.addLayer(geoJsonLayers.residentsFellows_1995)
                        map.addLayer(geoJsonLayers.residentsFellows_1996)
                        map.addLayer(geoJsonLayers.residentsFellows_1997)
                        map.addLayer(geoJsonLayers.residentsFellows_1998)
                        map.addLayer(geoJsonLayers.residentsFellows_1999)
                        map.addLayer(geoJsonLayers.residentsFellows_2003)
                        map.addLayer(geoJsonLayers.residentsFellows_2004)
                        map.addLayer(geoJsonLayers.residentsFellows_2005)
                        map.addLayer(geoJsonLayers.residentsFellows_2006)
                        map.addLayer(geoJsonLayers.residentsFellows_2007)
                        map.addLayer(geoJsonLayers.residentsFellows_2008)
                        map.addLayer(geoJsonLayers.residentsFellows_2009)
                        map.addLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    } else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    }
                });

                 if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.addLayer(geoJsonLayers.residentsFellows_1995)
                    map.addLayer(geoJsonLayers.residentsFellows_1996)
                    map.addLayer(geoJsonLayers.residentsFellows_1997)
                    map.addLayer(geoJsonLayers.residentsFellows_1998)
                    map.addLayer(geoJsonLayers.residentsFellows_1999)
                    map.addLayer(geoJsonLayers.residentsFellows_2003)
                    map.addLayer(geoJsonLayers.residentsFellows_2004)
                    map.addLayer(geoJsonLayers.residentsFellows_2005)
                    map.addLayer(geoJsonLayers.residentsFellows_2006)
                    map.addLayer(geoJsonLayers.residentsFellows_2007)
                    map.addLayer(geoJsonLayers.residentsFellows_2008)
                    map.addLayer(geoJsonLayers.residentsFellows_2009)
                    map.addLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                }
            }
            if (index == 2011) {
                map.removeLayer(geoJsonLayers.residents_1971)
                map.addLayer(geoJsonLayers.residents_1971)
                map.removeLayer(geoJsonLayers.residents_1973)
                map.addLayer(geoJsonLayers.residents_1973)
                map.removeLayer(geoJsonLayers.residents_1984)
                map.addLayer(geoJsonLayers.residents_1984)
                map.removeLayer(geoJsonLayers.residents_1989)
                map.addLayer(geoJsonLayers.residents_1989)
                map.removeLayer(geoJsonLayers.residents_1990)
                map.addLayer(geoJsonLayers.residents_1990)
                map.removeLayer(geoJsonLayers.residents_1991)
                map.addLayer(geoJsonLayers.residents_1991)
                map.removeLayer(geoJsonLayers.residents_1992)
                map.addLayer(geoJsonLayers.residents_1992)
                map.removeLayer(geoJsonLayers.residents_1993)
                map.addLayer(geoJsonLayers.residents_1993)
                map.removeLayer(geoJsonLayers.residents_1994)
                map.addLayer(geoJsonLayers.residents_1994)
                map.removeLayer(geoJsonLayers.residents_1995)
                map.addLayer(geoJsonLayers.residents_1995)
                map.removeLayer(geoJsonLayers.residents_1996)
                map.addLayer(geoJsonLayers.residents_1996)
                map.removeLayer(geoJsonLayers.residents_1997)
                map.addLayer(geoJsonLayers.residents_1997)
                map.removeLayer(geoJsonLayers.residents_1998)
                map.addLayer(geoJsonLayers.residents_1998)
                map.removeLayer(geoJsonLayers.residents_1999)
                map.addLayer(geoJsonLayers.residents_1999)
                map.removeLayer(geoJsonLayers.residents_2000)
                map.addLayer(geoJsonLayers.residents_2000)
                map.removeLayer(geoJsonLayers.residents_2002)
                map.addLayer(geoJsonLayers.residents_2002)
                map.removeLayer(geoJsonLayers.residents_2003)
                map.addLayer(geoJsonLayers.residents_2003)
                map.removeLayer(geoJsonLayers.residents_2004)
                map.addLayer(geoJsonLayers.residents_2004)
                map.removeLayer(geoJsonLayers.residents_2005)
                map.addLayer(geoJsonLayers.residents_2005)
                map.removeLayer(geoJsonLayers.residents_2006)
                map.addLayer(geoJsonLayers.residents_2006)
                map.removeLayer(geoJsonLayers.residents_2008)
                map.addLayer(geoJsonLayers.residents_2008)
                map.removeLayer(geoJsonLayers.residents_2009)
                map.addLayer(geoJsonLayers.residents_2009)
                map.removeLayer(geoJsonLayers.residents_2010)
                map.addLayer(geoJsonLayers.residents_2010)
                map.removeLayer(geoJsonLayers.residents_2011)
                map.addLayer(geoJsonLayers.residents_2011)
                map.removeLayer(geoJsonLayers.residents_2013)
                map.removeLayer(geoJsonLayers.residents_2014)

                map.removeLayer(geoJsonLayers.residentsFellows_2012)
                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                map.removeLayer(geoJsonLayers.residentsFellows_2014)

                if(document.getElementById('checkboxCity3').checked) {                  
                    map.addLayer(geoJsonLayers.residents_1971)
                    map.addLayer(geoJsonLayers.residents_1973)
                    map.addLayer(geoJsonLayers.residents_1984)
                    map.addLayer(geoJsonLayers.residents_1989)
                    map.addLayer(geoJsonLayers.residents_1990)
                    map.addLayer(geoJsonLayers.residents_1991)
                    map.addLayer(geoJsonLayers.residents_1992)
                    map.addLayer(geoJsonLayers.residents_1993)
                    map.addLayer(geoJsonLayers.residents_1994)
                    map.addLayer(geoJsonLayers.residents_1995)
                    map.addLayer(geoJsonLayers.residents_1996)
                    map.addLayer(geoJsonLayers.residents_1997)
                    map.addLayer(geoJsonLayers.residents_1998)
                    map.addLayer(geoJsonLayers.residents_1999)
                    map.addLayer(geoJsonLayers.residents_2000)
                    map.addLayer(geoJsonLayers.residents_2002)
                    map.addLayer(geoJsonLayers.residents_2003)
                    map.addLayer(geoJsonLayers.residents_2004)
                    map.addLayer(geoJsonLayers.residents_2005)
                    map.addLayer(geoJsonLayers.residents_2006)
                    map.addLayer(geoJsonLayers.residents_2008)
                    map.addLayer(geoJsonLayers.residents_2009)
                    map.addLayer(geoJsonLayers.residents_2010)
                    map.addLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)  
                }
                $(".Cities3").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residents_1971)
                        map.addLayer(geoJsonLayers.residents_1973)
                        map.addLayer(geoJsonLayers.residents_1984)
                        map.addLayer(geoJsonLayers.residents_1989)
                        map.addLayer(geoJsonLayers.residents_1990)
                        map.addLayer(geoJsonLayers.residents_1991)
                        map.addLayer(geoJsonLayers.residents_1992)
                        map.addLayer(geoJsonLayers.residents_1993)
                        map.addLayer(geoJsonLayers.residents_1994)
                        map.addLayer(geoJsonLayers.residents_1995)
                        map.addLayer(geoJsonLayers.residents_1996)
                        map.addLayer(geoJsonLayers.residents_1997)
                        map.addLayer(geoJsonLayers.residents_1998)
                        map.addLayer(geoJsonLayers.residents_1999)
                        map.addLayer(geoJsonLayers.residents_2000)
                        map.addLayer(geoJsonLayers.residents_2002)
                        map.addLayer(geoJsonLayers.residents_2003)
                        map.addLayer(geoJsonLayers.residents_2004)
                        map.addLayer(geoJsonLayers.residents_2005)
                        map.addLayer(geoJsonLayers.residents_2006)
                        map.addLayer(geoJsonLayers.residents_2008)
                        map.addLayer(geoJsonLayers.residents_2009)
                        map.addLayer(geoJsonLayers.residents_2010)
                        map.addLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                    else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                });

                if(document.getElementById('checkboxCity').checked) {
                    map.addLayer(geoJsonLayers.fellows_1978)
                    map.addLayer(geoJsonLayers.fellows_1982)
                    map.addLayer(geoJsonLayers.fellows_1983)
                    map.addLayer(geoJsonLayers.fellows_1985)
                    map.addLayer(geoJsonLayers.fellows_1986)
                    map.addLayer(geoJsonLayers.fellows_1987)
                    map.addLayer(geoJsonLayers.fellows_1988)
                    map.addLayer(geoJsonLayers.fellows_1989)
                    map.addLayer(geoJsonLayers.fellows_1990)
                    map.addLayer(geoJsonLayers.fellows_1991)
                    map.addLayer(geoJsonLayers.fellows_1992)
                    map.addLayer(geoJsonLayers.fellows_1993)
                    map.addLayer(geoJsonLayers.fellows_1994)
                    map.addLayer(geoJsonLayers.fellows_1995)
                    map.addLayer(geoJsonLayers.fellows_1996)
                    map.addLayer(geoJsonLayers.fellows_1997)
                    map.addLayer(geoJsonLayers.fellows_1998)
                    map.addLayer(geoJsonLayers.fellows_1999)
                    map.addLayer(geoJsonLayers.fellows_2000)
                    map.addLayer(geoJsonLayers.fellows_2001)
                    map.addLayer(geoJsonLayers.fellows_2002)
                    map.addLayer(geoJsonLayers.fellows_2003)
                    map.addLayer(geoJsonLayers.fellows_2004)
                    map.addLayer(geoJsonLayers.fellows_2005)
                    map.addLayer(geoJsonLayers.fellows_2006)
                    map.addLayer(geoJsonLayers.fellows_2007)
                    map.addLayer(geoJsonLayers.fellows_2008)
                    map.addLayer(geoJsonLayers.fellows_2009)
                    map.addLayer(geoJsonLayers.fellows_2010)
                    map.addLayer(geoJsonLayers.fellows_2011)
                    map.removeLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)

                } else {
                    console.log("hi")
                }

                $(".Cities").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        
                        map.addLayer(geoJsonLayers.fellows_1978)
                        map.addLayer(geoJsonLayers.fellows_1982)
                        map.addLayer(geoJsonLayers.fellows_1983)
                        map.addLayer(geoJsonLayers.fellows_1985)
                        map.addLayer(geoJsonLayers.fellows_1986)
                        map.addLayer(geoJsonLayers.fellows_1987)
                        map.addLayer(geoJsonLayers.fellows_1988)
                        map.addLayer(geoJsonLayers.fellows_1989)
                        map.addLayer(geoJsonLayers.fellows_1990)
                        map.addLayer(geoJsonLayers.fellows_1991)
                        map.addLayer(geoJsonLayers.fellows_1992)
                        map.addLayer(geoJsonLayers.fellows_1993)
                        map.addLayer(geoJsonLayers.fellows_1994)
                        map.addLayer(geoJsonLayers.fellows_1995)
                        map.addLayer(geoJsonLayers.fellows_1996)
                        map.addLayer(geoJsonLayers.fellows_1997)
                        map.addLayer(geoJsonLayers.fellows_1998)
                        map.addLayer(geoJsonLayers.fellows_1999)
                        map.addLayer(geoJsonLayers.fellows_2000)
                        map.addLayer(geoJsonLayers.fellows_2001)
                        map.addLayer(geoJsonLayers.fellows_2002)
                        map.addLayer(geoJsonLayers.fellows_2003)
                        map.addLayer(geoJsonLayers.fellows_2004)
                        map.addLayer(geoJsonLayers.fellows_2005)
                        map.addLayer(geoJsonLayers.fellows_2006)
                        map.addLayer(geoJsonLayers.fellows_2007)
                        map.addLayer(geoJsonLayers.fellows_2008)
                        map.addLayer(geoJsonLayers.fellows_2009)
                        map.addLayer(geoJsonLayers.fellows_2010)
                        map.addLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1978)
                        map.removeLayer(geoJsonLayers.fellows_1982)
                        map.removeLayer(geoJsonLayers.fellows_1983)
                        map.removeLayer(geoJsonLayers.fellows_1985)
                        map.removeLayer(geoJsonLayers.fellows_1986)
                        map.removeLayer(geoJsonLayers.fellows_1987)
                        map.removeLayer(geoJsonLayers.fellows_1988)
                        map.removeLayer(geoJsonLayers.fellows_1989)
                        map.removeLayer(geoJsonLayers.fellows_1990)
                        map.removeLayer(geoJsonLayers.fellows_1991)
                        map.removeLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    }
                });

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.addLayer(geoJsonLayers.residentsFellows_1995)
                        map.addLayer(geoJsonLayers.residentsFellows_1996)
                        map.addLayer(geoJsonLayers.residentsFellows_1997)
                        map.addLayer(geoJsonLayers.residentsFellows_1998)
                        map.addLayer(geoJsonLayers.residentsFellows_1999)
                        map.addLayer(geoJsonLayers.residentsFellows_2003)
                        map.addLayer(geoJsonLayers.residentsFellows_2004)
                        map.addLayer(geoJsonLayers.residentsFellows_2005)
                        map.addLayer(geoJsonLayers.residentsFellows_2006)
                        map.addLayer(geoJsonLayers.residentsFellows_2007)
                        map.addLayer(geoJsonLayers.residentsFellows_2008)
                        map.addLayer(geoJsonLayers.residentsFellows_2009)
                        map.addLayer(geoJsonLayers.residentsFellows_2010)
                        map.addLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    } else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    }
                });

                 if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.addLayer(geoJsonLayers.residentsFellows_1995)
                    map.addLayer(geoJsonLayers.residentsFellows_1996)
                    map.addLayer(geoJsonLayers.residentsFellows_1997)
                    map.addLayer(geoJsonLayers.residentsFellows_1998)
                    map.addLayer(geoJsonLayers.residentsFellows_1999)
                    map.addLayer(geoJsonLayers.residentsFellows_2003)
                    map.addLayer(geoJsonLayers.residentsFellows_2004)
                    map.addLayer(geoJsonLayers.residentsFellows_2005)
                    map.addLayer(geoJsonLayers.residentsFellows_2006)
                    map.addLayer(geoJsonLayers.residentsFellows_2007)
                    map.addLayer(geoJsonLayers.residentsFellows_2008)
                    map.addLayer(geoJsonLayers.residentsFellows_2009)
                    map.addLayer(geoJsonLayers.residentsFellows_2010)
                    map.addLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                }
            }
            if (index == 2012) {
                map.removeLayer(geoJsonLayers.residents_1971)
                map.addLayer(geoJsonLayers.residents_1971)
                map.removeLayer(geoJsonLayers.residents_1973)
                map.addLayer(geoJsonLayers.residents_1973)
                map.removeLayer(geoJsonLayers.residents_1984)
                map.addLayer(geoJsonLayers.residents_1984)
                map.removeLayer(geoJsonLayers.residents_1989)
                map.addLayer(geoJsonLayers.residents_1989)
                map.removeLayer(geoJsonLayers.residents_1990)
                map.addLayer(geoJsonLayers.residents_1990)
                map.removeLayer(geoJsonLayers.residents_1991)
                map.addLayer(geoJsonLayers.residents_1991)
                map.removeLayer(geoJsonLayers.residents_1992)
                map.addLayer(geoJsonLayers.residents_1992)
                map.removeLayer(geoJsonLayers.residents_1993)
                map.addLayer(geoJsonLayers.residents_1993)
                map.removeLayer(geoJsonLayers.residents_1994)
                map.addLayer(geoJsonLayers.residents_1994)
                map.removeLayer(geoJsonLayers.residents_1995)
                map.addLayer(geoJsonLayers.residents_1995)
                map.removeLayer(geoJsonLayers.residents_1996)
                map.addLayer(geoJsonLayers.residents_1996)
                map.removeLayer(geoJsonLayers.residents_1997)
                map.addLayer(geoJsonLayers.residents_1997)
                map.removeLayer(geoJsonLayers.residents_1998)
                map.addLayer(geoJsonLayers.residents_1998)
                map.removeLayer(geoJsonLayers.residents_1999)
                map.addLayer(geoJsonLayers.residents_1999)
                map.removeLayer(geoJsonLayers.residents_2000)
                map.addLayer(geoJsonLayers.residents_2000)
                map.removeLayer(geoJsonLayers.residents_2002)
                map.addLayer(geoJsonLayers.residents_2002)
                map.removeLayer(geoJsonLayers.residents_2003)
                map.addLayer(geoJsonLayers.residents_2003)
                map.removeLayer(geoJsonLayers.residents_2004)
                map.addLayer(geoJsonLayers.residents_2004)
                map.removeLayer(geoJsonLayers.residents_2005)
                map.addLayer(geoJsonLayers.residents_2005)
                map.removeLayer(geoJsonLayers.residents_2006)
                map.addLayer(geoJsonLayers.residents_2006)
                map.removeLayer(geoJsonLayers.residents_2008)
                map.addLayer(geoJsonLayers.residents_2008)
                map.removeLayer(geoJsonLayers.residents_2009)
                map.addLayer(geoJsonLayers.residents_2009)
                map.removeLayer(geoJsonLayers.residents_2010)
                map.addLayer(geoJsonLayers.residents_2010)
                map.removeLayer(geoJsonLayers.residents_2011)
                map.addLayer(geoJsonLayers.residents_2011)
                map.removeLayer(geoJsonLayers.residents_2013)
                map.removeLayer(geoJsonLayers.residents_2014)


                map.removeLayer(geoJsonLayers.residentsFellows_2013)
                map.removeLayer(geoJsonLayers.residentsFellows_2014)

                if(document.getElementById('checkboxCity3').checked) {                  
                    map.addLayer(geoJsonLayers.residents_1971)
                    map.addLayer(geoJsonLayers.residents_1973)
                    map.addLayer(geoJsonLayers.residents_1984)
                    map.addLayer(geoJsonLayers.residents_1989)
                    map.addLayer(geoJsonLayers.residents_1990)
                    map.addLayer(geoJsonLayers.residents_1991)
                    map.addLayer(geoJsonLayers.residents_1992)
                    map.addLayer(geoJsonLayers.residents_1993)
                    map.addLayer(geoJsonLayers.residents_1994)
                    map.addLayer(geoJsonLayers.residents_1995)
                    map.addLayer(geoJsonLayers.residents_1996)
                    map.addLayer(geoJsonLayers.residents_1997)
                    map.addLayer(geoJsonLayers.residents_1998)
                    map.addLayer(geoJsonLayers.residents_1999)
                    map.addLayer(geoJsonLayers.residents_2000)
                    map.addLayer(geoJsonLayers.residents_2002)
                    map.addLayer(geoJsonLayers.residents_2003)
                    map.addLayer(geoJsonLayers.residents_2004)
                    map.addLayer(geoJsonLayers.residents_2005)
                    map.addLayer(geoJsonLayers.residents_2006)
                    map.addLayer(geoJsonLayers.residents_2008)
                    map.addLayer(geoJsonLayers.residents_2009)
                    map.addLayer(geoJsonLayers.residents_2010)
                    map.addLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)  
                }
                $(".Cities3").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residents_1971)
                        map.addLayer(geoJsonLayers.residents_1973)
                        map.addLayer(geoJsonLayers.residents_1984)
                        map.addLayer(geoJsonLayers.residents_1989)
                        map.addLayer(geoJsonLayers.residents_1990)
                        map.addLayer(geoJsonLayers.residents_1991)
                        map.addLayer(geoJsonLayers.residents_1992)
                        map.addLayer(geoJsonLayers.residents_1993)
                        map.addLayer(geoJsonLayers.residents_1994)
                        map.addLayer(geoJsonLayers.residents_1995)
                        map.addLayer(geoJsonLayers.residents_1996)
                        map.addLayer(geoJsonLayers.residents_1997)
                        map.addLayer(geoJsonLayers.residents_1998)
                        map.addLayer(geoJsonLayers.residents_1999)
                        map.addLayer(geoJsonLayers.residents_2000)
                        map.addLayer(geoJsonLayers.residents_2002)
                        map.addLayer(geoJsonLayers.residents_2003)
                        map.addLayer(geoJsonLayers.residents_2004)
                        map.addLayer(geoJsonLayers.residents_2005)
                        map.addLayer(geoJsonLayers.residents_2006)
                        map.addLayer(geoJsonLayers.residents_2008)
                        map.addLayer(geoJsonLayers.residents_2009)
                        map.addLayer(geoJsonLayers.residents_2010)
                        map.addLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                    else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                });

                if(document.getElementById('checkboxCity').checked) {
                    map.addLayer(geoJsonLayers.fellows_1978)
                    map.addLayer(geoJsonLayers.fellows_1982)
                    map.addLayer(geoJsonLayers.fellows_1983)
                    map.addLayer(geoJsonLayers.fellows_1985)
                    map.addLayer(geoJsonLayers.fellows_1986)
                    map.addLayer(geoJsonLayers.fellows_1987)
                    map.addLayer(geoJsonLayers.fellows_1988)
                    map.addLayer(geoJsonLayers.fellows_1989)
                    map.addLayer(geoJsonLayers.fellows_1990)
                    map.addLayer(geoJsonLayers.fellows_1991)
                    map.addLayer(geoJsonLayers.fellows_1992)
                    map.addLayer(geoJsonLayers.fellows_1993)
                    map.addLayer(geoJsonLayers.fellows_1994)
                    map.addLayer(geoJsonLayers.fellows_1995)
                    map.addLayer(geoJsonLayers.fellows_1996)
                    map.addLayer(geoJsonLayers.fellows_1997)
                    map.addLayer(geoJsonLayers.fellows_1998)
                    map.addLayer(geoJsonLayers.fellows_1999)
                    map.addLayer(geoJsonLayers.fellows_2000)
                    map.addLayer(geoJsonLayers.fellows_2001)
                    map.addLayer(geoJsonLayers.fellows_2002)
                    map.addLayer(geoJsonLayers.fellows_2003)
                    map.addLayer(geoJsonLayers.fellows_2004)
                    map.addLayer(geoJsonLayers.fellows_2005)
                    map.addLayer(geoJsonLayers.fellows_2006)
                    map.addLayer(geoJsonLayers.fellows_2007)
                    map.addLayer(geoJsonLayers.fellows_2008)
                    map.addLayer(geoJsonLayers.fellows_2009)
                    map.addLayer(geoJsonLayers.fellows_2010)
                    map.addLayer(geoJsonLayers.fellows_2011)
                    map.addLayer(geoJsonLayers.fellows_2012)
                    map.removeLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)

                } else {
                    console.log("hi")
                }

                $(".Cities").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        
                        map.addLayer(geoJsonLayers.fellows_1978)
                        map.addLayer(geoJsonLayers.fellows_1982)
                        map.addLayer(geoJsonLayers.fellows_1983)
                        map.addLayer(geoJsonLayers.fellows_1985)
                        map.addLayer(geoJsonLayers.fellows_1986)
                        map.addLayer(geoJsonLayers.fellows_1987)
                        map.addLayer(geoJsonLayers.fellows_1988)
                        map.addLayer(geoJsonLayers.fellows_1989)
                        map.addLayer(geoJsonLayers.fellows_1990)
                        map.addLayer(geoJsonLayers.fellows_1991)
                        map.addLayer(geoJsonLayers.fellows_1992)
                        map.addLayer(geoJsonLayers.fellows_1993)
                        map.addLayer(geoJsonLayers.fellows_1994)
                        map.addLayer(geoJsonLayers.fellows_1995)
                        map.addLayer(geoJsonLayers.fellows_1996)
                        map.addLayer(geoJsonLayers.fellows_1997)
                        map.addLayer(geoJsonLayers.fellows_1998)
                        map.addLayer(geoJsonLayers.fellows_1999)
                        map.addLayer(geoJsonLayers.fellows_2000)
                        map.addLayer(geoJsonLayers.fellows_2001)
                        map.addLayer(geoJsonLayers.fellows_2002)
                        map.addLayer(geoJsonLayers.fellows_2003)
                        map.addLayer(geoJsonLayers.fellows_2004)
                        map.addLayer(geoJsonLayers.fellows_2005)
                        map.addLayer(geoJsonLayers.fellows_2006)
                        map.addLayer(geoJsonLayers.fellows_2007)
                        map.addLayer(geoJsonLayers.fellows_2008)
                        map.addLayer(geoJsonLayers.fellows_2009)
                        map.addLayer(geoJsonLayers.fellows_2010)
                        map.addLayer(geoJsonLayers.fellows_2011)
                        map.addLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1978)
                        map.removeLayer(geoJsonLayers.fellows_1982)
                        map.removeLayer(geoJsonLayers.fellows_1983)
                        map.removeLayer(geoJsonLayers.fellows_1985)
                        map.removeLayer(geoJsonLayers.fellows_1986)
                        map.removeLayer(geoJsonLayers.fellows_1987)
                        map.removeLayer(geoJsonLayers.fellows_1988)
                        map.removeLayer(geoJsonLayers.fellows_1989)
                        map.removeLayer(geoJsonLayers.fellows_1990)
                        map.removeLayer(geoJsonLayers.fellows_1991)
                        map.removeLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    }
                });

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.addLayer(geoJsonLayers.residentsFellows_1995)
                        map.addLayer(geoJsonLayers.residentsFellows_1996)
                        map.addLayer(geoJsonLayers.residentsFellows_1997)
                        map.addLayer(geoJsonLayers.residentsFellows_1998)
                        map.addLayer(geoJsonLayers.residentsFellows_1999)
                        map.addLayer(geoJsonLayers.residentsFellows_2003)
                        map.addLayer(geoJsonLayers.residentsFellows_2004)
                        map.addLayer(geoJsonLayers.residentsFellows_2005)
                        map.addLayer(geoJsonLayers.residentsFellows_2006)
                        map.addLayer(geoJsonLayers.residentsFellows_2007)
                        map.addLayer(geoJsonLayers.residentsFellows_2008)
                        map.addLayer(geoJsonLayers.residentsFellows_2009)
                        map.addLayer(geoJsonLayers.residentsFellows_2010)
                        map.addLayer(geoJsonLayers.residentsFellows_2011)
                        map.addLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    } else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    }
                });

                 if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.addLayer(geoJsonLayers.residentsFellows_1995)
                    map.addLayer(geoJsonLayers.residentsFellows_1996)
                    map.addLayer(geoJsonLayers.residentsFellows_1997)
                    map.addLayer(geoJsonLayers.residentsFellows_1998)
                    map.addLayer(geoJsonLayers.residentsFellows_1999)
                    map.addLayer(geoJsonLayers.residentsFellows_2003)
                    map.addLayer(geoJsonLayers.residentsFellows_2004)
                    map.addLayer(geoJsonLayers.residentsFellows_2005)
                    map.addLayer(geoJsonLayers.residentsFellows_2006)
                    map.addLayer(geoJsonLayers.residentsFellows_2007)
                    map.addLayer(geoJsonLayers.residentsFellows_2008)
                    map.addLayer(geoJsonLayers.residentsFellows_2009)
                    map.addLayer(geoJsonLayers.residentsFellows_2010)
                    map.addLayer(geoJsonLayers.residentsFellows_2011)
                    map.addLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                }
            }
            if (index == 2013) {
                map.removeLayer(geoJsonLayers.residents_1971)
                map.addLayer(geoJsonLayers.residents_1971)
                map.removeLayer(geoJsonLayers.residents_1973)
                map.addLayer(geoJsonLayers.residents_1973)
                map.removeLayer(geoJsonLayers.residents_1984)
                map.addLayer(geoJsonLayers.residents_1984)
                map.removeLayer(geoJsonLayers.residents_1989)
                map.addLayer(geoJsonLayers.residents_1989)
                map.removeLayer(geoJsonLayers.residents_1990)
                map.addLayer(geoJsonLayers.residents_1990)
                map.removeLayer(geoJsonLayers.residents_1991)
                map.addLayer(geoJsonLayers.residents_1991)
                map.removeLayer(geoJsonLayers.residents_1992)
                map.addLayer(geoJsonLayers.residents_1992)
                map.removeLayer(geoJsonLayers.residents_1993)
                map.addLayer(geoJsonLayers.residents_1993)
                map.removeLayer(geoJsonLayers.residents_1994)
                map.addLayer(geoJsonLayers.residents_1994)
                map.removeLayer(geoJsonLayers.residents_1995)
                map.addLayer(geoJsonLayers.residents_1995)
                map.removeLayer(geoJsonLayers.residents_1996)
                map.addLayer(geoJsonLayers.residents_1996)
                map.removeLayer(geoJsonLayers.residents_1997)
                map.addLayer(geoJsonLayers.residents_1997)
                map.removeLayer(geoJsonLayers.residents_1998)
                map.addLayer(geoJsonLayers.residents_1998)
                map.removeLayer(geoJsonLayers.residents_1999)
                map.addLayer(geoJsonLayers.residents_1999)
                map.removeLayer(geoJsonLayers.residents_2000)
                map.addLayer(geoJsonLayers.residents_2000)
                map.removeLayer(geoJsonLayers.residents_2002)
                map.addLayer(geoJsonLayers.residents_2002)
                map.removeLayer(geoJsonLayers.residents_2003)
                map.addLayer(geoJsonLayers.residents_2003)
                map.removeLayer(geoJsonLayers.residents_2004)
                map.addLayer(geoJsonLayers.residents_2004)
                map.removeLayer(geoJsonLayers.residents_2005)
                map.addLayer(geoJsonLayers.residents_2005)
                map.removeLayer(geoJsonLayers.residents_2006)
                map.addLayer(geoJsonLayers.residents_2006)
                map.removeLayer(geoJsonLayers.residents_2008)
                map.addLayer(geoJsonLayers.residents_2008)
                map.removeLayer(geoJsonLayers.residents_2009)
                map.addLayer(geoJsonLayers.residents_2009)
                map.removeLayer(geoJsonLayers.residents_2010)
                map.addLayer(geoJsonLayers.residents_2010)
                map.removeLayer(geoJsonLayers.residents_2011)
                map.addLayer(geoJsonLayers.residents_2011)
                map.removeLayer(geoJsonLayers.residents_2013)
                map.addLayer(geoJsonLayers.residents_2013)
                map.removeLayer(geoJsonLayers.residents_2014)


                map.removeLayer(geoJsonLayers.residentsFellows_2014)

                if(document.getElementById('checkboxCity3').checked) {                  
                    map.addLayer(geoJsonLayers.residents_1971)
                    map.addLayer(geoJsonLayers.residents_1973)
                    map.addLayer(geoJsonLayers.residents_1984)
                    map.addLayer(geoJsonLayers.residents_1989)
                    map.addLayer(geoJsonLayers.residents_1990)
                    map.addLayer(geoJsonLayers.residents_1991)
                    map.addLayer(geoJsonLayers.residents_1992)
                    map.addLayer(geoJsonLayers.residents_1993)
                    map.addLayer(geoJsonLayers.residents_1994)
                    map.addLayer(geoJsonLayers.residents_1995)
                    map.addLayer(geoJsonLayers.residents_1996)
                    map.addLayer(geoJsonLayers.residents_1997)
                    map.addLayer(geoJsonLayers.residents_1998)
                    map.addLayer(geoJsonLayers.residents_1999)
                    map.addLayer(geoJsonLayers.residents_2000)
                    map.addLayer(geoJsonLayers.residents_2002)
                    map.addLayer(geoJsonLayers.residents_2003)
                    map.addLayer(geoJsonLayers.residents_2004)
                    map.addLayer(geoJsonLayers.residents_2005)
                    map.addLayer(geoJsonLayers.residents_2006)
                    map.addLayer(geoJsonLayers.residents_2008)
                    map.addLayer(geoJsonLayers.residents_2009)
                    map.addLayer(geoJsonLayers.residents_2010)
                    map.addLayer(geoJsonLayers.residents_2011)
                    map.addLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)  
                }
                $(".Cities3").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residents_1971)
                        map.addLayer(geoJsonLayers.residents_1973)
                        map.addLayer(geoJsonLayers.residents_1984)
                        map.addLayer(geoJsonLayers.residents_1989)
                        map.addLayer(geoJsonLayers.residents_1990)
                        map.addLayer(geoJsonLayers.residents_1991)
                        map.addLayer(geoJsonLayers.residents_1992)
                        map.addLayer(geoJsonLayers.residents_1993)
                        map.addLayer(geoJsonLayers.residents_1994)
                        map.addLayer(geoJsonLayers.residents_1995)
                        map.addLayer(geoJsonLayers.residents_1996)
                        map.addLayer(geoJsonLayers.residents_1997)
                        map.addLayer(geoJsonLayers.residents_1998)
                        map.addLayer(geoJsonLayers.residents_1999)
                        map.addLayer(geoJsonLayers.residents_2000)
                        map.addLayer(geoJsonLayers.residents_2002)
                        map.addLayer(geoJsonLayers.residents_2003)
                        map.addLayer(geoJsonLayers.residents_2004)
                        map.addLayer(geoJsonLayers.residents_2005)
                        map.addLayer(geoJsonLayers.residents_2006)
                        map.addLayer(geoJsonLayers.residents_2008)
                        map.addLayer(geoJsonLayers.residents_2009)
                        map.addLayer(geoJsonLayers.residents_2010)
                        map.addLayer(geoJsonLayers.residents_2011)
                        map.addLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                    else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                });

                if(document.getElementById('checkboxCity').checked) {
                    map.addLayer(geoJsonLayers.fellows_1978)
                    map.addLayer(geoJsonLayers.fellows_1982)
                    map.addLayer(geoJsonLayers.fellows_1983)
                    map.addLayer(geoJsonLayers.fellows_1985)
                    map.addLayer(geoJsonLayers.fellows_1986)
                    map.addLayer(geoJsonLayers.fellows_1987)
                    map.addLayer(geoJsonLayers.fellows_1988)
                    map.addLayer(geoJsonLayers.fellows_1989)
                    map.addLayer(geoJsonLayers.fellows_1990)
                    map.addLayer(geoJsonLayers.fellows_1991)
                    map.addLayer(geoJsonLayers.fellows_1992)
                    map.addLayer(geoJsonLayers.fellows_1993)
                    map.addLayer(geoJsonLayers.fellows_1994)
                    map.addLayer(geoJsonLayers.fellows_1995)
                    map.addLayer(geoJsonLayers.fellows_1996)
                    map.addLayer(geoJsonLayers.fellows_1997)
                    map.addLayer(geoJsonLayers.fellows_1998)
                    map.addLayer(geoJsonLayers.fellows_1999)
                    map.addLayer(geoJsonLayers.fellows_2000)
                    map.addLayer(geoJsonLayers.fellows_2001)
                    map.addLayer(geoJsonLayers.fellows_2002)
                    map.addLayer(geoJsonLayers.fellows_2003)
                    map.addLayer(geoJsonLayers.fellows_2004)
                    map.addLayer(geoJsonLayers.fellows_2005)
                    map.addLayer(geoJsonLayers.fellows_2006)
                    map.addLayer(geoJsonLayers.fellows_2007)
                    map.addLayer(geoJsonLayers.fellows_2008)
                    map.addLayer(geoJsonLayers.fellows_2009)
                    map.addLayer(geoJsonLayers.fellows_2010)
                    map.addLayer(geoJsonLayers.fellows_2011)
                    map.addLayer(geoJsonLayers.fellows_2012)
                    map.addLayer(geoJsonLayers.fellows_2013)
                    map.removeLayer(geoJsonLayers.fellows_2014)

                } else {
                    console.log("hi")
                }

                $(".Cities").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        
                        map.addLayer(geoJsonLayers.fellows_1978)
                        map.addLayer(geoJsonLayers.fellows_1982)
                        map.addLayer(geoJsonLayers.fellows_1983)
                        map.addLayer(geoJsonLayers.fellows_1985)
                        map.addLayer(geoJsonLayers.fellows_1986)
                        map.addLayer(geoJsonLayers.fellows_1987)
                        map.addLayer(geoJsonLayers.fellows_1988)
                        map.addLayer(geoJsonLayers.fellows_1989)
                        map.addLayer(geoJsonLayers.fellows_1990)
                        map.addLayer(geoJsonLayers.fellows_1991)
                        map.addLayer(geoJsonLayers.fellows_1992)
                        map.addLayer(geoJsonLayers.fellows_1993)
                        map.addLayer(geoJsonLayers.fellows_1994)
                        map.addLayer(geoJsonLayers.fellows_1995)
                        map.addLayer(geoJsonLayers.fellows_1996)
                        map.addLayer(geoJsonLayers.fellows_1997)
                        map.addLayer(geoJsonLayers.fellows_1998)
                        map.addLayer(geoJsonLayers.fellows_1999)
                        map.addLayer(geoJsonLayers.fellows_2000)
                        map.addLayer(geoJsonLayers.fellows_2001)
                        map.addLayer(geoJsonLayers.fellows_2002)
                        map.addLayer(geoJsonLayers.fellows_2003)
                        map.addLayer(geoJsonLayers.fellows_2004)
                        map.addLayer(geoJsonLayers.fellows_2005)
                        map.addLayer(geoJsonLayers.fellows_2006)
                        map.addLayer(geoJsonLayers.fellows_2007)
                        map.addLayer(geoJsonLayers.fellows_2008)
                        map.addLayer(geoJsonLayers.fellows_2009)
                        map.addLayer(geoJsonLayers.fellows_2010)
                        map.addLayer(geoJsonLayers.fellows_2011)
                        map.addLayer(geoJsonLayers.fellows_2012)
                        map.addLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1978)
                        map.removeLayer(geoJsonLayers.fellows_1982)
                        map.removeLayer(geoJsonLayers.fellows_1983)
                        map.removeLayer(geoJsonLayers.fellows_1985)
                        map.removeLayer(geoJsonLayers.fellows_1986)
                        map.removeLayer(geoJsonLayers.fellows_1987)
                        map.removeLayer(geoJsonLayers.fellows_1988)
                        map.removeLayer(geoJsonLayers.fellows_1989)
                        map.removeLayer(geoJsonLayers.fellows_1990)
                        map.removeLayer(geoJsonLayers.fellows_1991)
                        map.removeLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    }
                });

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.addLayer(geoJsonLayers.residentsFellows_1995)
                        map.addLayer(geoJsonLayers.residentsFellows_1996)
                        map.addLayer(geoJsonLayers.residentsFellows_1997)
                        map.addLayer(geoJsonLayers.residentsFellows_1998)
                        map.addLayer(geoJsonLayers.residentsFellows_1999)
                        map.addLayer(geoJsonLayers.residentsFellows_2003)
                        map.addLayer(geoJsonLayers.residentsFellows_2004)
                        map.addLayer(geoJsonLayers.residentsFellows_2005)
                        map.addLayer(geoJsonLayers.residentsFellows_2006)
                        map.addLayer(geoJsonLayers.residentsFellows_2007)
                        map.addLayer(geoJsonLayers.residentsFellows_2008)
                        map.addLayer(geoJsonLayers.residentsFellows_2009)
                        map.addLayer(geoJsonLayers.residentsFellows_2010)
                        map.addLayer(geoJsonLayers.residentsFellows_2011)
                        map.addLayer(geoJsonLayers.residentsFellows_2012)
                        map.addLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    } else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    }
                });

                 if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.addLayer(geoJsonLayers.residentsFellows_1995)
                    map.addLayer(geoJsonLayers.residentsFellows_1996)
                    map.addLayer(geoJsonLayers.residentsFellows_1997)
                    map.addLayer(geoJsonLayers.residentsFellows_1998)
                    map.addLayer(geoJsonLayers.residentsFellows_1999)
                    map.addLayer(geoJsonLayers.residentsFellows_2003)
                    map.addLayer(geoJsonLayers.residentsFellows_2004)
                    map.addLayer(geoJsonLayers.residentsFellows_2005)
                    map.addLayer(geoJsonLayers.residentsFellows_2006)
                    map.addLayer(geoJsonLayers.residentsFellows_2007)
                    map.addLayer(geoJsonLayers.residentsFellows_2008)
                    map.addLayer(geoJsonLayers.residentsFellows_2009)
                    map.addLayer(geoJsonLayers.residentsFellows_2010)
                    map.addLayer(geoJsonLayers.residentsFellows_2011)
                    map.addLayer(geoJsonLayers.residentsFellows_2012)
                    map.addLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                }
            }
            if (index == 2014) {
                legend2015.removeFrom(map);
                //legend2014.addTo(map);
                map.removeLayer(geoJsonLayers.residents_1971)
                map.addLayer(geoJsonLayers.residents_1971)
                map.removeLayer(geoJsonLayers.residents_1973)
                map.addLayer(geoJsonLayers.residents_1973)
                map.removeLayer(geoJsonLayers.residents_1984)
                map.addLayer(geoJsonLayers.residents_1984)
                map.removeLayer(geoJsonLayers.residents_1989)
                map.addLayer(geoJsonLayers.residents_1989)
                map.removeLayer(geoJsonLayers.residents_1990)
                map.addLayer(geoJsonLayers.residents_1990)
                map.removeLayer(geoJsonLayers.residents_1991)
                map.addLayer(geoJsonLayers.residents_1991)
                map.removeLayer(geoJsonLayers.residents_1992)
                map.addLayer(geoJsonLayers.residents_1992)
                map.removeLayer(geoJsonLayers.residents_1993)
                map.addLayer(geoJsonLayers.residents_1993)
                map.removeLayer(geoJsonLayers.residents_1994)
                map.addLayer(geoJsonLayers.residents_1994)
                map.removeLayer(geoJsonLayers.residents_1995)
                map.addLayer(geoJsonLayers.residents_1995)
                map.removeLayer(geoJsonLayers.residents_1996)
                map.addLayer(geoJsonLayers.residents_1996)
                map.removeLayer(geoJsonLayers.residents_1997)
                map.addLayer(geoJsonLayers.residents_1997)
                map.removeLayer(geoJsonLayers.residents_1998)
                map.addLayer(geoJsonLayers.residents_1998)
                map.removeLayer(geoJsonLayers.residents_1999)
                map.addLayer(geoJsonLayers.residents_1999)
                map.removeLayer(geoJsonLayers.residents_2000)
                map.addLayer(geoJsonLayers.residents_2000)
                map.removeLayer(geoJsonLayers.residents_2002)
                map.addLayer(geoJsonLayers.residents_2002)
                map.removeLayer(geoJsonLayers.residents_2003)
                map.addLayer(geoJsonLayers.residents_2003)
                map.removeLayer(geoJsonLayers.residents_2004)
                map.addLayer(geoJsonLayers.residents_2004)
                map.removeLayer(geoJsonLayers.residents_2005)
                map.addLayer(geoJsonLayers.residents_2005)
                map.removeLayer(geoJsonLayers.residents_2006)
                map.addLayer(geoJsonLayers.residents_2006)
                map.removeLayer(geoJsonLayers.residents_2008)
                map.addLayer(geoJsonLayers.residents_2008)
                map.removeLayer(geoJsonLayers.residents_2009)
                map.addLayer(geoJsonLayers.residents_2009)
                map.removeLayer(geoJsonLayers.residents_2010)
                map.addLayer(geoJsonLayers.residents_2010)
                map.removeLayer(geoJsonLayers.residents_2011)
                map.addLayer(geoJsonLayers.residents_2011)
                map.removeLayer(geoJsonLayers.residents_2013)
                map.addLayer(geoJsonLayers.residents_2013)
                map.removeLayer(geoJsonLayers.residents_2014)
                map.addLayer(geoJsonLayers.residents_2014)

                if(document.getElementById('checkboxCity3').checked) {                  
                    map.addLayer(geoJsonLayers.residents_1971)
                    map.addLayer(geoJsonLayers.residents_1973)
                    map.addLayer(geoJsonLayers.residents_1984)
                    map.addLayer(geoJsonLayers.residents_1989)
                    map.addLayer(geoJsonLayers.residents_1990)
                    map.addLayer(geoJsonLayers.residents_1991)
                    map.addLayer(geoJsonLayers.residents_1992)
                    map.addLayer(geoJsonLayers.residents_1993)
                    map.addLayer(geoJsonLayers.residents_1994)
                    map.addLayer(geoJsonLayers.residents_1995)
                    map.addLayer(geoJsonLayers.residents_1996)
                    map.addLayer(geoJsonLayers.residents_1997)
                    map.addLayer(geoJsonLayers.residents_1998)
                    map.addLayer(geoJsonLayers.residents_1999)
                    map.addLayer(geoJsonLayers.residents_2000)
                    map.addLayer(geoJsonLayers.residents_2002)
                    map.addLayer(geoJsonLayers.residents_2003)
                    map.addLayer(geoJsonLayers.residents_2004)
                    map.addLayer(geoJsonLayers.residents_2005)
                    map.addLayer(geoJsonLayers.residents_2006)
                    map.addLayer(geoJsonLayers.residents_2008)
                    map.addLayer(geoJsonLayers.residents_2009)
                    map.addLayer(geoJsonLayers.residents_2010)
                    map.addLayer(geoJsonLayers.residents_2011)
                    map.addLayer(geoJsonLayers.residents_2013)
                    map.addLayer(geoJsonLayers.residents_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residents_1971)
                    map.removeLayer(geoJsonLayers.residents_1973)
                    map.removeLayer(geoJsonLayers.residents_1984)
                    map.removeLayer(geoJsonLayers.residents_1989)
                    map.removeLayer(geoJsonLayers.residents_1990)
                    map.removeLayer(geoJsonLayers.residents_1991)
                    map.removeLayer(geoJsonLayers.residents_1992)
                    map.removeLayer(geoJsonLayers.residents_1993)
                    map.removeLayer(geoJsonLayers.residents_1994)
                    map.removeLayer(geoJsonLayers.residents_1995)
                    map.removeLayer(geoJsonLayers.residents_1996)
                    map.removeLayer(geoJsonLayers.residents_1997)
                    map.removeLayer(geoJsonLayers.residents_1998)
                    map.removeLayer(geoJsonLayers.residents_1999)
                    map.removeLayer(geoJsonLayers.residents_2000)
                    map.removeLayer(geoJsonLayers.residents_2002)
                    map.removeLayer(geoJsonLayers.residents_2003)
                    map.removeLayer(geoJsonLayers.residents_2004)
                    map.removeLayer(geoJsonLayers.residents_2005)
                    map.removeLayer(geoJsonLayers.residents_2006)
                    map.removeLayer(geoJsonLayers.residents_2008)
                    map.removeLayer(geoJsonLayers.residents_2009)
                    map.removeLayer(geoJsonLayers.residents_2010)
                    map.removeLayer(geoJsonLayers.residents_2011)
                    map.removeLayer(geoJsonLayers.residents_2013)
                    map.removeLayer(geoJsonLayers.residents_2014)  
                }
                $(".Cities3").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residents_1971)
                        map.addLayer(geoJsonLayers.residents_1973)
                        map.addLayer(geoJsonLayers.residents_1984)
                        map.addLayer(geoJsonLayers.residents_1989)
                        map.addLayer(geoJsonLayers.residents_1990)
                        map.addLayer(geoJsonLayers.residents_1991)
                        map.addLayer(geoJsonLayers.residents_1992)
                        map.addLayer(geoJsonLayers.residents_1993)
                        map.addLayer(geoJsonLayers.residents_1994)
                        map.addLayer(geoJsonLayers.residents_1995)
                        map.addLayer(geoJsonLayers.residents_1996)
                        map.addLayer(geoJsonLayers.residents_1997)
                        map.addLayer(geoJsonLayers.residents_1998)
                        map.addLayer(geoJsonLayers.residents_1999)
                        map.addLayer(geoJsonLayers.residents_2000)
                        map.addLayer(geoJsonLayers.residents_2002)
                        map.addLayer(geoJsonLayers.residents_2003)
                        map.addLayer(geoJsonLayers.residents_2004)
                        map.addLayer(geoJsonLayers.residents_2005)
                        map.addLayer(geoJsonLayers.residents_2006)
                        map.addLayer(geoJsonLayers.residents_2008)
                        map.addLayer(geoJsonLayers.residents_2009)
                        map.addLayer(geoJsonLayers.residents_2010)
                        map.addLayer(geoJsonLayers.residents_2011)
                        map.addLayer(geoJsonLayers.residents_2013)
                        map.addLayer(geoJsonLayers.residents_2014) 
                    }
                    else {
                        map.removeLayer(geoJsonLayers.residents_1971)
                        map.removeLayer(geoJsonLayers.residents_1973)
                        map.removeLayer(geoJsonLayers.residents_1984)
                        map.removeLayer(geoJsonLayers.residents_1989)
                        map.removeLayer(geoJsonLayers.residents_1990)
                        map.removeLayer(geoJsonLayers.residents_1991)
                        map.removeLayer(geoJsonLayers.residents_1992)
                        map.removeLayer(geoJsonLayers.residents_1993)
                        map.removeLayer(geoJsonLayers.residents_1994)
                        map.removeLayer(geoJsonLayers.residents_1995)
                        map.removeLayer(geoJsonLayers.residents_1996)
                        map.removeLayer(geoJsonLayers.residents_1997)
                        map.removeLayer(geoJsonLayers.residents_1998)
                        map.removeLayer(geoJsonLayers.residents_1999)
                        map.removeLayer(geoJsonLayers.residents_2000)
                        map.removeLayer(geoJsonLayers.residents_2002)
                        map.removeLayer(geoJsonLayers.residents_2003)
                        map.removeLayer(geoJsonLayers.residents_2004)
                        map.removeLayer(geoJsonLayers.residents_2005)
                        map.removeLayer(geoJsonLayers.residents_2006)
                        map.removeLayer(geoJsonLayers.residents_2008)
                        map.removeLayer(geoJsonLayers.residents_2009)
                        map.removeLayer(geoJsonLayers.residents_2010)
                        map.removeLayer(geoJsonLayers.residents_2011)
                        map.removeLayer(geoJsonLayers.residents_2013)
                        map.removeLayer(geoJsonLayers.residents_2014) 
                    }
                });



                if(document.getElementById('checkboxCity').checked) {
                    map.addLayer(geoJsonLayers.fellows_1978)
                    map.addLayer(geoJsonLayers.fellows_1982)
                    map.addLayer(geoJsonLayers.fellows_1983)
                    map.addLayer(geoJsonLayers.fellows_1985)
                    map.addLayer(geoJsonLayers.fellows_1986)
                    map.addLayer(geoJsonLayers.fellows_1987)
                    map.addLayer(geoJsonLayers.fellows_1988)
                    map.addLayer(geoJsonLayers.fellows_1989)
                    map.addLayer(geoJsonLayers.fellows_1990)
                    map.addLayer(geoJsonLayers.fellows_1991)
                    map.addLayer(geoJsonLayers.fellows_1992)
                    map.addLayer(geoJsonLayers.fellows_1993)
                    map.addLayer(geoJsonLayers.fellows_1994)
                    map.addLayer(geoJsonLayers.fellows_1995)
                    map.addLayer(geoJsonLayers.fellows_1996)
                    map.addLayer(geoJsonLayers.fellows_1997)
                    map.addLayer(geoJsonLayers.fellows_1998)
                    map.addLayer(geoJsonLayers.fellows_1999)
                    map.addLayer(geoJsonLayers.fellows_2000)
                    map.addLayer(geoJsonLayers.fellows_2001)
                    map.addLayer(geoJsonLayers.fellows_2002)
                    map.addLayer(geoJsonLayers.fellows_2003)
                    map.addLayer(geoJsonLayers.fellows_2004)
                    map.addLayer(geoJsonLayers.fellows_2005)
                    map.addLayer(geoJsonLayers.fellows_2006)
                    map.addLayer(geoJsonLayers.fellows_2007)
                    map.addLayer(geoJsonLayers.fellows_2008)
                    map.addLayer(geoJsonLayers.fellows_2009)
                    map.addLayer(geoJsonLayers.fellows_2010)
                    map.addLayer(geoJsonLayers.fellows_2011)
                    map.addLayer(geoJsonLayers.fellows_2012)
                    map.addLayer(geoJsonLayers.fellows_2013)
                    map.addLayer(geoJsonLayers.fellows_2014)

                } else {
                    console.log("hi")
                }

                $(".Cities").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        
                        map.addLayer(geoJsonLayers.fellows_1978)
                        map.addLayer(geoJsonLayers.fellows_1982)
                        map.addLayer(geoJsonLayers.fellows_1983)
                        map.addLayer(geoJsonLayers.fellows_1985)
                        map.addLayer(geoJsonLayers.fellows_1986)
                        map.addLayer(geoJsonLayers.fellows_1987)
                        map.addLayer(geoJsonLayers.fellows_1988)
                        map.addLayer(geoJsonLayers.fellows_1989)
                        map.addLayer(geoJsonLayers.fellows_1990)
                        map.addLayer(geoJsonLayers.fellows_1991)
                        map.addLayer(geoJsonLayers.fellows_1992)
                        map.addLayer(geoJsonLayers.fellows_1993)
                        map.addLayer(geoJsonLayers.fellows_1994)
                        map.addLayer(geoJsonLayers.fellows_1995)
                        map.addLayer(geoJsonLayers.fellows_1996)
                        map.addLayer(geoJsonLayers.fellows_1997)
                        map.addLayer(geoJsonLayers.fellows_1998)
                        map.addLayer(geoJsonLayers.fellows_1999)
                        map.addLayer(geoJsonLayers.fellows_2000)
                        map.addLayer(geoJsonLayers.fellows_2001)
                        map.addLayer(geoJsonLayers.fellows_2002)
                        map.addLayer(geoJsonLayers.fellows_2003)
                        map.addLayer(geoJsonLayers.fellows_2004)
                        map.addLayer(geoJsonLayers.fellows_2005)
                        map.addLayer(geoJsonLayers.fellows_2006)
                        map.addLayer(geoJsonLayers.fellows_2007)
                        map.addLayer(geoJsonLayers.fellows_2008)
                        map.addLayer(geoJsonLayers.fellows_2009)
                        map.addLayer(geoJsonLayers.fellows_2010)
                        map.addLayer(geoJsonLayers.fellows_2011)
                        map.addLayer(geoJsonLayers.fellows_2012)
                        map.addLayer(geoJsonLayers.fellows_2013)
                        map.addLayer(geoJsonLayers.fellows_2014)
                    } else {
                        map.removeLayer(geoJsonLayers.fellows_1978)
                        map.removeLayer(geoJsonLayers.fellows_1982)
                        map.removeLayer(geoJsonLayers.fellows_1983)
                        map.removeLayer(geoJsonLayers.fellows_1985)
                        map.removeLayer(geoJsonLayers.fellows_1986)
                        map.removeLayer(geoJsonLayers.fellows_1987)
                        map.removeLayer(geoJsonLayers.fellows_1988)
                        map.removeLayer(geoJsonLayers.fellows_1989)
                        map.removeLayer(geoJsonLayers.fellows_1990)
                        map.removeLayer(geoJsonLayers.fellows_1991)
                        map.removeLayer(geoJsonLayers.fellows_1992)
                        map.removeLayer(geoJsonLayers.fellows_1993)
                        map.removeLayer(geoJsonLayers.fellows_1994)
                        map.removeLayer(geoJsonLayers.fellows_1995)
                        map.removeLayer(geoJsonLayers.fellows_1996)
                        map.removeLayer(geoJsonLayers.fellows_1997)
                        map.removeLayer(geoJsonLayers.fellows_1998)
                        map.removeLayer(geoJsonLayers.fellows_1999)
                        map.removeLayer(geoJsonLayers.fellows_2000)
                        map.removeLayer(geoJsonLayers.fellows_2001)
                        map.removeLayer(geoJsonLayers.fellows_2002)
                        map.removeLayer(geoJsonLayers.fellows_2003)
                        map.removeLayer(geoJsonLayers.fellows_2004)
                        map.removeLayer(geoJsonLayers.fellows_2005)
                        map.removeLayer(geoJsonLayers.fellows_2006)
                        map.removeLayer(geoJsonLayers.fellows_2007)
                        map.removeLayer(geoJsonLayers.fellows_2008)
                        map.removeLayer(geoJsonLayers.fellows_2009)
                        map.removeLayer(geoJsonLayers.fellows_2010)
                        map.removeLayer(geoJsonLayers.fellows_2011)
                        map.removeLayer(geoJsonLayers.fellows_2012)
                        map.removeLayer(geoJsonLayers.fellows_2013)
                        map.removeLayer(geoJsonLayers.fellows_2014)
                    }
                });

                $(".Cities2").change(function () {
                    console.log(index);
                    if($(this).is(':checked')) {
                        map.addLayer(geoJsonLayers.residentsFellows_1981)
                        map.addLayer(geoJsonLayers.residentsFellows_1982)
                        map.addLayer(geoJsonLayers.residentsFellows_1990)
                        map.addLayer(geoJsonLayers.residentsFellows_1991)
                        map.addLayer(geoJsonLayers.residentsFellows_1995)
                        map.addLayer(geoJsonLayers.residentsFellows_1996)
                        map.addLayer(geoJsonLayers.residentsFellows_1997)
                        map.addLayer(geoJsonLayers.residentsFellows_1998)
                        map.addLayer(geoJsonLayers.residentsFellows_1999)
                        map.addLayer(geoJsonLayers.residentsFellows_2003)
                        map.addLayer(geoJsonLayers.residentsFellows_2004)
                        map.addLayer(geoJsonLayers.residentsFellows_2005)
                        map.addLayer(geoJsonLayers.residentsFellows_2006)
                        map.addLayer(geoJsonLayers.residentsFellows_2007)
                        map.addLayer(geoJsonLayers.residentsFellows_2008)
                        map.addLayer(geoJsonLayers.residentsFellows_2009)
                        map.addLayer(geoJsonLayers.residentsFellows_2010)
                        map.addLayer(geoJsonLayers.residentsFellows_2011)
                        map.addLayer(geoJsonLayers.residentsFellows_2012)
                        map.addLayer(geoJsonLayers.residentsFellows_2013)
                        map.addLayer(geoJsonLayers.residentsFellows_2014) 
                    } else {
                        map.removeLayer(geoJsonLayers.residentsFellows_1981)
                        map.removeLayer(geoJsonLayers.residentsFellows_1982)
                        map.removeLayer(geoJsonLayers.residentsFellows_1990)
                        map.removeLayer(geoJsonLayers.residentsFellows_1991)
                        map.removeLayer(geoJsonLayers.residentsFellows_1995)
                        map.removeLayer(geoJsonLayers.residentsFellows_1996)
                        map.removeLayer(geoJsonLayers.residentsFellows_1997)
                        map.removeLayer(geoJsonLayers.residentsFellows_1998)
                        map.removeLayer(geoJsonLayers.residentsFellows_1999)
                        map.removeLayer(geoJsonLayers.residentsFellows_2003)
                        map.removeLayer(geoJsonLayers.residentsFellows_2004)
                        map.removeLayer(geoJsonLayers.residentsFellows_2005)
                        map.removeLayer(geoJsonLayers.residentsFellows_2006)
                        map.removeLayer(geoJsonLayers.residentsFellows_2007)
                        map.removeLayer(geoJsonLayers.residentsFellows_2008)
                        map.removeLayer(geoJsonLayers.residentsFellows_2009)
                        map.removeLayer(geoJsonLayers.residentsFellows_2010)
                        map.removeLayer(geoJsonLayers.residentsFellows_2011)
                        map.removeLayer(geoJsonLayers.residentsFellows_2012)
                        map.removeLayer(geoJsonLayers.residentsFellows_2013)
                        map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                    }
                });

                 if(document.getElementById('checkboxCity2').checked) {
                    map.addLayer(geoJsonLayers.residentsFellows_1981)
                    map.addLayer(geoJsonLayers.residentsFellows_1982)
                    map.addLayer(geoJsonLayers.residentsFellows_1990)
                    map.addLayer(geoJsonLayers.residentsFellows_1991)
                    map.addLayer(geoJsonLayers.residentsFellows_1995)
                    map.addLayer(geoJsonLayers.residentsFellows_1996)
                    map.addLayer(geoJsonLayers.residentsFellows_1997)
                    map.addLayer(geoJsonLayers.residentsFellows_1998)
                    map.addLayer(geoJsonLayers.residentsFellows_1999)
                    map.addLayer(geoJsonLayers.residentsFellows_2003)
                    map.addLayer(geoJsonLayers.residentsFellows_2004)
                    map.addLayer(geoJsonLayers.residentsFellows_2005)
                    map.addLayer(geoJsonLayers.residentsFellows_2006)
                    map.addLayer(geoJsonLayers.residentsFellows_2007)
                    map.addLayer(geoJsonLayers.residentsFellows_2008)
                    map.addLayer(geoJsonLayers.residentsFellows_2009)
                    map.addLayer(geoJsonLayers.residentsFellows_2010)
                    map.addLayer(geoJsonLayers.residentsFellows_2011)
                    map.addLayer(geoJsonLayers.residentsFellows_2012)
                    map.addLayer(geoJsonLayers.residentsFellows_2013)
                    map.addLayer(geoJsonLayers.residentsFellows_2014) 
                } else {
                    map.removeLayer(geoJsonLayers.residentsFellows_1981)
                    map.removeLayer(geoJsonLayers.residentsFellows_1982)
                    map.removeLayer(geoJsonLayers.residentsFellows_1990)
                    map.removeLayer(geoJsonLayers.residentsFellows_1991)
                    map.removeLayer(geoJsonLayers.residentsFellows_1995)
                    map.removeLayer(geoJsonLayers.residentsFellows_1996)
                    map.removeLayer(geoJsonLayers.residentsFellows_1997)
                    map.removeLayer(geoJsonLayers.residentsFellows_1998)
                    map.removeLayer(geoJsonLayers.residentsFellows_1999)
                    map.removeLayer(geoJsonLayers.residentsFellows_2003)
                    map.removeLayer(geoJsonLayers.residentsFellows_2004)
                    map.removeLayer(geoJsonLayers.residentsFellows_2005)
                    map.removeLayer(geoJsonLayers.residentsFellows_2006)
                    map.removeLayer(geoJsonLayers.residentsFellows_2007)
                    map.removeLayer(geoJsonLayers.residentsFellows_2008)
                    map.removeLayer(geoJsonLayers.residentsFellows_2009)
                    map.removeLayer(geoJsonLayers.residentsFellows_2010)
                    map.removeLayer(geoJsonLayers.residentsFellows_2011)
                    map.removeLayer(geoJsonLayers.residentsFellows_2012)
                    map.removeLayer(geoJsonLayers.residentsFellows_2013)
                    map.removeLayer(geoJsonLayers.residentsFellows_2014) 
                }
            }


            //     //else if reverse clicked, decreasing increments by 1
            // } else if ($(this).attr('id')=='reverse'){
            //     index--;
            //     index=index < 1971 ? 2016 : index;
            //     console.log(index);
            //     if (index == 1973) {
            //         getResidentsData1973(map)
            //         // year = 2013;
            //         //
            //         // console.log(year);
            //         // console.log("2013 is the current index");
            //         // console.log(geoJsonLayers);
            //         //   map.removeLayer(geoJsonLayers.residents_1971);
            //         //map.removeLayer(geoJsonLayers.fellows)
            //         var others = L.geoJson(geoJsonLayers.fellows, {
            //             filter: function(feature, layer) {
            //                 console.log("amazing filter");
            //                 console.log(others);
            //
            //                 return feature.properties.info_date == year;
            //                 map.addLayer(geoJsonLayers.fellows)
            //             }
            //
            //         });
            //
            //         //filterLayer(2013)
            //
            //         //filterByYear(fellows.geojson, year)
            //         // map.removeLayer(geoJsonLayers.fellows)
            //         //   date.addTo(Map)
            //         // //map.removeLayer(geoJsonLayers.residentsFellows)
            //         //map.removeLayer(geoJsonLayers.faculty)
            //
            //         //filterByYear(geoJsonLayers.fellows)
            //     }
            //
            // }
//add slider
            $('.range-slider').val(index);
//should updatePropSymbols with interaction
            // if (index = 2015) {
            //     console.log(hellsyea)
            //   }
        return index;
        });


    }

    createSequenceControls(map);

//     function createLegend2(map, index){
    
//     console.log(index)
//     var legendControl = L.Control.extend({
//         options: {
//             position: 'bottomright'
//         },
//         onAdd: function(map){
//            //create the container with a class name
//             var container = L.DomUtil.create('div', 'legend-control-container');

         
//             container.innerHTML += '<b></b>poopy<br>'  // don't forget the break tag
//             //create temporal legend
//             $(container).append('<div id = "temporal-legend">');

//             //create attribute legend storage 
//             var svg = '<svg id = "attribute-legend" width = "5000px" height = "270px">';

//             //create an circle names for loop
//             var circles = {
//                 max: 20,
//                 mean: 40,
//                 min: 60
//             };
            

         
//                 svg += '<text id = "' + '-text" fill="#FFF" x= 82 y="0' + "ssdfsdfsd" + '"></text>';
//                  $('#'+ '-text').text(" Installations");
        

//             //close svg string
//             svg += "</svg>";

//             //add attribute legend svg to container
//             $(container).append(svg);

//             return container;
//         }
//     });
//     // //add the legendControl to map
//     map.addControl(new legendControl);
//     // //call function to update the legend to first attribute
//     // updateLegend(map, attributes[0]);
// var circleValues = getCircleValues(map, attribute);

//     for (var key in circleValues) {
//         //get the radius
//         var radius = calcPropRadius(circleValues[key]);

//         //assign the cy and r attributes (calculates circle footprint)
//         $('#'+key).attr({
//             cy: 60-radius,
//             r: radius
//         });
//         //add legend text
//         $('#'+key+'-text').text(Math.round(circleValues[key]*100)/100 + " Installations");
// };



// };

    
    function createLegend3(map, index){
    
    console.log(index)
    var legendControl = L.Control.extend({
        options: {
            position: 'bottomright'
        },
        onAdd: function(map){
           //create the container with a class name
            var container = L.DomUtil.create('div', 'legend-control-container');
          
            container.innerHTML += index
            //create temporal legend
            return container;
        }
    });
    // //add the legendControl to map
    map.addControl(new legendControl); 
    return legendControl;

};

        
        //legend1.addTo(map);

function getCircleValues(map, attribute){
    //start with min at highest possible and max at lowest possible number
    console.log(attribute)
    var min = Infinity,
        max = -Infinity;
    //for each layer,
    map.eachLayer(function(layer){
        //get the attribute value
        if (layer.feature){
            var attributeValue = Number(layer.feature.properties[attribute]);

            //test for min
            if (attributeValue<min){
                min = attributeValue;
            };

            //test for max
            if (attributeValue>max){
                max = attributeValue;
            };
        };
    });

    //set mean
    var mean = (max)/2;

    //return values as an objest
    return {
        max: max,
        mean: mean,
        min: min
    };
};

createLegend(map, index)


//     // Initialize a new plugin instance for all
//     // e.g. $('input[type="range"]') elements.
//     $('input[type="range"]').rangeslider();

//     // Destroy all plugin instances created from the
//     // e.g. $('input[type="range"]') elements.
//     $('input[type="range"]').rangeslider('destroy');

//     // Update all rangeslider instances for all
//     // e.g. $('input[type="range"]') elements.
//     // Usefull if you changed some attributes e.g. `min` or `max` etc.
//     $('input[type="range"]').rangeslider('update', true);

// $('input[type="range"]').rangeslider({

//     // Feature detection the default is `true`.
//     // Set this to `false` if you want to use
//     // the polyfill also in Browsers which support
//     // the native <input type="range"> element.
//     polyfill: true,

//     // Default CSS classes
//     rangeClass: 'rangeslider',
//     disabledClass: 'rangeslider--disabled',
//     horizontalClass: 'rangeslider--horizontal',
//     verticalClass: 'rangeslider--vertical',
//     fillClass: 'rangeslider__fill',
//     handleClass: 'rangeslider__handle',

//     // Callback function
//     onInit: function() {},

//     // Callback function
//     onSlide: function(position, value) {},

//     // Callback function
//     onSlideEnd: function(position, value) {}
// });

// onInit()
// onSlide()
// onSlideEnd()


// var $element = $('input[type="range"]');
// var $handle;

// $element
//   .rangeslider({
//     polyfill: false,
//     onInit: function() {
//       $handle = $('.rangeslider__handle', this.$range);
//       updateHandle($handle[0], this.value);
//     }
//   })
//   .on('input', function() {
//     updateHandle($handle[0], this.value);
//   });

// function updateHandle(el, val) {
//   el.textContent = val;
// }


    function filterByYear(data, year) {
        f = data.filter(function (d) {
            return d.features.properties.info_date == year;
        });
        return f;
    }

//map.removeLayer(geoJsonLayer.fellows)
    var date = L.geoJson(geoJsonLayers.fellows, {
        filter: function (feature, layer) {
            return feature.properties.info_date == 2013;
        }
    });

// function filterLayer(year) {
//     filter: function(feature, geoJsonLayers.fellows) {
//         return feature.properties.info_date == year;
//     }
// }

    console.log(geoJsonLayers);

    var picnic_parks = L.geoJson(myJson, {filter: picnicFilter}).addTo(map);

    function picnicFilter(feature) {
        if (feature.properties.Picnic === "Yes") return true
    }

    var arr = {};//this array to hold your filterred object
    geoJsonLayers.eachLayer(function (layer) {
        if (layer.feature.properties.info_date === 2010) {
            console.log("ture")
            arr.push(layer)
        }
    })


//Legend

L.Legend = L.Control.extend({
    'onAdd': function (map) {

        // add reference to mapinstance
        map.legend = this;

        // create container
        var container = L.DomUtil.create('div', 'legend-control-container');

        // if content provided
        if (this.options.content) {

            // set content
            container.innerHTML = this.options.content;

        }
        return container;
    },
    'onRemove': function (map) {

      // remove reference from mapinstance
      delete map.legend;

    },

    // new method for setting innerHTML
    'setContent': function(str) {
        this.getContainer().innerHTML = str;
    }
});


new L.Map('leaflet', {
    'center': [0, 0],
    'zoom': 0
}).addControl(new L.Legend({
    'position': 'bottomleft',
    'content': new Date  
})).on('click', function (e) {

    // use reference on mapinstance
    this.legend.setContent(new Date);

}); 

console.log(L.Legend)
 this.legend.setContent(2003);

// $( "input" ).change(function( event ) {
//     console.log("clicky")
//     geoJsonLayers.residents_1995 = window[event.target.value];
//     if (map.hasLayer(geoJsonLayers.residents_1995)) {
//         map.removeLayer(geoJsonLayers.residents_1995);
//     }
//
// });




}
$(document).ready(createMap);